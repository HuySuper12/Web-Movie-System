2025-05-08 14:08:10.490 +07:00 [INF] Start installing Hangfire SQL objects...
2025-05-08 14:08:18.973 +07:00 [INF] Hangfire SQL objects installed.
2025-05-08 14:08:19.458 +07:00 [INF] User profile is available. Using 'C:\Users\Lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-08 14:08:20.332 +07:00 [INF] Now listening on: https://localhost:7182
2025-05-08 14:08:20.334 +07:00 [INF] Now listening on: http://localhost:5123
2025-05-08 14:08:20.375 +07:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: (local)@HangFire_CinemaHub'
2025-05-08 14:08:20.375 +07:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-05-08 14:08:20.376 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-05-08 14:08:20.392 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-08 14:08:20.393 +07:00 [INF] Hosting environment: Development
2025-05-08 14:08:20.393 +07:00 [INF] Content root path: D:\CinemaHub\CinemaHub.API
2025-05-08 14:08:20.401 +07:00 [INF] Server laptop-q4e4lsdq:24312:06d6bfe0 successfully announced in 10.2869 ms
2025-05-08 14:08:20.406 +07:00 [INF] Server laptop-q4e4lsdq:24312:06d6bfe0 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-05-08 14:08:20.417 +07:00 [INF] 1 servers were removed due to timeout
2025-05-08 14:08:20.463 +07:00 [INF] Server laptop-q4e4lsdq:24312:06d6bfe0 all the dispatchers started
2025-05-08 14:08:21.140 +07:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'Account'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-08 14:08:21.606 +07:00 [INF] Executed DbCommand (28ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:08:21.797 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:08:21.847 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/swagger/index.html - null null
2025-05-08 14:08:22.080 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/swagger/index.html - 200 null text/html;charset=utf-8 240.5434ms
2025-05-08 14:08:22.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/_vs/browserLink - null null
2025-05-08 14:08:22.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/_framework/aspnetcore-browser-refresh.js - null null
2025-05-08 14:08:22.108 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 14.1164ms
2025-05-08 14:08:22.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/_vs/browserLink - 200 null text/javascript; charset=UTF-8 55.484ms
2025-05-08 14:08:22.187 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/swagger/v1/swagger.json - null null
2025-05-08 14:08:22.330 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 143.4247ms
2025-05-08 14:08:26.949 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:08:26.963 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:08:28.233 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:08:28.237 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:08:28.258 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:08:28.329 +07:00 [INF] ViewRatingStatistic API called.
2025-05-08 14:08:28.450 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-08 14:08:28.479 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:08:28.504 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:08:28.514 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:08:28.518 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:08:28.522 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:08:28.525 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:08:28.532 +07:00 [INF] ViewRatingStatistic completed successfully at "2025-05-08T07:08:28.5321899Z"
2025-05-08 14:08:28.564 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.ViewRatingStatisticResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:08:28.573 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 308.9821ms
2025-05-08 14:08:28.574 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:08:28.577 +07:00 [INF] Response: 200
2025-05-08 14:08:28.578 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 null application/json; charset=utf-8 1632.6065ms
2025-05-08 14:09:05.625 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:09:05.634 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:12:16.255 +07:00 [INF] Start installing Hangfire SQL objects...
2025-05-08 14:12:16.858 +07:00 [INF] Hangfire SQL objects installed.
2025-05-08 14:12:17.317 +07:00 [INF] User profile is available. Using 'C:\Users\Lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-08 14:12:17.917 +07:00 [INF] Now listening on: https://localhost:7182
2025-05-08 14:12:17.918 +07:00 [INF] Now listening on: http://localhost:5123
2025-05-08 14:12:17.955 +07:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: (local)@HangFire_CinemaHub'
2025-05-08 14:12:17.955 +07:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-05-08 14:12:17.956 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-05-08 14:12:17.972 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-08 14:12:17.973 +07:00 [INF] Hosting environment: Development
2025-05-08 14:12:17.974 +07:00 [INF] Content root path: D:\CinemaHub\CinemaHub.API
2025-05-08 14:12:17.977 +07:00 [INF] Server laptop-q4e4lsdq:15612:91909409 successfully announced in 6.5165 ms
2025-05-08 14:12:17.982 +07:00 [INF] Server laptop-q4e4lsdq:15612:91909409 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-05-08 14:12:18.067 +07:00 [INF] Server laptop-q4e4lsdq:15612:91909409 all the dispatchers started
2025-05-08 14:12:18.822 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/swagger/index.html - null null
2025-05-08 14:12:18.876 +07:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'Account'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-08 14:12:18.997 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/swagger/index.html - 200 null text/html;charset=utf-8 180.7169ms
2025-05-08 14:12:19.008 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/_framework/aspnetcore-browser-refresh.js - null null
2025-05-08 14:12:19.008 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/_vs/browserLink - null null
2025-05-08 14:12:19.014 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 6.3774ms
2025-05-08 14:12:19.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/_vs/browserLink - 200 null text/javascript; charset=UTF-8 38.0428ms
2025-05-08 14:12:19.085 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/swagger/v1/swagger.json - null null
2025-05-08 14:12:19.193 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 108.7101ms
2025-05-08 14:12:19.312 +07:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:12:19.435 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:12:35.891 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - null null
2025-05-08 14:12:35.899 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-in
2025-05-08 14:12:36.991 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:36.993 +07:00 [INF] Response: 204
2025-05-08 14:12:36.994 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - 204 null null 1104.0017ms
2025-05-08 14:12:37.000 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 52
2025-05-08 14:12:37.005 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:12:37.008 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.011 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:12:37.038 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:12:37.087 +07:00 [INF] SignIn API called.
2025-05-08 14:12:37.171 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:12:37.322 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:12:37.508 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:12:37.543 +07:00 [INF] SignIn completed successfully for Email huy260704@gmail.com at "2025-05-08T07:12:37.5436927Z"
2025-05-08 14:12:37.551 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:12:37.565 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 520.8878ms
2025-05-08 14:12:37.568 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:12:37.569 +07:00 [INF] Response: 200
2025-05-08 14:12:37.570 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 570.548ms
2025-05-08 14:12:37.601 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:12:37.601 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:12:37.602 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:12:37.602 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:12:37.605 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:12:37.610 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:12:37.607 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:12:37.612 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:12:37.614 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.614 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.614 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.614 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.615 +07:00 [INF] Response: 204
2025-05-08 14:12:37.616 +07:00 [INF] Response: 204
2025-05-08 14:12:37.617 +07:00 [INF] Response: 204
2025-05-08 14:12:37.617 +07:00 [INF] Response: 204
2025-05-08 14:12:37.618 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 16.7388ms
2025-05-08 14:12:37.621 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 19.3888ms
2025-05-08 14:12:37.623 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:12:37.621 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:12:37.622 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:12:37.619 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 17.1897ms
2025-05-08 14:12:37.620 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 17.9972ms
2025-05-08 14:12:37.625 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:12:37.635 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:12:37.638 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:12:37.642 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:12:37.650 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:12:37.705 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.705 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.705 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.705 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:12:37.706 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:12:37.707 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:12:37.707 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:12:37.708 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:12:37.717 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:12:37.717 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:12:37.717 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:12:37.718 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:12:37.723 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:12:37.724 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:12:37.760 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:12:37.775 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:12:37.783 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:12:37.7835371Z"
2025-05-08 14:12:37.788 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:12:37.792 +07:00 [INF] ViewUserNotificationUnRead API called.
2025-05-08 14:12:37.794 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:12:37.798 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 73.302ms
2025-05-08 14:12:37.799 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:12:37.800 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:12:37.802 +07:00 [INF] Response: 200
2025-05-08 14:12:37.805 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 183.1838ms
2025-05-08 14:12:37.821 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 101.9813ms
2025-05-08 14:12:37.822 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:12:37.823 +07:00 [INF] Response: 200
2025-05-08 14:12:37.824 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 202.869ms
2025-05-08 14:12:37.832 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 4000), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [n].[NotificationID], [n].[Content], [n].[ContentDetail], [n].[CreatedAt], [n].[ReceiverId], [n].[Status], [n].[Title], [n].[UserId]
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit) AND [n].[NotificationID] < @__Parse_1
ORDER BY [n].[NotificationID] DESC
2025-05-08 14:12:37.837 +07:00 [INF] ViewUserNotificationUnRead completed successfully for Email huy260704@gmail.com at "2025-05-08T07:12:37.8373301Z"
2025-05-08 14:12:37.845 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:12:37.850 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:12:37.8502167Z"
2025-05-08 14:12:37.851 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:12:37.854 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 133.4871ms
2025-05-08 14:12:37.856 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:12:37.857 +07:00 [INF] Response: 200
2025-05-08 14:12:37.858 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 232.9732ms
2025-05-08 14:12:37.883 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Notification, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:12:37.893 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 170.592ms
2025-05-08 14:12:37.895 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:12:37.896 +07:00 [INF] Response: 200
2025-05-08 14:12:37.896 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 null application/json; charset=utf-8 273.9756ms
2025-05-08 14:13:03.231 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:13:03.238 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:13:19.511 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - null null
2025-05-08 14:13:19.514 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:13:19.516 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:13:19.517 +07:00 [INF] Response: 204
2025-05-08 14:13:19.517 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 204 null null 6.2375ms
2025-05-08 14:13:19.520 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - application/json 2
2025-05-08 14:13:19.528 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:13:19.528 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:13:19.529 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:13:19.535 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:13:19.539 +07:00 [INF] SignOut API called.
2025-05-08 14:13:19.551 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:13:19.568 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:13:19.590 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 14:13:19.596 +07:00 [INF] SignOut completed successful for Email huy260704@gmail.com at "2025-05-08T07:13:19.5968493Z"
2025-05-08 14:13:19.599 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:13:19.604 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 66.8913ms
2025-05-08 14:13:19.605 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:13:19.606 +07:00 [INF] Response: 200
2025-05-08 14:13:19.607 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 200 null application/json; charset=utf-8 87.9479ms
2025-05-08 14:13:24.598 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:13:24.601 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:13:24.602 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:13:24.603 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:13:24.605 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:13:24.612 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:13:24.614 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 6.6608ms
2025-05-08 14:13:24.616 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:13:24.618 +07:00 [INF] Response: 200
2025-05-08 14:13:24.619 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 20.6964ms
2025-05-08 14:14:03.245 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:14:03.250 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:14:44.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:14:44.198 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:14:44.199 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:14:44.200 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:14:44.201 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:14:44.205 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:14:44.207 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 4.1304ms
2025-05-08 14:14:44.209 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:14:44.214 +07:00 [INF] Response: 200
2025-05-08 14:14:44.224 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 28.815ms
2025-05-08 14:14:47.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:14:47.226 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:14:47.228 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:14:47.229 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:14:47.231 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:14:47.238 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:14:47.240 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 6.5189ms
2025-05-08 14:14:47.242 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:14:47.243 +07:00 [INF] Response: 200
2025-05-08 14:14:47.244 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 23.6145ms
2025-05-08 14:15:03.289 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:15:03.293 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:16:03.344 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:16:03.348 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:16:17.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:16:17.106 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:16:17.108 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:16:17.109 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:16:17.110 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:16:17.114 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:16:17.116 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 4.0143ms
2025-05-08 14:16:17.118 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:16:17.120 +07:00 [INF] Response: 200
2025-05-08 14:16:17.121 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 17.6049ms
2025-05-08 14:17:03.391 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:17:03.398 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:17:18.003 +07:00 [INF] 1 servers were removed due to timeout
2025-05-08 14:18:03.434 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:18:03.442 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:19:03.462 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:19:03.466 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:20:03.511 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:20:03.520 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:21:37.540 +07:00 [INF] Start installing Hangfire SQL objects...
2025-05-08 14:21:37.793 +07:00 [INF] Hangfire SQL objects installed.
2025-05-08 14:21:37.924 +07:00 [INF] User profile is available. Using 'C:\Users\Lenovo\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-08 14:21:38.265 +07:00 [INF] Now listening on: https://localhost:7182
2025-05-08 14:21:38.266 +07:00 [INF] Now listening on: http://localhost:5123
2025-05-08 14:21:38.303 +07:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: (local)@HangFire_CinemaHub'
2025-05-08 14:21:38.304 +07:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:00.
2025-05-08 14:21:38.304 +07:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2025-05-08 14:21:38.319 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-08 14:21:38.321 +07:00 [INF] Hosting environment: Development
2025-05-08 14:21:38.322 +07:00 [INF] Content root path: D:\CinemaHub\CinemaHub.API
2025-05-08 14:21:38.325 +07:00 [INF] Server laptop-q4e4lsdq:9104:3a0cea15 successfully announced in 5.6764 ms
2025-05-08 14:21:38.327 +07:00 [INF] Server laptop-q4e4lsdq:9104:3a0cea15 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2025-05-08 14:21:38.378 +07:00 [INF] Server laptop-q4e4lsdq:9104:3a0cea15 all the dispatchers started
2025-05-08 14:21:39.007 +07:00 [WRN] No store type was specified for the decimal property 'Balance' on entity type 'Account'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-08 14:21:39.325 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/swagger/index.html - null null
2025-05-08 14:21:39.527 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:21:39.534 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/swagger/index.html - 200 null text/html;charset=utf-8 216.7897ms
2025-05-08 14:21:39.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/_framework/aspnetcore-browser-refresh.js - null null
2025-05-08 14:21:39.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/_vs/browserLink - null null
2025-05-08 14:21:39.562 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 7.7132ms
2025-05-08 14:21:39.599 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.3741ms
2025-05-08 14:21:39.638 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/swagger/v1/swagger.json - null null
2025-05-08 14:21:39.673 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:21:39.763 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 125.4916ms
2025-05-08 14:22:08.574 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:22:08.581 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:22:15.099 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:22:15.115 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:22:15.209 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:15.213 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:15.251 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:15.342 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:15.351 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 93.8337ms
2025-05-08 14:22:15.353 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:15.356 +07:00 [INF] Response: 200
2025-05-08 14:22:15.358 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 258.9286ms
2025-05-08 14:22:18.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:22:18.100 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:22:18.104 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:18.105 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:18.106 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:18.114 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:18.116 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 6.6733ms
2025-05-08 14:22:18.117 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:18.118 +07:00 [INF] Response: 200
2025-05-08 14:22:18.120 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 26.1274ms
2025-05-08 14:22:23.097 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:22:23.101 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:22:23.105 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:23.106 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:23.108 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:23.115 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:23.116 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 4.5917ms
2025-05-08 14:22:23.118 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:23.119 +07:00 [INF] Response: 200
2025-05-08 14:22:23.121 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 24.6515ms
2025-05-08 14:22:26.972 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - null null
2025-05-08 14:22:26.976 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-in
2025-05-08 14:22:26.977 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:26.979 +07:00 [INF] Response: 204
2025-05-08 14:22:26.979 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - 204 null null 7.2077ms
2025-05-08 14:22:26.985 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 52
2025-05-08 14:22:26.991 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:22:26.992 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:26.993 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:22:26.999 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:22:27.020 +07:00 [INF] SignIn API called.
2025-05-08 14:22:27.058 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:22:27.185 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:22:27.314 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:22:27.343 +07:00 [INF] SignIn completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:27.3430105Z"
2025-05-08 14:22:27.348 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:27.356 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 355.1682ms
2025-05-08 14:22:27.358 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:22:27.359 +07:00 [INF] Response: 200
2025-05-08 14:22:27.360 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 374.5635ms
2025-05-08 14:22:27.391 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:22:27.391 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:22:27.391 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:22:27.394 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:22:27.391 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:22:27.403 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:22:27.405 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:22:27.405 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:27.408 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:22:27.408 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:27.409 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:27.410 +07:00 [INF] Response: 204
2025-05-08 14:22:27.410 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:27.411 +07:00 [INF] Response: 204
2025-05-08 14:22:27.411 +07:00 [INF] Response: 204
2025-05-08 14:22:27.412 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 21.4118ms
2025-05-08 14:22:27.414 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:22:27.413 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 22.1953ms
2025-05-08 14:22:27.413 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 22.7164ms
2025-05-08 14:22:27.428 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:22:27.420 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:22:27.412 +07:00 [INF] Response: 204
2025-05-08 14:22:27.415 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:22:27.439 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:22:27.440 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 49.0441ms
2025-05-08 14:22:27.442 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:22:27.443 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:22:27.449 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:22:27.480 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:27.480 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:27.480 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:27.480 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:27.481 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:27.481 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:27.482 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:27.482 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:27.483 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:27.489 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:27.490 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:27.490 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:27.491 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:27.493 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 5.1537ms
2025-05-08 14:22:27.495 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:22:27.499 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:27.500 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:27.501 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:22:27.502 +07:00 [INF] Response: 200
2025-05-08 14:22:27.504 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 83.1149ms
2025-05-08 14:22:27.505 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 9.9586ms
2025-05-08 14:22:27.508 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:27.509 +07:00 [INF] Response: 200
2025-05-08 14:22:27.510 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 96.669ms
2025-05-08 14:22:27.521 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:27.534 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:27.541 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:27.5413845Z"
2025-05-08 14:22:27.542 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:27.566 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 68.7139ms
2025-05-08 14:22:27.568 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:27.569 +07:00 [INF] Response: 200
2025-05-08 14:22:27.570 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 128.3632ms
2025-05-08 14:22:27.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:22:27.595 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:22:27.5953145Z"
2025-05-08 14:22:27.596 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:27.600 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 108.1841ms
2025-05-08 14:22:27.601 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:27.603 +07:00 [INF] Response: 200
2025-05-08 14:22:27.604 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 189.4163ms
2025-05-08 14:22:31.834 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:22:31.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:22:31.834 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:22:31.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:22:31.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:22:31.834 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:22:31.834 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:22:31.837 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:22:31.839 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:22:31.843 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:22:31.845 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:22:31.848 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:22:31.852 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:22:31.855 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:22:31.855 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.856 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.857 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.858 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.858 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.859 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.860 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.861 +07:00 [INF] Response: 204
2025-05-08 14:22:31.862 +07:00 [INF] Response: 204
2025-05-08 14:22:31.862 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:31.867 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 204 null null 33.2496ms
2025-05-08 14:22:31.863 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:31.873 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:31.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:22:31.882 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:31.867 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 32.5364ms
2025-05-08 14:22:31.864 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:31.865 +07:00 [INF] Response: 204
2025-05-08 14:22:31.866 +07:00 [INF] Response: 204
2025-05-08 14:22:31.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:22:31.900 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:22:31.889 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:22:31.887 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:22:31.891 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:22:31.900 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:22:31.896 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:31.910 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:22:31.918 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:22:31.897 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 62.9125ms
2025-05-08 14:22:31.911 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.928 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.928 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.898 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 64.0848ms
2025-05-08 14:22:31.904 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:22:31.919 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:31.919 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:31.934 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:31.937 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:22:31.938 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:22:31.951 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:22:31.938 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:22:31.943 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:31.946 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:31.9465534Z"
2025-05-08 14:22:31.961 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:22:31.9614725Z"
2025-05-08 14:22:31.961 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 38.6161ms
2025-05-08 14:22:31.962 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:22:31.963 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:22:31.965 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:31.965 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:31.965 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:31.977 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 86.0476ms
2025-05-08 14:22:31.964 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:31.966 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:31.974 +07:00 [INF] ViewAllGenres API called.
2025-05-08 14:22:31.980 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:31.980 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:22:31.981 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:31.982 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:22:31.984 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 97.8402ms
2025-05-08 14:22:31.985 +07:00 [INF] Response: 200
2025-05-08 14:22:31.990 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:22:31.990 +07:00 [INF] Response: 200
2025-05-08 14:22:31.992 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:31.993 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 159.25ms
2025-05-08 14:22:31.995 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 161.0786ms
2025-05-08 14:22:31.997 +07:00 [INF] Response: 200
2025-05-08 14:22:32.005 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 170.5498ms
2025-05-08 14:22:32.014 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:22:32.021 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:22:32.0213675Z"
2025-05-08 14:22:32.024 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:32.024 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:22:32.032 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 51.5622ms
2025-05-08 14:22:32.032 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:22:32.0328261Z"
2025-05-08 14:22:32.033 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:22:32.035 +07:00 [INF] Response: 200
2025-05-08 14:22:32.036 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 137.0013ms
2025-05-08 14:22:32.037 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:32.045 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 56.634ms
2025-05-08 14:22:32.046 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:22:32.047 +07:00 [INF] Response: 200
2025-05-08 14:22:32.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 172.6622ms
2025-05-08 14:22:32.069 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-08 14:22:32.081 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[GenreID], [m].[GenreName], [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t].[MovieID0], [t].[GenreID]
FROM [MovieGenres] AS [m]
LEFT JOIN (
    SELECT [m1].[MovieID], [m1].[Description], [m1].[Director], [m1].[Duration], [m1].[Language], [m1].[ReleaseDate], [m1].[Status], [m1].[Thumbnail], [m1].[Title], [m1].[TrailerURL], [m1].[UploadedBy], [m1].[VideoURL], [m0].[MovieID] AS [MovieID0], [m0].[GenreID]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [Movies] AS [m1] ON [m0].[MovieID] = [m1].[MovieID]
) AS [t] ON [m].[GenreID] = [t].[GenreID]
ORDER BY [m].[GenreID], [t].[MovieID0], [t].[GenreID]
2025-05-08 14:22:32.082 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:22:32.111 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:22:32.1118535Z"
2025-05-08 14:22:32.113 +07:00 [INF] ViewAllGenres completed successfully at "2025-05-08T07:22:32.1131089Z"
2025-05-08 14:22:32.171 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.MovieGenre, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:32.171 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:32.175 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 206.3807ms
2025-05-08 14:22:32.177 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:22:32.178 +07:00 [INF] Response: 200
2025-05-08 14:22:32.179 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 null application/json; charset=utf-8 278.6614ms
2025-05-08 14:22:32.185 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 210.8146ms
2025-05-08 14:22:32.186 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:22:32.187 +07:00 [INF] Response: 200
2025-05-08 14:22:32.188 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 312.7149ms
2025-05-08 14:22:35.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=126 - null null
2025-05-08 14:22:35.116 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:22:35.117 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:35.118 +07:00 [INF] Response: 204
2025-05-08 14:22:35.119 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=126 - 204 null null 6.1841ms
2025-05-08 14:22:35.121 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=126 - null null
2025-05-08 14:22:35.126 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:22:35.127 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:35.128 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:22:35.130 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:35.135 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:22:35.143 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:22:35.151 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:22:35.1510650Z"
2025-05-08 14:22:35.154 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:35.157 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 24.6529ms
2025-05-08 14:22:35.158 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:22:35.159 +07:00 [INF] Response: 200
2025-05-08 14:22:35.160 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=126 - 200 null application/json; charset=utf-8 39.4428ms
2025-05-08 14:22:37.828 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=117 - null null
2025-05-08 14:22:37.832 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:22:37.833 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:37.833 +07:00 [INF] Response: 204
2025-05-08 14:22:37.834 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=117 - 204 null null 6.4033ms
2025-05-08 14:22:37.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=117 - null null
2025-05-08 14:22:37.842 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:22:37.843 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:37.844 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:22:37.845 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:37.849 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:22:37.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:22:37.869 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:22:37.8697470Z"
2025-05-08 14:22:37.872 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:37.875 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 28.0094ms
2025-05-08 14:22:37.877 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:22:37.878 +07:00 [INF] Response: 200
2025-05-08 14:22:37.879 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=117 - 200 null application/json; charset=utf-8 42.7712ms
2025-05-08 14:22:40.398 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:22:40.398 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:22:40.398 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:22:40.398 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:22:40.403 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:22:40.406 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:22:40.409 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:22:40.412 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:22:40.413 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:40.413 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:40.414 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:40.414 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:40.415 +07:00 [INF] Response: 204
2025-05-08 14:22:40.416 +07:00 [INF] Response: 204
2025-05-08 14:22:40.417 +07:00 [INF] Response: 204
2025-05-08 14:22:40.418 +07:00 [INF] Response: 204
2025-05-08 14:22:40.419 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 21.7645ms
2025-05-08 14:22:40.420 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 22.5611ms
2025-05-08 14:22:40.422 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:22:40.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:22:40.421 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:22:40.422 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 24.2211ms
2025-05-08 14:22:40.419 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 21.0839ms
2025-05-08 14:22:40.424 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:22:40.433 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:22:40.436 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:22:40.439 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:22:40.450 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:22:40.451 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:40.452 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:40.452 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:40.453 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:40.454 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:40.454 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:40.455 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:40.456 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:40.457 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:40.458 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:40.460 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:40.459 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:40.465 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:40.469 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:22:40.467 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:22:40.474 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:40.475 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 12.7314ms
2025-05-08 14:22:40.479 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 7.0844ms
2025-05-08 14:22:40.482 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:40.482 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:40.480 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:22:40.492 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:40.4921158Z"
2025-05-08 14:22:40.482 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:40.496 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:22:40.496 +07:00 [INF] Response: 200
2025-05-08 14:22:40.498 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:40.498 +07:00 [INF] Response: 200
2025-05-08 14:22:40.501 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:22:40.5013286Z"
2025-05-08 14:22:40.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 79.9932ms
2025-05-08 14:22:40.503 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 36.531ms
2025-05-08 14:22:40.504 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 83.5079ms
2025-05-08 14:22:40.505 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:40.509 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:40.514 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 44.4864ms
2025-05-08 14:22:40.515 +07:00 [INF] Response: 200
2025-05-08 14:22:40.516 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:40.517 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 96.4934ms
2025-05-08 14:22:40.518 +07:00 [INF] Response: 200
2025-05-08 14:22:40.523 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 99.2228ms
2025-05-08 14:22:41.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:22:41.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:22:41.387 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:22:41.387 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:22:41.388 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:22:41.388 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:22:41.390 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:22:41.393 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:22:41.395 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:22:41.398 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:22:41.401 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:22:41.403 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:22:41.404 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.405 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.405 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.406 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.406 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.407 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.407 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:41.408 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:41.408 +07:00 [INF] Response: 204
2025-05-08 14:22:41.409 +07:00 [INF] Response: 204
2025-05-08 14:22:41.410 +07:00 [INF] Response: 204
2025-05-08 14:22:41.410 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:41.411 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:41.412 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:41.414 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 26.4209ms
2025-05-08 14:22:41.419 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:22:41.418 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:22:41.419 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:22:41.416 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:41.413 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 25.9102ms
2025-05-08 14:22:41.421 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:41.414 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 26.626ms
2025-05-08 14:22:41.422 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:22:41.428 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:22:41.430 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:22:41.433 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:22:41.435 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:22:41.445 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.445 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.449 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:22:41.446 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:41.452 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:41.451 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:22:41.454 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:22:41.454 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:41.447 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:41.457 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:22:41.458 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:22:41.460 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:41.472 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:41.476 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:22:41.474 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:22:41.480 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:22:41.4806081Z"
2025-05-08 14:22:41.464 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:22:41.467 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:41.4670048Z"
2025-05-08 14:22:41.481 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:41.485 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:22:41.477 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 7.3255ms
2025-05-08 14:22:41.484 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:22:41.4840351Z"
2025-05-08 14:22:41.488 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:41.441 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 22.8603ms
2025-05-08 14:22:41.490 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 32.3092ms
2025-05-08 14:22:41.492 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:22:41.4922980Z"
2025-05-08 14:22:41.493 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:22:41.494 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:41.495 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 72.6711ms
2025-05-08 14:22:41.496 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:41.497 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:22:41.498 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:41.500 +07:00 [INF] Response: 200
2025-05-08 14:22:41.501 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 66.1478ms
2025-05-08 14:22:41.503 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:41.504 +07:00 [INF] Response: 200
2025-05-08 14:22:41.504 +07:00 [INF] Response: 200
2025-05-08 14:22:41.506 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 32.1005ms
2025-05-08 14:22:41.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 88.3521ms
2025-05-08 14:22:41.508 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:41.509 +07:00 [INF] Response: 200
2025-05-08 14:22:41.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 122.4868ms
2025-05-08 14:22:41.510 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 91.2348ms
2025-05-08 14:22:41.511 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:22:41.515 +07:00 [INF] Response: 200
2025-05-08 14:22:41.516 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 128.9392ms
2025-05-08 14:22:41.523 +07:00 [INF] Response: 200
2025-05-08 14:22:41.523 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 135.5043ms
2025-05-08 14:22:41.527 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 108.4825ms
2025-05-08 14:22:47.169 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:22:47.169 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:22:47.171 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:22:47.170 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:22:47.181 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:22:47.170 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - null null
2025-05-08 14:22:47.170 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - null null
2025-05-08 14:22:47.191 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.190 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/135
2025-05-08 14:22:47.195 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last
2025-05-08 14:22:47.178 +07:00 [INF] Incoming Request: OPTIONS /api/Comment/movies/135/comments
2025-05-08 14:22:47.170 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:22:47.170 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:22:47.169 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:22:47.170 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:22:47.170 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:22:47.169 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:22:47.173 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:22:47.170 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:22:47.203 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist
2025-05-08 14:22:47.203 +07:00 [INF] Response: 204
2025-05-08 14:22:47.204 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.205 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.206 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.210 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/135/ratings
2025-05-08 14:22:47.232 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 204 null null 60.9408ms
2025-05-08 14:22:47.232 +07:00 [INF] Response: 204
2025-05-08 14:22:47.233 +07:00 [INF] Response: 204
2025-05-08 14:22:47.231 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.234 +07:00 [INF] Response: 204
2025-05-08 14:22:47.213 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/135/ratings/average
2025-05-08 14:22:47.240 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - 204 null null 69.7563ms
2025-05-08 14:22:47.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:22:47.240 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - 204 null null 70.3802ms
2025-05-08 14:22:47.241 +07:00 [INF] Response: 204
2025-05-08 14:22:47.242 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 204 null null 72.6506ms
2025-05-08 14:22:47.256 +07:00 [INF] Incoming Request: GET /api/Comment/movies/135/comments
2025-05-08 14:22:47.261 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - null null
2025-05-08 14:22:47.260 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - 204 null null 89.8995ms
2025-05-08 14:22:47.235 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.243 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.217 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:22:47.221 +07:00 [INF] Incoming Request: OPTIONS /api/Comment/movies/135/comments
2025-05-08 14:22:47.223 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/135/ratings
2025-05-08 14:22:47.226 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:22:47.227 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.230 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/135/ratings/average
2025-05-08 14:22:47.234 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:22:47.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - null null
2025-05-08 14:22:47.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:22:47.265 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.269 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist
2025-05-08 14:22:47.271 +07:00 [INF] Response: 204
2025-05-08 14:22:47.272 +07:00 [INF] Response: 204
2025-05-08 14:22:47.273 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.273 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.274 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.286 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.287 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.290 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:22:47.290 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:22:47.288 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 204 null null 117.7937ms
2025-05-08 14:22:47.288 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings/average - 204 null null 118.5035ms
2025-05-08 14:22:47.289 +07:00 [INF] Response: 204
2025-05-08 14:22:47.290 +07:00 [INF] Response: 204
2025-05-08 14:22:47.275 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.275 +07:00 [INF] Response: 204
2025-05-08 14:22:47.298 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:22:47.293 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:22:47.296 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings/average
2025-05-08 14:22:47.299 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings
2025-05-08 14:22:47.309 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:22:47.307 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 138.2298ms
2025-05-08 14:22:47.308 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 204 null null 138.1759ms
2025-05-08 14:22:47.291 +07:00 [INF] Response: 204
2025-05-08 14:22:47.311 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:22:47.309 +07:00 [INF] Response: 204
2025-05-08 14:22:47.310 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 141.1532ms
2025-05-08 14:22:47.333 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:22:47.320 +07:00 [INF] Route matched with {action = "CheckUserFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckUserFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:22:47.317 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.317 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.318 +07:00 [INF] ViewAllCommentByMovieId API called.
2025-05-08 14:22:47.320 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:22:47.328 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 204 null null 158.1561ms
2025-05-08 14:22:47.331 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:22:47.331 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 162.3977ms
2025-05-08 14:22:47.276 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.280 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:22:47.285 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last
2025-05-08 14:22:47.285 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:22:47.338 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:22:47.341 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:22:47.342 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.343 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.344 +07:00 [INF] CheckUserFavorite API called.
2025-05-08 14:22:47.348 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.352 +07:00 [INF] Response: 204
2025-05-08 14:22:47.352 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.354 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.354 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.357 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:47.358 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:47.358 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:47.359 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings/average - 204 null null 188.9165ms
2025-05-08 14:22:47.359 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:22:47.360 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:22:47.360 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.361 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:47.361 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:47.362 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:47.374 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:47.367 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:22:47.367 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-08 14:22:47.366 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:22:47.374 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:22:47.373 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:22:47.375 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:47.383 +07:00 [INF] ViewAllRatingByMovieId API called.
2025-05-08 14:22:47.384 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:22:47.402 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.402 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.388 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:22:47.409 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:47.437 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:47.440 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.442 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:47.4420626Z"
2025-05-08 14:22:47.396 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:22:47.405 +07:00 [INF] Route matched with {action = "UserLastWatchHistoryFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLastWatchHistoryFromAPIAsync(System.String, Int32) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:22:47.405 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:22:47.382 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:47.446 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:22:47.462 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:47.462 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:22:47.4629671Z"
2025-05-08 14:22:47.468 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.469 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.452 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.458 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 78.317ms
2025-05-08 14:22:47.459 +07:00 [INF] UserLastWatchHistory API called.
2025-05-08 14:22:47.476 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 88.1737ms
2025-05-08 14:22:47.477 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 93.3602ms
2025-05-08 14:22:47.479 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:47.481 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:22:47.483 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:22:47.485 +07:00 [INF] Response: 200
2025-05-08 14:22:47.486 +07:00 [INF] Response: 200
2025-05-08 14:22:47.488 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 176.8275ms
2025-05-08 14:22:47.490 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 157.8234ms
2025-05-08 14:22:47.484 +07:00 [INF] Response: 200
2025-05-08 14:22:47.487 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:47.499 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 190.0866ms
2025-05-08 14:22:47.499 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:22:47.504 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.513 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:47.5131136Z"
2025-05-08 14:22:47.516 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.528 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 138.0657ms
2025-05-08 14:22:47.530 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:22:47.531 +07:00 [INF] Response: 200
2025-05-08 14:22:47.532 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 298.0134ms
2025-05-08 14:22:47.557 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:22:47.5575291Z"
2025-05-08 14:22:47.559 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:47.560 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.569 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_2='?' (DbType = Int32), @__rating_MovieId_0='?' (DbType = Int32), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit) AND [r].[RatingID] < @__Parse_1
ORDER BY [r].[RatingID] DESC
2025-05-08 14:22:47.569 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450), @__movieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND [w].[MovieID] = @__movieId_1
ORDER BY [w].[HistoryID] DESC
2025-05-08 14:22:47.570 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 173.1043ms
2025-05-08 14:22:47.574 +07:00 [INF] ViewAllRatingByMovieId completed successfully for MovieId 135 at "2025-05-08T07:22:47.5742194Z"
2025-05-08 14:22:47.577 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:22:47.577 +07:00 [INF] UserLastWatchHistory completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:47.5773397Z"
2025-05-08 14:22:47.570 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_3='?' (DbType = Int32), @__comment_MovieId_0='?' (DbType = Int32), @__comment_Status_1='?' (DbType = Boolean), @__Parse_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM [Comments] AS [c]
WHERE [c].[MovieID] = @__comment_MovieId_0 AND [c].[Status] = @__comment_Status_1 AND [c].[CommentID] < @__Parse_2
ORDER BY [c].[CommentID] DESC
2025-05-08 14:22:47.578 +07:00 [INF] Response: 200
2025-05-08 14:22:47.579 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.578 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:22:47.576 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:22:47.582 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Rating, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.582 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 340.5711ms
2025-05-08 14:22:47.588 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - null null
2025-05-08 14:22:47.589 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 213.429ms
2025-05-08 14:22:47.590 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:22:47.585 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API) in 129.7048ms
2025-05-08 14:22:47.582 +07:00 [INF] ViewAllCommentByMovieId completed successfully for MovieId 135 at "2025-05-08T07:22:47.5829030Z"
2025-05-08 14:22:47.589 +07:00 [INF] GetMovieAverage completed successfully for MovieId 135 at "2025-05-08T07:22:47.5890935Z"
2025-05-08 14:22:47.589 +07:00 [INF] CheckUserFavorite completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:47.5890955Z"
2025-05-08 14:22:47.595 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies/135/genres/Comedy,%20Romance
2025-05-08 14:22:47.596 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.598 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings
2025-05-08 14:22:47.600 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:22:47.603 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.603 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Comment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.604 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.604 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.611 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:22:47.611 +07:00 [INF] Response: 204
2025-05-08 14:22:47.605 +07:00 [INF] Response: 200
2025-05-08 14:22:47.610 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 297.5346ms
2025-05-08 14:22:47.616 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - 204 null null 28.3539ms
2025-05-08 14:22:47.616 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 200 null application/json; charset=utf-8 326.2206ms
2025-05-08 14:22:47.612 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:22:47.606 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.607 +07:00 [INF] Response: 200
2025-05-08 14:22:47.615 +07:00 [INF] Incoming Request: GET /api/Comment/movies/135/comments
2025-05-08 14:22:47.617 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - null null
2025-05-08 14:22:47.611 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 246.3296ms
2025-05-08 14:22:47.614 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API) in 273.8995ms
2025-05-08 14:22:47.618 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.626 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings/average
2025-05-08 14:22:47.627 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.628 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - 200 null application/json; charset=utf-8 385.7322ms
2025-05-08 14:22:47.629 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.631 +07:00 [INF] Incoming Request: GET /api/Movie/movies/135/genres/Comedy,%20Romance
2025-05-08 14:22:47.632 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:22:47.633 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:22:47.634 +07:00 [INF] Response: 200
2025-05-08 14:22:47.635 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.636 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:47.639 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.646 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:22:47.642 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 200 null application/json; charset=utf-8 398.9192ms
2025-05-08 14:22:47.643 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:22:47.648 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:47.649 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:22:47.652 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:22:47.659 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:22:47.662 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.662 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:47.657 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:47.667 +07:00 [INF] Response: 204
2025-05-08 14:22:47.668 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 7.4864ms
2025-05-08 14:22:47.672 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 26.192ms
2025-05-08 14:22:47.666 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings
2025-05-08 14:22:47.671 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:22:47.657 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 12.0286ms
2025-05-08 14:22:47.669 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:22:47.673 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.678 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.683 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.679 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.673 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:22:47.640 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.641 +07:00 [INF] Response: 200
2025-05-08 14:22:47.642 +07:00 [INF] Response: 200
2025-05-08 14:22:47.687 +07:00 [INF] Response: 200
2025-05-08 14:22:47.687 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.693 +07:00 [INF] Response: 200
2025-05-08 14:22:47.696 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:22:47.686 +07:00 [INF] Incoming Request: GET /api/Comment/movies/135/comments
2025-05-08 14:22:47.696 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:22:47.697 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - 200 null application/json; charset=utf-8 407.2771ms
2025-05-08 14:22:47.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - null null
2025-05-08 14:22:47.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - null null
2025-05-08 14:22:47.699 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 200 954 application/json 88.244ms
2025-05-08 14:22:47.700 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:47.699 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:22:47.710 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last
2025-05-08 14:22:47.712 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist
2025-05-08 14:22:47.705 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:22:47.706 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:22:47.720 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:47.700 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 110.2327ms
2025-05-08 14:22:47.724 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.723 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.731 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:22:47.722 +07:00 [INF] GetMovieAverage completed successfully for MovieId 135 at "2025-05-08T07:22:47.7226870Z"
2025-05-08 14:22:47.726 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:22:47.729 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:22:47.730 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 12.1318ms
2025-05-08 14:22:47.701 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.701 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.706 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:47.699 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - 200 null application/json; charset=utf-8 437.1923ms
2025-05-08 14:22:47.733 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:22:47.734 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:22:47.737 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings
2025-05-08 14:22:47.738 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.739 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.739 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.749 +07:00 [INF] Route matched with {action = "UserLastWatchHistoryFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLastWatchHistoryFromAPIAsync(System.String, Int32) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:22:47.750 +07:00 [INF] Route matched with {action = "CheckUserFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckUserFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:22:47.751 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.752 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 81.4806ms
2025-05-08 14:22:47.753 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:22:47.740 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.741 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:22:47.742 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.746 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:22:47.754 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:22:47.754 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:22:47.757 +07:00 [INF] UserLastWatchHistory API called.
2025-05-08 14:22:47.760 +07:00 [INF] CheckUserFavorite API called.
2025-05-08 14:22:47.760 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.761 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:22:47.772 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:47.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:47.782 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:47.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.773 +07:00 [INF] Response: 200
2025-05-08 14:22:47.762 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:47.769 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:22:47.763 +07:00 [INF] Response: 200
2025-05-08 14:22:47.785 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 4.7039ms
2025-05-08 14:22:47.789 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - 200 null application/json; charset=utf-8 177.1645ms
2025-05-08 14:22:47.791 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:22:47.793 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:22:47.785 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.795 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.794 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:47.804 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:22:47.810 +07:00 [INF] Response: 200
2025-05-08 14:22:47.794 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 135.2628ms
2025-05-08 14:22:47.818 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 87.3682ms
2025-05-08 14:22:47.818 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__movieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND [w].[MovieID] = @__movieId_1
ORDER BY [w].[HistoryID] DESC
2025-05-08 14:22:47.815 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:22:47.767 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:47.765 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:22:47.803 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.819 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:22:47.827 +07:00 [INF] UserLastWatchHistory completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:47.8276289Z"
2025-05-08 14:22:47.836 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:47.829 +07:00 [INF] CheckUserFavorite completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:47.8297689Z"
2025-05-08 14:22:47.834 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:22:47.843 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:22:47.8433059Z"
2025-05-08 14:22:47.844 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.845 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 10.512ms
2025-05-08 14:22:47.846 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:22:47.845 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.845 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:22:47.8459321Z"
2025-05-08 14:22:47.768 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings/average
2025-05-08 14:22:47.847 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.849 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API) in 92.1354ms
2025-05-08 14:22:47.860 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 67.0854ms
2025-05-08 14:22:47.851 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.864 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:22:47.863 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:22:47.869 +07:00 [INF] Response: 200
2025-05-08 14:22:47.866 +07:00 [INF] Response: 200
2025-05-08 14:22:47.854 +07:00 [INF] Incoming Request: GET /api/Comment/movies/135/comments
2025-05-08 14:22:47.855 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API) in 95.8916ms
2025-05-08 14:22:47.867 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:22:47.857 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.857 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 165.4361ms
2025-05-08 14:22:47.871 +07:00 [INF] Response: 200
2025-05-08 14:22:47.872 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 200 954 application/json 203.2422ms
2025-05-08 14:22:47.873 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.874 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:22:47.878 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:22:47.8780979Z"
2025-05-08 14:22:47.880 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 89.2708ms
2025-05-08 14:22:47.880 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:22:47.884 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - 200 null application/json; charset=utf-8 178.4033ms
2025-05-08 14:22:47.888 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.890 +07:00 [INF] Response: 200
2025-05-08 14:22:47.891 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.892 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:22:47.894 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:47.894 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:22:47.899 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:22:47.902 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:22:47.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - 200 null application/json; charset=utf-8 193.722ms
2025-05-08 14:22:47.916 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:22:47.901 +07:00 [INF] Response: 200
2025-05-08 14:22:47.912 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:22:47.901 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 69.105ms
2025-05-08 14:22:47.904 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:22:47.919 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 135 and GenreName Comedy, Romance at "2025-05-08T07:22:47.9191700Z"
2025-05-08 14:22:47.920 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.921 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 216.0215ms
2025-05-08 14:22:47.925 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.926 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:22:47.929 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:47.936 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:47.935 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 191.2812ms
2025-05-08 14:22:47.922 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 12.3722ms
2025-05-08 14:22:47.923 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:22:47.937 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - null null
2025-05-08 14:22:47.942 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:22:47.943 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:22:47.945 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:22:47.946 +07:00 [INF] Response: 200
2025-05-08 14:22:47.947 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:22:47.953 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:22:47.950 +07:00 [INF] Response: 200
2025-05-08 14:22:47.951 +07:00 [INF] Response: 200
2025-05-08 14:22:47.952 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 279.0705ms
2025-05-08 14:22:47.948 +07:00 [INF] Incoming Request: GET /api/Movie/movies/135/genres/Comedy,%20Romance
2025-05-08 14:22:47.958 +07:00 [INF] GetMovieAverage completed successfully for MovieId 135 at "2025-05-08T07:22:47.9580312Z"
2025-05-08 14:22:47.960 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:22:47.9608696Z"
2025-05-08 14:22:47.961 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - 200 null application/json; charset=utf-8 344.2395ms
2025-05-08 14:22:47.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 200 954 application/json 116.3005ms
2025-05-08 14:22:47.965 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.966 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:47.968 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:47.976 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:22:47.979 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 37.297ms
2025-05-08 14:22:47.977 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 73.6901ms
2025-05-08 14:22:47.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:22:47.980 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:22:47.981 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:22:47.982 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:22:47.983 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:22:47.986 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings/average
2025-05-08 14:22:47.989 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:22:47.991 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:22:47.992 +07:00 [INF] Response: 200
2025-05-08 14:22:47.993 +07:00 [INF] Response: 200
2025-05-08 14:22:47.994 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.994 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:47.995 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 93.6153ms
2025-05-08 14:22:47.996 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - 200 null application/json; charset=utf-8 242.3794ms
2025-05-08 14:22:48.001 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:22:47.997 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:22:47.997 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:22:48.011 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:22:48.012 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:48.015 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:22:48.016 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 135 and GenreName Comedy, Romance at "2025-05-08T07:22:48.0167284Z"
2025-05-08 14:22:48.017 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:22:48.020 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:48.021 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:22:48.027 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:22:48.025 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 33.2305ms
2025-05-08 14:22:48.033 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:22:48.0337720Z"
2025-05-08 14:22:48.034 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:22:48.036 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:48.038 +07:00 [INF] Response: 200
2025-05-08 14:22:48.038 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:22:48.039 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 22.2307ms
2025-05-08 14:22:48.040 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - 200 null application/json; charset=utf-8 103.0319ms
2025-05-08 14:22:48.040 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:22:48.042 +07:00 [INF] GetMovieAverage completed successfully for MovieId 135 at "2025-05-08T07:22:48.0427738Z"
2025-05-08 14:22:48.043 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:22:48.049 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:22:48.050 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:22:48.051 +07:00 [INF] Response: 200
2025-05-08 14:22:48.052 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:22:48.053 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 37.8076ms
2025-05-08 14:22:48.054 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 73.6248ms
2025-05-08 14:22:48.054 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:22:48.055 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:22:48.059 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:22:48.060 +07:00 [INF] Response: 200
2025-05-08 14:22:48.062 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:22:48.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - 200 null application/json; charset=utf-8 84.6617ms
2025-05-08 14:22:48.066 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:22:48.077 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:22:48.0772214Z"
2025-05-08 14:22:48.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:22:48.080 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 17.3559ms
2025-05-08 14:22:48.081 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:22:48.082 +07:00 [INF] Response: 200
2025-05-08 14:22:48.083 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 42.8868ms
2025-05-08 14:23:00.678 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:23:00.678 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:23:00.678 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1000000000 - null null
2025-05-08 14:23:00.678 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1000000000 - null null
2025-05-08 14:23:00.683 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:23:00.681 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:23:00.678 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:23:00.685 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:23:00.688 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:23:00.688 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.688 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.690 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:23:00.690 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.691 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.692 +07:00 [INF] Response: 204
2025-05-08 14:23:00.692 +07:00 [INF] Response: 204
2025-05-08 14:23:00.693 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.693 +07:00 [INF] Response: 204
2025-05-08 14:23:00.695 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 16.4739ms
2025-05-08 14:23:00.697 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1000000000 - 204 null null 18.8445ms
2025-05-08 14:23:00.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:23:00.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1000000000 - null null
2025-05-08 14:23:00.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:23:00.694 +07:00 [INF] Response: 204
2025-05-08 14:23:00.695 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 17.1994ms
2025-05-08 14:23:00.712 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1000000000 - null null
2025-05-08 14:23:00.706 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:23:00.709 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:23:00.711 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:23:00.711 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1000000000 - 204 null null 32.6133ms
2025-05-08 14:23:00.696 +07:00 [INF] Response: 204
2025-05-08 14:23:00.717 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:23:00.717 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.718 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.723 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.723 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:23:00.719 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.723 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:23:00.722 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 43.727ms
2025-05-08 14:23:00.724 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:00.725 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:23:00.726 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:00.726 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:00.729 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:23:00.733 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:23:00.736 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:23:00.738 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:23:00.738 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:00.741 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:23:00.745 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:00.740 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:23:00.744 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:00.751 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:23:00.755 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:23:00.755 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:00.7558414Z"
2025-05-08 14:23:00.758 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:00.756 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:23:00.761 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:00.766 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:23:00.771 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 35.0531ms
2025-05-08 14:23:00.772 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:00.767 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:00.770 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:00.775 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:23:00.7753043Z"
2025-05-08 14:23:00.776 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:23:00.783 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 15.6969ms
2025-05-08 14:23:00.783 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:00.784 +07:00 [INF] Response: 200
2025-05-08 14:23:00.785 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:00.786 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 46.0886ms
2025-05-08 14:23:00.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 90.2507ms
2025-05-08 14:23:00.789 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:00.788 +07:00 [INF] Response: 200
2025-05-08 14:23:00.794 +07:00 [INF] Response: 200
2025-05-08 14:23:00.795 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 71.2838ms
2025-05-08 14:23:00.795 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 98.7414ms
2025-05-08 14:23:00.808 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:23:00.808 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:23:00.812 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:00.8123970Z"
2025-05-08 14:23:00.817 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:00.818 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:00.820 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 69.193ms
2025-05-08 14:23:00.824 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:00.825 +07:00 [INF] Response: 200
2025-05-08 14:23:00.826 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1000000000 - 200 null application/json; charset=utf-8 127.6055ms
2025-05-08 14:23:00.829 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:00.837 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:00.843 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:00.848 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:00.854 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:00.859 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:00.865 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:00.871 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:00.8712916Z"
2025-05-08 14:23:00.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:00.877 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 134.5672ms
2025-05-08 14:23:00.878 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:23:00.879 +07:00 [INF] Response: 200
2025-05-08 14:23:00.880 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1000000000 - 200 null application/json; charset=utf-8 168.0775ms
2025-05-08 14:23:02.325 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1120 - null null
2025-05-08 14:23:02.328 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:23:02.329 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:02.330 +07:00 [INF] Response: 204
2025-05-08 14:23:02.331 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1120 - 204 null null 5.874ms
2025-05-08 14:23:02.334 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1120 - null null
2025-05-08 14:23:02.338 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:23:02.339 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:02.339 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:02.340 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:23:02.345 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:23:02.351 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:02.364 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:23:02.367 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:02.3679289Z"
2025-05-08 14:23:02.370 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:02.372 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 28.663ms
2025-05-08 14:23:02.373 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:02.375 +07:00 [INF] Response: 200
2025-05-08 14:23:02.376 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1120 - 200 null application/json; charset=utf-8 41.9765ms
2025-05-08 14:23:02.380 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1120 - null null
2025-05-08 14:23:02.383 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:23:02.384 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:02.385 +07:00 [INF] Response: 204
2025-05-08 14:23:02.386 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1120 - 204 null null 5.3449ms
2025-05-08 14:23:02.387 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1120 - null null
2025-05-08 14:23:02.393 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:23:02.394 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:02.395 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:23:02.396 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:23:02.399 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:23:02.406 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:02.421 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:23:02.426 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:02.433 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:02.442 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:02.461 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:02.467 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:02.473 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:02.479 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:02.492 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:02.497 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:02.4972099Z"
2025-05-08 14:23:02.499 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:02.503 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 105.0818ms
2025-05-08 14:23:02.504 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:23:02.505 +07:00 [INF] Response: 200
2025-05-08 14:23:02.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1120 - 200 null application/json; charset=utf-8 119.3912ms
2025-05-08 14:23:08.561 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:23:08.566 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:08.848 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/130 - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist - null null
2025-05-08 14:23:08.848 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:08.848 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:23:08.847 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:08.851 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:23:08.853 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/130/ratings
2025-05-08 14:23:08.856 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last
2025-05-08 14:23:08.859 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/130
2025-05-08 14:23:08.863 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:23:08.865 +07:00 [INF] Incoming Request: OPTIONS /api/Comment/movies/130/comments
2025-05-08 14:23:08.868 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist
2025-05-08 14:23:08.870 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:23:08.873 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/130/ratings
2025-05-08 14:23:08.875 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/130/ratings/average
2025-05-08 14:23:08.878 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/130/ratings/average
2025-05-08 14:23:08.881 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:23:08.884 +07:00 [INF] Incoming Request: OPTIONS /api/Comment/movies/130/comments
2025-05-08 14:23:08.885 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.886 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.886 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.887 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.888 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.889 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.889 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.890 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.891 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.892 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.893 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.894 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.894 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.895 +07:00 [INF] Response: 204
2025-05-08 14:23:08.896 +07:00 [INF] Response: 204
2025-05-08 14:23:08.896 +07:00 [INF] Response: 204
2025-05-08 14:23:08.897 +07:00 [INF] Response: 204
2025-05-08 14:23:08.905 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 204 null null 57.727ms
2025-05-08 14:23:08.906 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last - 204 null null 58.3583ms
2025-05-08 14:23:08.907 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/130 - 204 null null 59.7329ms
2025-05-08 14:23:08.908 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:08.898 +07:00 [INF] Response: 204
2025-05-08 14:23:08.899 +07:00 [INF] Response: 204
2025-05-08 14:23:08.899 +07:00 [INF] Response: 204
2025-05-08 14:23:08.911 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/130 - null null
2025-05-08 14:23:08.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:23:08.921 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings
2025-05-08 14:23:08.922 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 75.0332ms
2025-05-08 14:23:08.923 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 204 null null 75.2454ms
2025-05-08 14:23:08.927 +07:00 [INF] Incoming Request: GET /api/Movie/130
2025-05-08 14:23:08.925 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:08.930 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:23:08.931 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.924 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist - 204 null null 76.2515ms
2025-05-08 14:23:08.900 +07:00 [INF] Response: 204
2025-05-08 14:23:08.901 +07:00 [INF] Response: 204
2025-05-08 14:23:08.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:23:08.940 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.943 +07:00 [INF] Incoming Request: GET /api/Comment/movies/130/comments
2025-05-08 14:23:08.944 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.945 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:08.936 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist - null null
2025-05-08 14:23:08.951 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:23:08.949 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 204 null null 101.6903ms
2025-05-08 14:23:08.950 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 204 null null 102.3909ms
2025-05-08 14:23:08.901 +07:00 [INF] Response: 204
2025-05-08 14:23:08.902 +07:00 [INF] Response: 204
2025-05-08 14:23:08.903 +07:00 [INF] Response: 204
2025-05-08 14:23:08.907 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last - null null
2025-05-08 14:23:08.955 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:08.955 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.956 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:08.957 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:08.960 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist
2025-05-08 14:23:08.975 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:08.980 +07:00 [INF] ViewAllRatingByMovieId API called.
2025-05-08 14:23:08.975 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:08.977 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:23:08.985 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:23:08.987 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:23:08.991 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:08.999 +07:00 [INF] ViewAllCommentByMovieId API called.
2025-05-08 14:23:08.998 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.012 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:08.983 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.993 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:08.962 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:23:09.016 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__rating_MovieId_0='?' (DbType = Int32), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit) AND [r].[RatingID] < @__Parse_1
ORDER BY [r].[RatingID] DESC
2025-05-08 14:23:09.018 +07:00 [INF] ViewMovieById completed successfully for MovieId 130 at "2025-05-08T07:23:09.0189216Z"
2025-05-08 14:23:09.018 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:23:09.020 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 28.4304ms
2025-05-08 14:23:09.029 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_3='?' (DbType = Int32), @__comment_MovieId_0='?' (DbType = Int32), @__comment_Status_1='?' (DbType = Boolean), @__Parse_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM [Comments] AS [c]
WHERE [c].[MovieID] = @__comment_MovieId_0 AND [c].[Status] = @__comment_Status_1 AND [c].[CommentID] < @__Parse_2
ORDER BY [c].[CommentID] DESC
2025-05-08 14:23:09.027 +07:00 [INF] ViewAllRatingByMovieId completed successfully for MovieId 130 at "2025-05-08T07:23:09.0270356Z"
2025-05-08 14:23:09.029 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.032 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:09.035 +07:00 [INF] ViewAllCommentByMovieId completed successfully for MovieId 130 at "2025-05-08T07:23:09.0357439Z"
2025-05-08 14:23:09.037 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Rating, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.040 +07:00 [INF] Response: 200
2025-05-08 14:23:09.031 +07:00 [INF] Route matched with {action = "CheckUserFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckUserFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:23:09.044 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 121.1355ms
2025-05-08 14:23:09.042 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Comment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.043 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 64.1557ms
2025-05-08 14:23:09.044 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:09.020 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:08.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:23:08.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:08.953 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:23:08.969 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/130/ratings/average - 204 null null 121.6933ms
2025-05-08 14:23:08.970 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/130/ratings/average - 204 null null 122.6116ms
2025-05-08 14:23:08.971 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 124.1821ms
2025-05-08 14:23:08.974 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last
2025-05-08 14:23:08.903 +07:00 [INF] Response: 204
2025-05-08 14:23:08.904 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 57.576ms
2025-05-08 14:23:09.052 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 55.1291ms
2025-05-08 14:23:09.053 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.047 +07:00 [INF] CheckUserFavorite API called.
2025-05-08 14:23:09.056 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings
2025-05-08 14:23:09.057 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:23:09.060 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:23:09.063 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings/average
2025-05-08 14:23:09.064 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.076 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:09.079 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.081 +07:00 [INF] Response: 200
2025-05-08 14:23:09.082 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.083 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:23:09.084 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.085 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.086 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:09.074 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.075 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 204 null null 227.8598ms
2025-05-08 14:23:09.088 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.039 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 54.351ms
2025-05-08 14:23:09.092 +07:00 [INF] Incoming Request: GET /api/Comment/movies/130/comments
2025-05-08 14:23:09.093 +07:00 [INF] Response: 200
2025-05-08 14:23:09.094 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 200 null application/json; charset=utf-8 186.1895ms
2025-05-08 14:23:09.111 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 200 null application/json; charset=utf-8 186.505ms
2025-05-08 14:23:09.094 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.097 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:23:09.097 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:23:09.098 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.100 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:23:09.114 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:09.121 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.123 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:09.137 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.124 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.141 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 5.9445ms
2025-05-08 14:23:09.143 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:09.140 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:23:09.127 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:23:09.133 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:09.110 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.145 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.152 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.156 +07:00 [INF] Response: 200
2025-05-08 14:23:09.148 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings
2025-05-08 14:23:09.144 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:23:09.150 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.153 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.161 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 200 585 application/json 117.0045ms
2025-05-08 14:23:09.162 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.161 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:23:09.165 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.163 +07:00 [INF] Response: 204
2025-05-08 14:23:09.166 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:23:09.172 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.173 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:23:09.1737912Z"
2025-05-08 14:23:09.181 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.183 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.183 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.188 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.184 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 4.9444ms
2025-05-08 14:23:09.190 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 3.7413ms
2025-05-08 14:23:09.191 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:09.189 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 63.2799ms
2025-05-08 14:23:09.178 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:09.184 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:23:09.177 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 62.8322ms
2025-05-08 14:23:09.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:09.128 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.100 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.193 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.195 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings
2025-05-08 14:23:09.196 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:09.192 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.199 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:09.200 +07:00 [INF] GetMovieAverage completed successfully for MovieId 130 at "2025-05-08T07:23:09.2009060Z"
2025-05-08 14:23:09.206 +07:00 [INF] Incoming Request: GET /api/Comment/movies/130/comments
2025-05-08 14:23:09.152 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.113 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.109 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.211 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:23:09.212 +07:00 [INF] Response: 200
2025-05-08 14:23:09.213 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.214 +07:00 [INF] Response: 200
2025-05-08 14:23:09.215 +07:00 [INF] Response: 200
2025-05-08 14:23:09.215 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.217 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.217 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.211 +07:00 [INF] Route matched with {action = "UserLastWatchHistoryFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLastWatchHistoryFromAPIAsync(System.String, Int32) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:23:09.226 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.2263710Z"
2025-05-08 14:23:09.227 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 200 585 application/json 84.2562ms
2025-05-08 14:23:09.227 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.232 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:09.228 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 322.1323ms
2025-05-08 14:23:09.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 200 3154 application/json 152.9574ms
2025-05-08 14:23:09.230 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.231 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 86.827ms
2025-05-08 14:23:09.231 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.223 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:23:09.220 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.2204306Z"
2025-05-08 14:23:09.223 +07:00 [INF] Response: 200
2025-05-08 14:23:09.233 +07:00 [INF] UserLastWatchHistory API called.
2025-05-08 14:23:09.234 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.239 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.259 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 162.6514ms
2025-05-08 14:23:09.241 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings/average
2025-05-08 14:23:09.266 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:23:09.267 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.262 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.270 +07:00 [INF] Response: 200
2025-05-08 14:23:09.271 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 7.4625ms
2025-05-08 14:23:09.274 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 323.0149ms
2025-05-08 14:23:09.272 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:09.269 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.250 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:09.252 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.263 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies/130/genres/Comedy, Romance - null null
2025-05-08 14:23:09.252 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:23:09.270 +07:00 [INF] CheckUserFavorite completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.2702769Z"
2025-05-08 14:23:09.276 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.282 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings
2025-05-08 14:23:09.283 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.294 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.286 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:09.286 +07:00 [INF] Response: 200
2025-05-08 14:23:09.300 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:09.297 +07:00 [INF] Response: 200
2025-05-08 14:23:09.297 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.298 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.306 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 200 585 application/json 115.3399ms
2025-05-08 14:23:09.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:23:09.307 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.306 +07:00 [INF] Incoming Request: GET /api/Comment/movies/130/comments
2025-05-08 14:23:09.299 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 6.5042ms
2025-05-08 14:23:09.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/130 - null null
2025-05-08 14:23:09.301 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - 200 null application/json; charset=utf-8 328.9869ms
2025-05-08 14:23:09.290 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies/130/genres/Comedy,%20Romance
2025-05-08 14:23:09.296 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.275 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.314 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:23:09.315 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.309 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:23:09.331 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.316 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.318 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.320 +07:00 [INF] Incoming Request: GET /api/Movie/130
2025-05-08 14:23:09.336 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:23:09.339 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.337 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.338 +07:00 [INF] Response: 200
2025-05-08 14:23:09.341 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.327 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist - null null
2025-05-08 14:23:09.324 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.343 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:23:09.348 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:23:09.349 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 200 3154 application/json 163.5915ms
2025-05-08 14:23:09.360 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.356 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:23:09.353 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:23:09.368 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.365 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 6.7005ms
2025-05-08 14:23:09.372 +07:00 [INF] GetMovieAverage completed successfully for MovieId 130 at "2025-05-08T07:23:09.3720695Z"
2025-05-08 14:23:09.366 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:09.349 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.352 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist
2025-05-08 14:23:09.353 +07:00 [INF] Response: 204
2025-05-08 14:23:09.335 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.326 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API) in 278.9333ms
2025-05-08 14:23:09.384 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/130/genres/Comedy, Romance - null null
2025-05-08 14:23:09.376 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.377 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.385 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:09.389 +07:00 [INF] Incoming Request: GET /api/Movie/movies/130/genres/Comedy,%20Romance
2025-05-08 14:23:09.390 +07:00 [INF] Response: 200
2025-05-08 14:23:09.391 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 82.2064ms
2025-05-08 14:23:09.376 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:23:09.380 +07:00 [INF] Incoming Request: GET /api/Comment/movies/130/comments
2025-05-08 14:23:09.381 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:09.382 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.383 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies/130/genres/Comedy, Romance - 204 null null 120.1767ms
2025-05-08 14:23:09.384 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 50.6642ms
2025-05-08 14:23:09.386 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:23:09.339 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__movieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND [w].[MovieID] = @__movieId_1
ORDER BY [w].[HistoryID] DESC
2025-05-08 14:23:09.256 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.303 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:09.257 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/130 - 200 null application/json; charset=utf-8 346.0842ms
2025-05-08 14:23:09.393 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:09.394 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings
2025-05-08 14:23:09.394 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.395 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 200 3154 application/json 95.4493ms
2025-05-08 14:23:09.396 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.399 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.3994944Z"
2025-05-08 14:23:09.400 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.402 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:23:09.402 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:23:09.407 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.419 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings/average
2025-05-08 14:23:09.421 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:23:09.424 +07:00 [INF] Response: 200
2025-05-08 14:23:09.420 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.426 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.426 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.428 +07:00 [INF] Route matched with {action = "CheckUserFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckUserFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:23:09.431 +07:00 [INF] Response: 200
2025-05-08 14:23:09.407 +07:00 [INF] Response: 200
2025-05-08 14:23:09.410 +07:00 [INF] UserLastWatchHistory completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.4101099Z"
2025-05-08 14:23:09.411 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 270.1271ms
2025-05-08 14:23:09.412 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:09.4129466Z"
2025-05-08 14:23:09.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.432 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.433 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:09.444 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:23:09.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - 200 null application/json; charset=utf-8 201.7236ms
2025-05-08 14:23:09.433 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.435 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 79.469ms
2025-05-08 14:23:09.436 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:23:09.438 +07:00 [INF] CheckUserFavorite API called.
2025-05-08 14:23:09.447 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.449 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:23:09.463 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.465 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.469 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:23:09.452 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:23:09.473 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:23:09.477 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.485 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.486 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:23:09.491 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:23:09.492 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:23:09.456 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.457 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:23:09.496 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:23:09.495 +07:00 [INF] CheckUserFavorite completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.4950014Z"
2025-05-08 14:23:09.500 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.503 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.507 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:23:09.508 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API) in 70.9369ms
2025-05-08 14:23:09.506 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 7.2587ms
2025-05-08 14:23:09.504 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.501 +07:00 [INF] Response: 200
2025-05-08 14:23:09.479 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.511 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings
2025-05-08 14:23:09.512 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:23:09.514 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.518 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 209.5445ms
2025-05-08 14:23:09.522 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.518 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:23:09.523 +07:00 [INF] Response: 200
2025-05-08 14:23:09.525 +07:00 [INF] Response: 200
2025-05-08 14:23:09.451 +07:00 [INF] ViewMovieById completed successfully for MovieId 130 at "2025-05-08T07:23:09.4512874Z"
2025-05-08 14:23:09.493 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 130 and GenreName Comedy, Romance at "2025-05-08T07:23:09.4933991Z"
2025-05-08 14:23:09.509 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist - null null
2025-05-08 14:23:09.438 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 200 585 application/json 166.7265ms
2025-05-08 14:23:09.439 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist - 200 null application/json; charset=utf-8 503.2402ms
2025-05-08 14:23:09.440 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.441 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:23:09.443 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.530 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.532 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.5327771Z"
2025-05-08 14:23:09.533 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist - 200 null application/json; charset=utf-8 205.8039ms
2025-05-08 14:23:09.534 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 200 585 application/json 148.5394ms
2025-05-08 14:23:09.551 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:09.527 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:23:09.535 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.536 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.552 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.553 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.568 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 166.3823ms
2025-05-08 14:23:09.568 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/130 - null null
2025-05-08 14:23:09.563 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:09.565 +07:00 [INF] GetMovieAverage completed successfully for MovieId 130 at "2025-05-08T07:23:09.5656979Z"
2025-05-08 14:23:09.574 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.539 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist
2025-05-08 14:23:09.549 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last - null null
2025-05-08 14:23:09.571 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 121.8679ms
2025-05-08 14:23:09.548 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API) in 314.6572ms
2025-05-08 14:23:09.548 +07:00 [INF] Response: 200
2025-05-08 14:23:09.550 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 264.6044ms
2025-05-08 14:23:09.461 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.576 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 79.4841ms
2025-05-08 14:23:09.594 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:09.577 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.579 +07:00 [INF] Incoming Request: GET /api/Movie/130
2025-05-08 14:23:09.580 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.581 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.582 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 9.7955ms
2025-05-08 14:23:09.597 +07:00 [INF] Incoming Request: GET /api/Comment/movies/130/comments
2025-05-08 14:23:09.594 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:23:09.598 +07:00 [INF] Response: 200
2025-05-08 14:23:09.599 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.603 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.604 +07:00 [INF] Response: 200
2025-05-08 14:23:09.605 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/130 - 200 null application/json; charset=utf-8 297.1468ms
2025-05-08 14:23:09.610 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/130/genres/Comedy, Romance - null null
2025-05-08 14:23:09.607 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.608 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 163.7639ms
2025-05-08 14:23:09.607 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.599 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.600 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 131.238ms
2025-05-08 14:23:09.602 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:09.583 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.587 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last
2025-05-08 14:23:09.588 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:23:09.589 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.590 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 617.9343ms
2025-05-08 14:23:09.592 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.593 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 133.22ms
2025-05-08 14:23:09.614 +07:00 [INF] Incoming Request: GET /api/Movie/movies/130/genres/Comedy,%20Romance
2025-05-08 14:23:09.615 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:23:09.618 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:09.633 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.619 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:09.621 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.621 +07:00 [INF] Response: 200
2025-05-08 14:23:09.624 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings/average
2025-05-08 14:23:09.625 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:23:09.625 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.626 +07:00 [INF] Response: 200
2025-05-08 14:23:09.626 +07:00 [INF] Response: 200
2025-05-08 14:23:09.637 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.630 +07:00 [INF] Response: 200
2025-05-08 14:23:09.632 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.640 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:23:09.651 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:23:09.640 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:23:09.643 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:09.644 +07:00 [INF] Response: 200
2025-05-08 14:23:09.645 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings?pageSize=3&ratingId=1000000 - 200 585 application/json 137.4185ms
2025-05-08 14:23:09.652 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:09.654 +07:00 [INF] Incoming Request: GET /api/Comment/movies/130/comments
2025-05-08 14:23:09.657 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.658 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:09.656 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - 200 null application/json; charset=utf-8 263.4455ms
2025-05-08 14:23:09.646 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.646 +07:00 [INF] Route matched with {action = "CheckUserFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckUserFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:23:09.647 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/130/genres/Comedy, Romance - 200 null application/json; charset=utf-8 263.8891ms
2025-05-08 14:23:09.649 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last - 200 null application/json; charset=utf-8 741.6606ms
2025-05-08 14:23:09.650 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 14.6094ms
2025-05-08 14:23:09.650 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 472.1776ms
2025-05-08 14:23:09.651 +07:00 [INF] Response: 200
2025-05-08 14:23:09.666 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:23:09.667 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.674 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:09.6742328Z"
2025-05-08 14:23:09.676 +07:00 [INF] ViewMovieById completed successfully for MovieId 130 at "2025-05-08T07:23:09.6766864Z"
2025-05-08 14:23:09.696 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.697 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.699 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:23:09.703 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:23:09.704 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 61.4097ms
2025-05-08 14:23:09.713 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:09.716 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.718 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 5.7867ms
2025-05-08 14:23:09.719 +07:00 [INF] Response: 200
2025-05-08 14:23:09.701 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.678 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.722 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 170.7329ms
2025-05-08 14:23:09.720 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 130 and GenreName Comedy, Romance at "2025-05-08T07:23:09.7200862Z"
2025-05-08 14:23:09.721 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.681 +07:00 [INF] CheckUserFavorite API called.
2025-05-08 14:23:09.682 +07:00 [INF] Route matched with {action = "UserLastWatchHistoryFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLastWatchHistoryFromAPIAsync(System.String, Int32) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:23:09.734 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.730 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.724 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 84.5244ms
2025-05-08 14:23:09.731 +07:00 [INF] Response: 200
2025-05-08 14:23:09.725 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.744 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.745 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 200 3154 application/json 94.5526ms
2025-05-08 14:23:09.737 +07:00 [INF] UserLastWatchHistory API called.
2025-05-08 14:23:09.743 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 77.2747ms
2025-05-08 14:23:09.689 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:23:09.749 +07:00 [INF] Response: 200
2025-05-08 14:23:09.748 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:23:09.756 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.764 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.760 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/130 - 200 null application/json; charset=utf-8 192.213ms
2025-05-08 14:23:09.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/130/genres/Comedy, Romance - null null
2025-05-08 14:23:09.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.755 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:23:09.748 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.759 +07:00 [INF] Response: 200
2025-05-08 14:23:09.705 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:09.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__movieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND [w].[MovieID] = @__movieId_1
ORDER BY [w].[HistoryID] DESC
2025-05-08 14:23:09.778 +07:00 [INF] Incoming Request: GET /api/Movie/movies/130/genres/Comedy,%20Romance
2025-05-08 14:23:09.776 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:23:09.787 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:23:09.783 +07:00 [INF] Response: 200
2025-05-08 14:23:09.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 200 3154 application/json 193.2335ms
2025-05-08 14:23:09.694 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/130/comments?pageSize=3&commentId=1000000 - 200 3154 application/json 328.2428ms
2025-05-08 14:23:09.791 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:09.794 +07:00 [INF] UserLastWatchHistory completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.7944938Z"
2025-05-08 14:23:09.795 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.798 +07:00 [INF] GetMovieAverage completed successfully for MovieId 130 at "2025-05-08T07:23:09.7980804Z"
2025-05-08 14:23:09.800 +07:00 [INF] CheckUserFavorite completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.8006629Z"
2025-05-08 14:23:09.801 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/130/genres/Comedy, Romance - 200 null application/json; charset=utf-8 191.2922ms
2025-05-08 14:23:09.809 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.811 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:23:09.812 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.819 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API) in 81.7441ms
2025-05-08 14:23:09.820 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:09.822 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 73.8465ms
2025-05-08 14:23:09.813 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.820 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last - null null
2025-05-08 14:23:09.817 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.823 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:09.824 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.826 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:23:09.827 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.829 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API) in 148.48ms
2025-05-08 14:23:09.832 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last
2025-05-08 14:23:09.836 +07:00 [INF] Response: 200
2025-05-08 14:23:09.839 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:23:09.842 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last - 200 null application/json; charset=utf-8 292.7018ms
2025-05-08 14:23:09.837 +07:00 [INF] Response: 200
2025-05-08 14:23:09.838 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:23:09.851 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - 200 null application/json; charset=utf-8 249.1013ms
2025-05-08 14:23:09.842 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.833 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:09.835 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings/average
2025-05-08 14:23:09.852 +07:00 [INF] Response: 200
2025-05-08 14:23:09.852 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 130 and GenreName Comedy, Romance at "2025-05-08T07:23:09.8523393Z"
2025-05-08 14:23:09.855 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.857 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:09.858 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.858 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/130/check-wishlist - 200 null application/json; charset=utf-8 349.3878ms
2025-05-08 14:23:09.859 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.863 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:09.860 +07:00 [INF] Route matched with {action = "UserLastWatchHistoryFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLastWatchHistoryFromAPIAsync(System.String, Int32) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:23:09.861 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.871 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 45.2603ms
2025-05-08 14:23:09.873 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:09.8735530Z"
2025-05-08 14:23:09.875 +07:00 [INF] UserLastWatchHistory API called.
2025-05-08 14:23:09.875 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.877 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.876 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:23:09.880 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:09.884 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 27.0887ms
2025-05-08 14:23:09.885 +07:00 [INF] Response: 200
2025-05-08 14:23:09.889 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.885 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:09.882 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:23:09.889 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.895 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.890 +07:00 [INF] Response: 200
2025-05-08 14:23:09.889 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/130/genres/Comedy, Romance - 200 null application/json; charset=utf-8 125.4135ms
2025-05-08 14:23:09.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 196.8955ms
2025-05-08 14:23:09.903 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__movieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND [w].[MovieID] = @__movieId_1
ORDER BY [w].[HistoryID] DESC
2025-05-08 14:23:09.893 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:09.907 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:23:09.911 +07:00 [INF] UserLastWatchHistory completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:09.9119840Z"
2025-05-08 14:23:09.912 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.914 +07:00 [INF] GetMovieAverage completed successfully for MovieId 130 at "2025-05-08T07:23:09.9149273Z"
2025-05-08 14:23:09.915 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.916 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.917 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.918 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API) in 43.3131ms
2025-05-08 14:23:09.921 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:09.919 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:09.920 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 37.8468ms
2025-05-08 14:23:09.921 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:23:09.924 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings/average
2025-05-08 14:23:09.927 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:09.928 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.929 +07:00 [INF] Response: 200
2025-05-08 14:23:09.930 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.933 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:09.933 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/130/user-last - 200 null application/json; charset=utf-8 112.6266ms
2025-05-08 14:23:09.935 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.931 +07:00 [INF] Response: 200
2025-05-08 14:23:09.938 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:09.9384096Z"
2025-05-08 14:23:09.942 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.942 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - 200 null application/json; charset=utf-8 119.7314ms
2025-05-08 14:23:09.943 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.945 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:23:09.949 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 22.5253ms
2025-05-08 14:23:09.950 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:09.953 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:09.951 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.957 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:09.961 +07:00 [INF] Response: 200
2025-05-08 14:23:09.962 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 77.4256ms
2025-05-08 14:23:09.966 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:23:09.963 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.968 +07:00 [INF] GetMovieAverage completed successfully for MovieId 130 at "2025-05-08T07:23:09.9685978Z"
2025-05-08 14:23:09.969 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:09.970 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:09.972 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:09.973 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 28.0737ms
2025-05-08 14:23:09.974 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - null null
2025-05-08 14:23:09.975 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.977 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:09.982 +07:00 [INF] Incoming Request: GET /api/Rating/movies/130/ratings/average
2025-05-08 14:23:09.983 +07:00 [INF] Response: 200
2025-05-08 14:23:09.985 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:09.9859263Z"
2025-05-08 14:23:09.986 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:09.987 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - 200 null application/json; charset=utf-8 66.483ms
2025-05-08 14:23:09.988 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:09.989 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:09.994 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 21.5785ms
2025-05-08 14:23:09.995 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:09.995 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:09.996 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:09.999 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.001 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:23:10.003 +07:00 [INF] Response: 200
2025-05-08 14:23:10.003 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.005 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 54.2103ms
2025-05-08 14:23:10.007 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.006 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:23:10.013 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.018 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.021 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.021 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:23:10.027 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.0277949Z"
2025-05-08 14:23:10.030 +07:00 [INF] GetMovieAverage completed successfully for MovieId 130 at "2025-05-08T07:23:10.0303646Z"
2025-05-08 14:23:10.031 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.032 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:10.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:10.033 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 15.6915ms
2025-05-08 14:23:10.035 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 34.0989ms
2025-05-08 14:23:10.038 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.040 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.041 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:23:10.042 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.043 +07:00 [INF] Response: 200
2025-05-08 14:23:10.044 +07:00 [INF] Response: 200
2025-05-08 14:23:10.045 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.045 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 50.3863ms
2025-05-08 14:23:10.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/130/ratings/average - 200 null application/json; charset=utf-8 71.7407ms
2025-05-08 14:23:10.047 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.055 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.058 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.063 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.0630065Z"
2025-05-08 14:23:10.063 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.065 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 9.5054ms
2025-05-08 14:23:10.066 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:10.066 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.069 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.070 +07:00 [INF] Response: 200
2025-05-08 14:23:10.071 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.071 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 37.2518ms
2025-05-08 14:23:10.072 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.077 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.080 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.084 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.090 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.0901613Z"
2025-05-08 14:23:10.091 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.093 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 12.9684ms
2025-05-08 14:23:10.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:10.095 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.098 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.099 +07:00 [INF] Response: 200
2025-05-08 14:23:10.100 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.101 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 35.0393ms
2025-05-08 14:23:10.102 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.106 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.109 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.113 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.118 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.1185891Z"
2025-05-08 14:23:10.119 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.120 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 11.5817ms
2025-05-08 14:23:10.121 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:10.122 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.125 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.127 +07:00 [INF] Response: 200
2025-05-08 14:23:10.128 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.128 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 34.5209ms
2025-05-08 14:23:10.129 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.134 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.137 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.141 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.146 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.1469158Z"
2025-05-08 14:23:10.148 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.150 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 12.5915ms
2025-05-08 14:23:10.151 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:10.152 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.155 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.156 +07:00 [INF] Response: 200
2025-05-08 14:23:10.157 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.157 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 35.9376ms
2025-05-08 14:23:10.158 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.163 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.166 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.169 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.174 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.1739890Z"
2025-05-08 14:23:10.175 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.176 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 10.5753ms
2025-05-08 14:23:10.177 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:10.178 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.181 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.182 +07:00 [INF] Response: 200
2025-05-08 14:23:10.183 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.183 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 32.8043ms
2025-05-08 14:23:10.184 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.189 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.191 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.195 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.200 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.2008825Z"
2025-05-08 14:23:10.202 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.203 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 12.0342ms
2025-05-08 14:23:10.204 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:10.205 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.208 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.209 +07:00 [INF] Response: 200
2025-05-08 14:23:10.210 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.211 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 33.9712ms
2025-05-08 14:23:10.212 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.216 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.219 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.222 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.227 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.2276394Z"
2025-05-08 14:23:10.229 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.230 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 11.7286ms
2025-05-08 14:23:10.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:23:10.232 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.234 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:23:10.235 +07:00 [INF] Response: 200
2025-05-08 14:23:10.236 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:10.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 32.2142ms
2025-05-08 14:23:10.237 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.242 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:10.245 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:23:10.248 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:23:10.253 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:23:10.2533616Z"
2025-05-08 14:23:10.254 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:10.256 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 10.8915ms
2025-05-08 14:23:10.257 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:23:10.258 +07:00 [INF] Response: 200
2025-05-08 14:23:10.258 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 27.0863ms
2025-05-08 14:23:15.179 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:23:15.179 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:23:15.179 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:23:15.180 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:23:15.179 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:23:15.179 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:23:15.182 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:23:15.185 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:23:15.187 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:23:15.191 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:23:15.194 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:23:15.197 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:23:15.197 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.198 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.199 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.199 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.200 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.201 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.201 +07:00 [INF] Response: 204
2025-05-08 14:23:15.202 +07:00 [INF] Response: 204
2025-05-08 14:23:15.203 +07:00 [INF] Response: 204
2025-05-08 14:23:15.203 +07:00 [INF] Response: 204
2025-05-08 14:23:15.204 +07:00 [INF] Response: 204
2025-05-08 14:23:15.204 +07:00 [INF] Response: 204
2025-05-08 14:23:15.209 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:23:15.210 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:23:15.205 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 25.9816ms
2025-05-08 14:23:15.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:23:15.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:23:15.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:23:15.205 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 25.9008ms
2025-05-08 14:23:15.206 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 26.4639ms
2025-05-08 14:23:15.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:23:15.207 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 27.0733ms
2025-05-08 14:23:15.207 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 28.6242ms
2025-05-08 14:23:15.209 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 29.4785ms
2025-05-08 14:23:15.212 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:23:15.215 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:23:15.221 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:23:15.224 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:23:15.227 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:23:15.238 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:23:15.250 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.251 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.251 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.252 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.253 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.254 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:15.254 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:23:15.255 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:23:15.256 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:23:15.256 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:23:15.257 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:15.258 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:15.259 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:15.260 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:15.261 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:15.262 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:23:15.264 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:23:15.267 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:23:15.270 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:23:15.276 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:15.271 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:23:15.280 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.3485ms
2025-05-08 14:23:15.281 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:15.287 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:23:15.292 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:15.2923639Z"
2025-05-08 14:23:15.295 +07:00 [INF] Response: 200
2025-05-08 14:23:15.278 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:23:15.287 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:23:15.298 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:15.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 90.1813ms
2025-05-08 14:23:15.301 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:15.265 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:23:15.306 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 39.1398ms
2025-05-08 14:23:15.314 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:23:15.319 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:23:15.318 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:15.305 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:23:15.3054472Z"
2025-05-08 14:23:15.323 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:23:15.3230973Z"
2025-05-08 14:23:15.324 +07:00 [INF] Response: 200
2025-05-08 14:23:15.293 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:23:15.326 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 9.8475ms
2025-05-08 14:23:15.326 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:15.327 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:15.328 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 119.343ms
2025-05-08 14:23:15.330 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:23:15.3308135Z"
2025-05-08 14:23:15.331 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:15.332 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 62.906ms
2025-05-08 14:23:15.333 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 54.9817ms
2025-05-08 14:23:15.338 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:15.339 +07:00 [INF] Response: 200
2025-05-08 14:23:15.341 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:23:15.342 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:15.343 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 72.0732ms
2025-05-08 14:23:15.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 136.5742ms
2025-05-08 14:23:15.345 +07:00 [INF] Response: 200
2025-05-08 14:23:15.346 +07:00 [INF] Response: 200
2025-05-08 14:23:15.347 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:23:15.351 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 141.0972ms
2025-05-08 14:23:15.352 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 144.2322ms
2025-05-08 14:23:15.353 +07:00 [INF] Response: 200
2025-05-08 14:23:15.361 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 152.5419ms
2025-05-08 14:23:30.747 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:23:30.747 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/null - null null
2025-05-08 14:23:30.747 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:23:30.747 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:23:30.747 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:23:30.750 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:23:30.753 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/null
2025-05-08 14:23:30.756 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:23:30.758 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:23:30.760 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:23:30.760 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.761 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.761 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.762 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.763 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.763 +07:00 [INF] Response: 204
2025-05-08 14:23:30.764 +07:00 [INF] Response: 204
2025-05-08 14:23:30.764 +07:00 [INF] Response: 204
2025-05-08 14:23:30.765 +07:00 [INF] Response: 204
2025-05-08 14:23:30.765 +07:00 [INF] Response: 204
2025-05-08 14:23:30.769 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:23:30.769 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/null - application/json 2
2025-05-08 14:23:30.768 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:23:30.767 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/null - 204 null null 19.2382ms
2025-05-08 14:23:30.771 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:23:30.769 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:23:30.767 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 19.7426ms
2025-05-08 14:23:30.768 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 20.3629ms
2025-05-08 14:23:30.770 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 22.677ms
2025-05-08 14:23:30.766 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 18.7899ms
2025-05-08 14:23:30.773 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:23:30.776 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/null
2025-05-08 14:23:30.779 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:23:30.785 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:23:30.789 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:23:30.804 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.805 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.806 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.806 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.807 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.808 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:30.809 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:23:30.809 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:23:30.810 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:23:30.811 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:30.812 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:23:30.814 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:23:30.816 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:23:30.817 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:23:30.825 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:30.819 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:23:30.831 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 7.7628ms
2025-05-08 14:23:30.818 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:23:30.835 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:30.834 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:23:30.841 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:23:30.821 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:23:30.830 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:30.843 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:23:30.843 +07:00 [INF] Response: 200
2025-05-08 14:23:30.846 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 17.769ms
2025-05-08 14:23:30.847 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:30.851 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:23:30.8516281Z"
2025-05-08 14:23:30.852 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 80.953ms
2025-05-08 14:23:30.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:30.853 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:30.855 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:23:30.8559011Z"
2025-05-08 14:23:30.856 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:30.865 +07:00 [INF] Response: 200
2025-05-08 14:23:30.867 +07:00 [WRN] SignOut attempt failed for Email null at "2025-05-08T07:23:30.8670283Z"
2025-05-08 14:23:30.867 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:23:30.868 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 49.6172ms
2025-05-08 14:23:30.869 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 100.2713ms
2025-05-08 14:23:30.871 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 49.5369ms
2025-05-08 14:23:30.871 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:30.872 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:23:30.876 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:23:30.877 +07:00 [INF] Response: 200
2025-05-08 14:23:30.877 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 38.5496ms
2025-05-08 14:23:30.878 +07:00 [INF] Response: 200
2025-05-08 14:23:30.879 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 109.9737ms
2025-05-08 14:23:30.880 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:23:30.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 113.164ms
2025-05-08 14:23:30.885 +07:00 [INF] Response: 400
2025-05-08 14:23:30.888 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/null - 400 null application/json; charset=utf-8 119.534ms
2025-05-08 14:23:30.893 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - null null
2025-05-08 14:23:30.896 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:23:30.896 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.897 +07:00 [INF] Response: 204
2025-05-08 14:23:30.898 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 204 null null 4.9623ms
2025-05-08 14:23:30.900 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - application/json 2
2025-05-08 14:23:30.903 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:23:30.904 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:30.905 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:23:30.909 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:23:30.912 +07:00 [INF] SignOut API called.
2025-05-08 14:23:30.917 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:23:30.928 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:23:30.944 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 14:23:30.948 +07:00 [INF] SignOut completed successful for Email huy260704@gmail.com at "2025-05-08T07:23:30.9480973Z"
2025-05-08 14:23:30.949 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:30.950 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 39.5252ms
2025-05-08 14:23:30.951 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:23:30.952 +07:00 [INF] Response: 200
2025-05-08 14:23:30.952 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 200 null application/json; charset=utf-8 52.9927ms
2025-05-08 14:23:32.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:23:32.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:23:32.557 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:23:32.560 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:23:32.564 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:23:32.567 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:23:32.567 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:32.568 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:32.569 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:23:32.569 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:23:32.570 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:23:32.571 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:23:32.572 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:32.573 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:23:32.575 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:23:32.582 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:23:32.577 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:23:32.585 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:23:32.586 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.6423ms
2025-05-08 14:23:32.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:23:32.591 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:23:32.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:23:32.600 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:23:32.6001376Z"
2025-05-08 14:23:32.601 +07:00 [INF] Response: 200
2025-05-08 14:23:32.604 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:23:32.6041665Z"
2025-05-08 14:23:32.605 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:32.605 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 48.4553ms
2025-05-08 14:23:32.606 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:23:32.608 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 30.6896ms
2025-05-08 14:23:32.613 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 27.5549ms
2025-05-08 14:23:32.614 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:23:32.615 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:23:32.616 +07:00 [INF] Response: 200
2025-05-08 14:23:32.617 +07:00 [INF] Response: 200
2025-05-08 14:23:32.618 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 61.2183ms
2025-05-08 14:23:32.619 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 62.0531ms
2025-05-08 14:24:01.093 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:24:01.095 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:24:01.094 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:24:01.096 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:24:01.097 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:24:01.099 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:24:01.102 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:24:01.104 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:24:01.104 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:24:01.105 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:24:01.105 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:24:01.106 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:24:01.106 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:24:01.107 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:24:01.108 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:24:01.109 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:24:01.109 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:24:01.110 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:24:01.111 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:24:01.116 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:24:01.112 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:24:01.118 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:24:01.120 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:24:01.121 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.4172ms
2025-05-08 14:24:01.124 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:24:01.128 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:24:01.127 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:24:01.128 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:24:01.136 +07:00 [INF] Response: 200
2025-05-08 14:24:01.136 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:24:01.1362315Z"
2025-05-08 14:24:01.141 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:24:01.1414720Z"
2025-05-08 14:24:01.143 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 19.7359ms
2025-05-08 14:24:01.143 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 49.8963ms
2025-05-08 14:24:01.144 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:24:01.144 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:24:01.146 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:24:01.150 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 29.5736ms
2025-05-08 14:24:01.151 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 32.7663ms
2025-05-08 14:24:01.152 +07:00 [INF] Response: 200
2025-05-08 14:24:01.153 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:24:01.154 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:24:01.155 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 59.3781ms
2025-05-08 14:24:01.156 +07:00 [INF] Response: 200
2025-05-08 14:24:01.157 +07:00 [INF] Response: 200
2025-05-08 14:24:01.160 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 65.9219ms
2025-05-08 14:24:01.161 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 65.968ms
2025-05-08 14:24:08.603 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:24:08.607 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:25:08.658 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:25:08.661 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:25:24.059 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:25:24.059 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:25:24.065 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:25:24.060 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:25:24.071 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:25:24.061 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:24.072 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:24.074 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:25:24.075 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:24.078 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:25:24.078 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:25:24.079 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:24.079 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:25:24.080 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:24.081 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:25:24.082 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:25:24.083 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:24.083 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:25:24.087 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:25:24.089 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:24.090 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:25:24.091 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:24.094 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:25:24.097 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:25:24.105 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:25:24.101 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:25:24.106 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:25:24.1065310Z"
2025-05-08 14:25:24.108 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:25:24.1088733Z"
2025-05-08 14:25:24.111 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:24.112 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:24.112 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 13.4749ms
2025-05-08 14:25:24.116 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 25.9788ms
2025-05-08 14:25:24.092 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.226ms
2025-05-08 14:25:24.119 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 24.2911ms
2025-05-08 14:25:24.120 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:25:24.120 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:25:24.121 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:25:24.123 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:25:24.124 +07:00 [INF] Response: 200
2025-05-08 14:25:24.124 +07:00 [INF] Response: 200
2025-05-08 14:25:24.125 +07:00 [INF] Response: 200
2025-05-08 14:25:24.126 +07:00 [INF] Response: 200
2025-05-08 14:25:24.127 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 66.2398ms
2025-05-08 14:25:24.127 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 67.8886ms
2025-05-08 14:25:24.128 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 69.068ms
2025-05-08 14:25:24.128 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 68.971ms
2025-05-08 14:25:25.805 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:25:25.805 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:25:25.808 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:25:25.808 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:25:25.809 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:25.811 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:25:25.811 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:25.814 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:25:25.816 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:25:25.817 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:25.817 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:25:25.818 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:25.819 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:25.819 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:25:25.820 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:25:25.821 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:25:25.826 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:25:25.823 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:25.822 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:25:25.827 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:25.828 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.5416ms
2025-05-08 14:25:25.829 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:25:25.830 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:25.833 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:25:25.836 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:25:25.839 +07:00 [INF] Response: 200
2025-05-08 14:25:25.839 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:25:25.832 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:25:25.843 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 37.9614ms
2025-05-08 14:25:25.847 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:25:25.844 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 8.1784ms
2025-05-08 14:25:25.842 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:25:25.8427989Z"
2025-05-08 14:25:25.852 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:25:25.8524255Z"
2025-05-08 14:25:25.853 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:25:25.854 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:25.854 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:25.855 +07:00 [INF] Response: 200
2025-05-08 14:25:25.856 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 26.9624ms
2025-05-08 14:25:25.858 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 25.5219ms
2025-05-08 14:25:25.858 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 49.4383ms
2025-05-08 14:25:25.859 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:25:25.860 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:25:25.864 +07:00 [INF] Response: 200
2025-05-08 14:25:25.865 +07:00 [INF] Response: 200
2025-05-08 14:25:25.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 60.4562ms
2025-05-08 14:25:25.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 58.3505ms
2025-05-08 14:25:28.444 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/title?title=l&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:28.447 +07:00 [INF] Incoming Request: GET /api/Movie/title
2025-05-08 14:25:28.448 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:28.449 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:28.453 +07:00 [INF] Route matched with {action = "SearchMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieTitle(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:28.457 +07:00 [INF] SearchMovieTitle API called.
2025-05-08 14:25:28.475 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-08 14:25:28.497 +07:00 [INF] Executed DbCommand (12ms) [Parameters=[@__p_2='?' (DbType = Int32), @__ToLower_0_contains='?' (Size = 255), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE LOWER([m].[Title]) LIKE @__ToLower_0_contains ESCAPE N'\' AND [m].[Status] = CAST(1 AS bit) AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:25:28.507 +07:00 [INF] SearchMovieTitle completed successfully at "2025-05-08T07:25:28.5070421Z"
2025-05-08 14:25:28.508 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:28.511 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API) in 55.0917ms
2025-05-08 14:25:28.512 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:28.513 +07:00 [INF] Response: 200
2025-05-08 14:25:28.514 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/title?title=l&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 69.9466ms
2025-05-08 14:25:29.205 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/title?title=la&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:29.208 +07:00 [INF] Incoming Request: GET /api/Movie/title
2025-05-08 14:25:29.208 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:29.209 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:29.210 +07:00 [INF] Route matched with {action = "SearchMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieTitle(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:29.212 +07:00 [INF] SearchMovieTitle API called.
2025-05-08 14:25:29.218 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__ToLower_0_contains='?' (Size = 255), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE LOWER([m].[Title]) LIKE @__ToLower_0_contains ESCAPE N'\' AND [m].[Status] = CAST(1 AS bit) AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:25:29.232 +07:00 [INF] SearchMovieTitle completed successfully at "2025-05-08T07:25:29.2328560Z"
2025-05-08 14:25:29.234 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:29.237 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API) in 24.7619ms
2025-05-08 14:25:29.239 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:29.240 +07:00 [INF] Response: 200
2025-05-08 14:25:29.241 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/title?title=la&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 36.0769ms
2025-05-08 14:25:30.486 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/title?title=lat&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:30.489 +07:00 [INF] Incoming Request: GET /api/Movie/title
2025-05-08 14:25:30.490 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:30.491 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:30.492 +07:00 [INF] Route matched with {action = "SearchMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieTitle(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:30.494 +07:00 [INF] SearchMovieTitle API called.
2025-05-08 14:25:30.501 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_2='?' (DbType = Int32), @__ToLower_0_contains='?' (Size = 255), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE LOWER([m].[Title]) LIKE @__ToLower_0_contains ESCAPE N'\' AND [m].[Status] = CAST(1 AS bit) AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:25:30.515 +07:00 [INF] SearchMovieTitle completed successfully at "2025-05-08T07:25:30.5150051Z"
2025-05-08 14:25:30.515 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:30.519 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API) in 24.1788ms
2025-05-08 14:25:30.520 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:30.520 +07:00 [INF] Response: 200
2025-05-08 14:25:30.521 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/title?title=lat&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 34.7171ms
2025-05-08 14:25:31.988 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/title?title=la&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:31.991 +07:00 [INF] Incoming Request: GET /api/Movie/title
2025-05-08 14:25:31.992 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:31.993 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:31.994 +07:00 [INF] Route matched with {action = "SearchMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieTitle(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:31.997 +07:00 [INF] SearchMovieTitle API called.
2025-05-08 14:25:32.001 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__ToLower_0_contains='?' (Size = 255), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE LOWER([m].[Title]) LIKE @__ToLower_0_contains ESCAPE N'\' AND [m].[Status] = CAST(1 AS bit) AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:25:32.014 +07:00 [INF] SearchMovieTitle completed successfully at "2025-05-08T07:25:32.0147615Z"
2025-05-08 14:25:32.015 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:32.018 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API) in 21.5579ms
2025-05-08 14:25:32.020 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:32.021 +07:00 [INF] Response: 200
2025-05-08 14:25:32.022 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/title?title=la&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 33.7803ms
2025-05-08 14:25:35.635 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/title?title=lat&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:35.637 +07:00 [INF] Incoming Request: GET /api/Movie/title
2025-05-08 14:25:35.638 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:35.639 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:35.640 +07:00 [INF] Route matched with {action = "SearchMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieTitle(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:35.642 +07:00 [INF] SearchMovieTitle API called.
2025-05-08 14:25:35.646 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__ToLower_0_contains='?' (Size = 255), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE LOWER([m].[Title]) LIKE @__ToLower_0_contains ESCAPE N'\' AND [m].[Status] = CAST(1 AS bit) AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:25:35.661 +07:00 [INF] SearchMovieTitle completed successfully at "2025-05-08T07:25:35.6615657Z"
2025-05-08 14:25:35.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:35.665 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API) in 23.3047ms
2025-05-08 14:25:35.667 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:35.668 +07:00 [INF] Response: 200
2025-05-08 14:25:35.669 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/title?title=lat&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 34.1492ms
2025-05-08 14:25:41.112 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/title?title=la&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:41.115 +07:00 [INF] Incoming Request: GET /api/Movie/title
2025-05-08 14:25:41.116 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:41.117 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:41.118 +07:00 [INF] Route matched with {action = "SearchMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieTitle(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:41.121 +07:00 [INF] SearchMovieTitle API called.
2025-05-08 14:25:41.124 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__ToLower_0_contains='?' (Size = 255), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE LOWER([m].[Title]) LIKE @__ToLower_0_contains ESCAPE N'\' AND [m].[Status] = CAST(1 AS bit) AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:25:41.139 +07:00 [INF] SearchMovieTitle completed successfully at "2025-05-08T07:25:41.1394447Z"
2025-05-08 14:25:41.140 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:41.143 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API) in 22.53ms
2025-05-08 14:25:41.145 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:41.146 +07:00 [INF] Response: 200
2025-05-08 14:25:41.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/title?title=la&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 34.4606ms
2025-05-08 14:25:41.380 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/title?title=l&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:41.384 +07:00 [INF] Incoming Request: GET /api/Movie/title
2025-05-08 14:25:41.384 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:41.385 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:41.387 +07:00 [INF] Route matched with {action = "SearchMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieTitle(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:41.390 +07:00 [INF] SearchMovieTitle API called.
2025-05-08 14:25:41.394 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__ToLower_0_contains='?' (Size = 255), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE LOWER([m].[Title]) LIKE @__ToLower_0_contains ESCAPE N'\' AND [m].[Status] = CAST(1 AS bit) AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:25:41.404 +07:00 [INF] SearchMovieTitle completed successfully at "2025-05-08T07:25:41.4048039Z"
2025-05-08 14:25:41.405 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:41.408 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API) in 18.4046ms
2025-05-08 14:25:41.409 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieTitle (CinemaHub.API)'
2025-05-08 14:25:41.410 +07:00 [INF] Response: 200
2025-05-08 14:25:41.411 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/title?title=l&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 30.8447ms
2025-05-08 14:25:43.267 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/genre-language-year?genreName=Psychological&language=null&year=0&pageSize=9&movieId=1000000 - null null
2025-05-08 14:25:43.270 +07:00 [INF] Incoming Request: GET /api/Movie/genre-language-year
2025-05-08 14:25:43.271 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:25:43.272 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenreAndLanguage (CinemaHub.API)'
2025-05-08 14:25:43.277 +07:00 [INF] Route matched with {action = "SearchMovieByGenreAndLanguage", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenreAndLanguage(System.String, System.String, Int32, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:25:43.281 +07:00 [INF] SearchMovieByGenreAndLanguageAndYear API called.
2025-05-08 14:25:43.301 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_2='?' (DbType = Int32), @__gerneName_0='?' (Size = 50), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM [Movies] AS [m]
WHERE [m].[Status] = CAST(1 AS bit) AND EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND [m1].[GenreName] = @__gerneName_0) AND [m].[MovieID] < @__Parse_1
ORDER BY [m].[MovieID] DESC
2025-05-08 14:25:43.304 +07:00 [INF] SearchMovieByGenreAndLanguageAndYear completed successfully at "2025-05-08T07:25:43.3049648Z"
2025-05-08 14:25:43.305 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:25:43.308 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenreAndLanguage (CinemaHub.API) in 28.7283ms
2025-05-08 14:25:43.309 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenreAndLanguage (CinemaHub.API)'
2025-05-08 14:25:43.311 +07:00 [INF] Response: 200
2025-05-08 14:25:43.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/genre-language-year?genreName=Psychological&language=null&year=0&pageSize=9&movieId=1000000 - 200 null application/json; charset=utf-8 44.3963ms
2025-05-08 14:26:08.715 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:26:08.719 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:26:38.345 +07:00 [INF] 1 servers were removed due to timeout
2025-05-08 14:26:59.818 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:26:59.818 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:26:59.825 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:26:59.818 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:26:59.828 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:26:59.829 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:26:59.835 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:26:59.835 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:26:59.823 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:26:59.836 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:26:59.837 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:26:59.838 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:26:59.840 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:26:59.841 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:26:59.842 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:26:59.842 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:26:59.843 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:26:59.847 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:26:59.849 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:26:59.850 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:26:59.850 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:26:59.851 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 5.8443ms
2025-05-08 14:26:59.860 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:26:59.857 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:26:59.858 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:26:59.866 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:26:59.8660290Z"
2025-05-08 14:26:59.870 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:26:59.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:26:59.861 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:26:59.874 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:26:59.876 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:26:59.8765310Z"
2025-05-08 14:26:59.877 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 28.4889ms
2025-05-08 14:26:59.878 +07:00 [INF] Response: 200
2025-05-08 14:26:59.881 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 10.3918ms
2025-05-08 14:26:59.881 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:26:59.882 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:26:59.883 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 64.9747ms
2025-05-08 14:26:59.884 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:26:59.885 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 27.9607ms
2025-05-08 14:26:59.886 +07:00 [INF] Response: 200
2025-05-08 14:26:59.890 +07:00 [INF] Response: 200
2025-05-08 14:26:59.891 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:26:59.892 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 73.3021ms
2025-05-08 14:26:59.893 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 69.7242ms
2025-05-08 14:26:59.894 +07:00 [INF] Response: 200
2025-05-08 14:26:59.901 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 82.9431ms
2025-05-08 14:27:02.762 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:27:02.763 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:27:02.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:27:02.763 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:27:02.767 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:27:02.770 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:27:02.773 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:27:02.776 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:27:02.777 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:02.778 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:02.779 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:02.780 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:02.781 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:27:02.782 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:27:02.783 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:27:02.783 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:27:02.784 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:27:02.785 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:02.791 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:27:02.786 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:02.787 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:02.794 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.328ms
2025-05-08 14:27:02.793 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:27:02.799 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:27:02.801 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:27:02.802 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:27:02.807 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:27:02.808 +07:00 [INF] Response: 200
2025-05-08 14:27:02.811 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:27:02.806 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 8.863ms
2025-05-08 14:27:02.814 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:27:02.8144858Z"
2025-05-08 14:27:02.815 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 52.6039ms
2025-05-08 14:27:02.817 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:27:02.8174824Z"
2025-05-08 14:27:02.818 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:27:02.819 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:27:02.824 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:27:02.825 +07:00 [INF] Response: 200
2025-05-08 14:27:02.826 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 33.0316ms
2025-05-08 14:27:02.828 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 27.0564ms
2025-05-08 14:27:02.828 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 64.8165ms
2025-05-08 14:27:02.829 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:27:02.831 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:27:02.836 +07:00 [INF] Response: 200
2025-05-08 14:27:02.838 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 74.9337ms
2025-05-08 14:27:02.837 +07:00 [INF] Response: 200
2025-05-08 14:27:02.843 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 80.0303ms
2025-05-08 14:27:08.763 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:27:08.766 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:27:22.726 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:27:22.727 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:27:22.726 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:27:22.728 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:27:22.731 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:27:22.734 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:27:22.738 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:27:22.741 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:27:22.742 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:22.743 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:22.744 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:22.744 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:22.745 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:27:22.746 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:27:22.746 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:27:22.747 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:27:22.748 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:27:22.749 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:22.751 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:22.757 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:27:22.762 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:27:22.758 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:27:22.764 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 8.7509ms
2025-05-08 14:27:22.767 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 6.5808ms
2025-05-08 14:27:22.769 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:27:22.750 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:22.772 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:27:22.772 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:27:22.774 +07:00 [INF] Response: 200
2025-05-08 14:27:22.778 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:27:22.780 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:27:22.7805439Z"
2025-05-08 14:27:22.781 +07:00 [INF] Response: 200
2025-05-08 14:27:22.781 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 55.025ms
2025-05-08 14:27:22.783 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:27:22.784 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 56.1877ms
2025-05-08 14:27:22.786 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:27:22.792 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 33.6552ms
2025-05-08 14:27:22.798 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:27:22.7987081Z"
2025-05-08 14:27:22.799 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:27:22.800 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:27:22.801 +07:00 [INF] Response: 200
2025-05-08 14:27:22.803 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 24.9663ms
2025-05-08 14:27:22.804 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 76.8547ms
2025-05-08 14:27:22.805 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:27:22.811 +07:00 [INF] Response: 200
2025-05-08 14:27:22.812 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 85.6279ms
2025-05-08 14:27:25.712 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:27:25.713 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:27:25.712 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:27:25.713 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:27:25.716 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:27:25.720 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:27:25.722 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:27:25.726 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:27:25.727 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:25.728 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:25.729 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:25.730 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:25.731 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:27:25.732 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:27:25.733 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:27:25.734 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:27:25.735 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:27:25.736 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:25.738 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:25.746 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:27:25.742 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:27:25.748 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:27:25.738 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:25.753 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:27:25.750 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 5.7734ms
2025-05-08 14:27:25.751 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 10.3298ms
2025-05-08 14:27:25.756 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:27:25.758 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:27:25.7583251Z"
2025-05-08 14:27:25.759 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:27:25.760 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:27:25.762 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:27:25.764 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:27:25.762 +07:00 [INF] Response: 200
2025-05-08 14:27:25.765 +07:00 [INF] Response: 200
2025-05-08 14:27:25.768 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 19.1923ms
2025-05-08 14:27:25.769 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:27:25.7698469Z"
2025-05-08 14:27:25.770 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 57.2996ms
2025-05-08 14:27:25.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 58.8976ms
2025-05-08 14:27:25.772 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:27:25.773 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:27:25.782 +07:00 [INF] Response: 200
2025-05-08 14:27:25.784 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 27.9792ms
2025-05-08 14:27:25.784 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 72.5702ms
2025-05-08 14:27:25.786 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:27:25.791 +07:00 [INF] Response: 200
2025-05-08 14:27:25.792 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 79.4577ms
2025-05-08 14:27:37.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:27:37.720 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:27:37.720 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:27:37.721 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:27:37.723 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:27:37.726 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:27:37.728 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:27:37.730 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:27:37.731 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:37.732 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:37.733 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:37.733 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:27:37.734 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:27:37.735 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:27:37.735 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:27:37.736 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:27:37.738 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:27:37.739 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:37.743 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:27:37.740 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:37.746 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.7227ms
2025-05-08 14:27:37.750 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:27:37.746 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:27:37.751 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:27:37.739 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:27:37.754 +07:00 [INF] Response: 200
2025-05-08 14:27:37.754 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 5.4414ms
2025-05-08 14:27:37.782 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 62.5416ms
2025-05-08 14:27:37.785 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:27:37.782 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:27:37.779 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:27:37.793 +07:00 [INF] Response: 200
2025-05-08 14:27:37.794 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:27:37.7947992Z"
2025-05-08 14:27:37.795 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 73.9421ms
2025-05-08 14:27:37.797 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:27:37.797 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:27:37.803 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 56.7844ms
2025-05-08 14:27:37.805 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:27:37.8057438Z"
2025-05-08 14:27:37.806 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:27:37.807 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:27:37.807 +07:00 [INF] Response: 200
2025-05-08 14:27:37.808 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 29.4996ms
2025-05-08 14:27:37.809 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 88.9036ms
2025-05-08 14:27:37.810 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:27:37.814 +07:00 [INF] Response: 200
2025-05-08 14:27:37.815 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 94.9835ms
2025-05-08 14:28:08.808 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:28:08.812 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:28:14.605 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 61
2025-05-08 14:28:14.609 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:28:14.610 +07:00 [INF] CORS policy execution failed.
2025-05-08 14:28:14.611 +07:00 [INF] Request origin https://localhost:7182 does not have permission to access the resource.
2025-05-08 14:28:14.612 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:28:14.613 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:28:14.616 +07:00 [INF] SignIn API called.
2025-05-08 14:28:14.619 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:28:14.706 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:28:14.713 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:28:14.716 +07:00 [INF] SignIn completed successfully for Email huy260704@gmail.com at "2025-05-08T07:28:14.7168279Z"
2025-05-08 14:28:14.717 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:28:14.719 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 104.1707ms
2025-05-08 14:28:14.720 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:28:14.721 +07:00 [INF] Response: 200
2025-05-08 14:28:14.722 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 117.4361ms
2025-05-08 14:28:25.244 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - null 0
2025-05-08 14:28:25.248 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:28:25.249 +07:00 [INF] CORS policy execution failed.
2025-05-08 14:28:25.250 +07:00 [INF] Request origin https://localhost:7182 does not have permission to access the resource.
2025-05-08 14:28:25.251 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:28:25.252 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:28:25.255 +07:00 [INF] SignOut API called.
2025-05-08 14:28:25.259 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:28:25.264 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:28:25.269 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 14:28:25.271 +07:00 [INF] SignOut completed successful for Email huy260704@gmail.com at "2025-05-08T07:28:25.2717954Z"
2025-05-08 14:28:25.273 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:28:25.274 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 18.9864ms
2025-05-08 14:28:25.275 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:28:25.277 +07:00 [INF] Response: 200
2025-05-08 14:28:25.278 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 200 null application/json; charset=utf-8 33.7003ms
2025-05-08 14:28:36.108 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 61
2025-05-08 14:28:36.113 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:28:36.113 +07:00 [INF] CORS policy execution failed.
2025-05-08 14:28:36.114 +07:00 [INF] Request origin https://localhost:7182 does not have permission to access the resource.
2025-05-08 14:28:36.116 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:28:36.117 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:28:36.119 +07:00 [INF] SignIn API called.
2025-05-08 14:28:36.125 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:28:36.213 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:28:36.220 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:28:36.224 +07:00 [INF] SignIn completed successfully for Email huy260704@gmail.com at "2025-05-08T07:28:36.2243063Z"
2025-05-08 14:28:36.225 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:28:36.227 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 107.7324ms
2025-05-08 14:28:36.228 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:28:36.229 +07:00 [INF] Response: 200
2025-05-08 14:28:36.230 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 122.0014ms
2025-05-08 14:28:47.333 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - null 0
2025-05-08 14:28:47.337 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/huy260704@gmail.com
2025-05-08 14:28:47.337 +07:00 [INF] CORS policy execution failed.
2025-05-08 14:28:47.338 +07:00 [INF] Request origin https://localhost:7182 does not have permission to access the resource.
2025-05-08 14:28:47.339 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:28:47.340 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:28:47.342 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:28:47.346 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:28:47.351 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:28:47.355 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:28:47.358 +07:00 [INF] RenewAccessToken completed successful for Email huy260704@gmail.com at "2025-05-08T07:28:47.3582333Z"
2025-05-08 14:28:47.359 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:28:47.361 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 18.6675ms
2025-05-08 14:28:47.362 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:28:47.364 +07:00 [INF] Response: 200
2025-05-08 14:28:47.364 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - 200 null application/json; charset=utf-8 31.0069ms
2025-05-08 14:28:54.755 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:28:54.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:28:54.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:28:54.757 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:28:54.758 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:28:54.761 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:28:54.764 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:28:54.767 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:28:54.768 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:28:54.769 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:28:54.769 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:28:54.770 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:28:54.771 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:28:54.771 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:28:54.772 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:28:54.773 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:28:54.774 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:28:54.775 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:28:54.781 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:28:54.785 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:28:54.776 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:28:54.788 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 8.1772ms
2025-05-08 14:28:54.793 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:28:54.793 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:28:54.798 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:28:54.796 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:28:54.777 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:28:54.801 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:28:54.8013416Z"
2025-05-08 14:28:54.803 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:28:54.8033107Z"
2025-05-08 14:28:54.803 +07:00 [INF] Response: 200
2025-05-08 14:28:54.808 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:28:54.807 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:28:54.809 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:28:54.810 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 54.606ms
2025-05-08 14:28:54.811 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 26.4517ms
2025-05-08 14:28:54.813 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 7.4896ms
2025-05-08 14:28:54.814 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 21.6051ms
2025-05-08 14:28:54.819 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:28:54.820 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:28:54.821 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:28:54.822 +07:00 [INF] Response: 200
2025-05-08 14:28:54.823 +07:00 [INF] Response: 200
2025-05-08 14:28:54.823 +07:00 [INF] Response: 200
2025-05-08 14:28:54.824 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 68.452ms
2025-05-08 14:28:54.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 67.9348ms
2025-05-08 14:28:54.826 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 70.0882ms
2025-05-08 14:28:59.696 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:28:59.696 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:28:59.696 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:28:59.696 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:28:59.700 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:28:59.702 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:28:59.705 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:28:59.708 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:28:59.709 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:28:59.709 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:28:59.710 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:28:59.711 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:28:59.712 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:28:59.713 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:28:59.713 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:28:59.714 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:28:59.715 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:28:59.716 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:28:59.718 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:28:59.719 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:28:59.726 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:28:59.722 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:28:59.728 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:28:59.731 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:28:59.733 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 8.1396ms
2025-05-08 14:28:59.736 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:28:59.738 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:28:59.740 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:28:59.733 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 12.854ms
2025-05-08 14:28:59.744 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:28:59.7442548Z"
2025-05-08 14:28:59.744 +07:00 [INF] Response: 200
2025-05-08 14:28:59.746 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:28:59.7465258Z"
2025-05-08 14:28:59.747 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:28:59.748 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:28:59.749 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 52.6074ms
2025-05-08 14:28:59.750 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:28:59.751 +07:00 [INF] Response: 200
2025-05-08 14:28:59.753 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 24.3558ms
2025-05-08 14:28:59.758 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 26.9157ms
2025-05-08 14:28:59.758 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 62.5635ms
2025-05-08 14:28:59.760 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:28:59.761 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:28:59.765 +07:00 [INF] Response: 200
2025-05-08 14:28:59.766 +07:00 [INF] Response: 200
2025-05-08 14:28:59.767 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 70.2141ms
2025-05-08 14:28:59.767 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 71.4771ms
2025-05-08 14:29:08.856 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:29:08.860 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:29:19.729 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:29:19.731 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:29:19.730 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:29:19.730 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:29:19.734 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:29:19.737 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:29:19.740 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:29:19.744 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:29:19.744 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:19.745 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:19.746 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:19.747 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:19.748 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:29:19.749 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:29:19.749 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:29:19.750 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:29:19.752 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:29:19.753 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:19.759 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:29:19.763 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:29:19.754 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:19.764 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.8219ms
2025-05-08 14:29:19.767 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 5.1562ms
2025-05-08 14:29:19.772 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:29:19.769 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:29:19.755 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:19.777 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:29:19.774 +07:00 [INF] Response: 200
2025-05-08 14:29:19.774 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:29:19.779 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:29:19.781 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:29:19.7813762Z"
2025-05-08 14:29:19.781 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 52.182ms
2025-05-08 14:29:19.784 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:19.783 +07:00 [INF] Response: 200
2025-05-08 14:29:19.786 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:29:19.792 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 23.4007ms
2025-05-08 14:29:19.792 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 61.3752ms
2025-05-08 14:29:19.795 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:29:19.7954765Z"
2025-05-08 14:29:19.796 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:29:19.799 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:19.800 +07:00 [INF] Response: 200
2025-05-08 14:29:19.802 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 22.4363ms
2025-05-08 14:29:19.802 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 72.2008ms
2025-05-08 14:29:19.804 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:29:19.809 +07:00 [INF] Response: 200
2025-05-08 14:29:19.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 80.3453ms
2025-05-08 14:29:27.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:29:27.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:29:27.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:29:27.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:29:27.721 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:29:27.724 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:29:27.727 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:29:27.730 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:29:27.731 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:27.732 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:27.732 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:27.733 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:27.733 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:29:27.734 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:29:27.735 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:29:27.735 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:29:27.737 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:29:27.738 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:27.739 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:27.748 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:29:27.740 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:27.752 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 6.0131ms
2025-05-08 14:29:27.749 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:29:27.743 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:29:27.754 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:29:27.755 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:29:27.758 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:29:27.760 +07:00 [INF] Response: 200
2025-05-08 14:29:27.762 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:29:27.756 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 14.375ms
2025-05-08 14:29:27.765 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:29:27.7650107Z"
2025-05-08 14:29:27.765 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 46.0358ms
2025-05-08 14:29:27.768 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:29:27.7680113Z"
2025-05-08 14:29:27.769 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:29:27.769 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:27.773 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:27.773 +07:00 [INF] Response: 200
2025-05-08 14:29:27.775 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 25.6904ms
2025-05-08 14:29:27.776 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 22.656ms
2025-05-08 14:29:27.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 59.268ms
2025-05-08 14:29:27.778 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:29:27.779 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:29:27.783 +07:00 [INF] Response: 200
2025-05-08 14:29:27.784 +07:00 [INF] Response: 200
2025-05-08 14:29:27.784 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 66.1249ms
2025-05-08 14:29:27.785 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 66.7341ms
2025-05-08 14:29:29.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:29:29.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:29:29.765 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:29:29.765 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:29:29.768 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:29:29.771 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:29:29.774 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:29:29.777 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:29:29.778 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:29.778 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:29.779 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:29.780 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:29.780 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:29:29.781 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:29:29.782 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:29:29.782 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:29:29.784 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:29:29.785 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:29.791 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:29:29.786 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:29.795 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 5.9749ms
2025-05-08 14:29:29.795 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:29:29.787 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:29.799 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:29:29.798 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:29:29.801 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 7.7453ms
2025-05-08 14:29:29.802 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:29:29.805 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:29:29.803 +07:00 [INF] Response: 200
2025-05-08 14:29:29.811 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:29:29.810 +07:00 [INF] Response: 200
2025-05-08 14:29:29.812 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 48.2665ms
2025-05-08 14:29:29.806 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:29:29.816 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:29:29.8160182Z"
2025-05-08 14:29:29.816 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 49.7043ms
2025-05-08 14:29:29.822 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:29:29.8220235Z"
2025-05-08 14:29:29.822 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:29.826 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:29.827 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 24.7591ms
2025-05-08 14:29:29.829 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 31.1837ms
2025-05-08 14:29:29.830 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:29:29.832 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:29:29.833 +07:00 [INF] Response: 200
2025-05-08 14:29:29.834 +07:00 [INF] Response: 200
2025-05-08 14:29:29.835 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 69.9466ms
2025-05-08 14:29:29.835 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 70.6686ms
2025-05-08 14:29:34.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:29:34.720 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:29:34.720 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:29:34.720 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:29:34.722 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:29:34.724 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:29:34.726 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:29:34.728 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:29:34.729 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:34.729 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:34.729 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:34.730 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:29:34.730 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:29:34.731 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:29:34.731 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:29:34.732 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:29:34.733 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:29:34.733 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:34.734 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:34.735 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:29:34.740 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:29:34.738 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:29:34.743 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:29:34.745 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:29:34.748 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:29:34.751 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 8.9969ms
2025-05-08 14:29:34.755 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:29:34.7554102Z"
2025-05-08 14:29:34.756 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:29:34.757 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:29:34.759 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:34.746 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 9.405ms
2025-05-08 14:29:34.763 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:29:34.7637542Z"
2025-05-08 14:29:34.764 +07:00 [INF] Response: 200
2025-05-08 14:29:34.765 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 24.5061ms
2025-05-08 14:29:34.766 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:29:34.767 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:34.767 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 47.4722ms
2025-05-08 14:29:34.769 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:29:34.770 +07:00 [INF] Response: 200
2025-05-08 14:29:34.771 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 25.7145ms
2025-05-08 14:29:34.775 +07:00 [INF] Response: 200
2025-05-08 14:29:34.775 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 56.5664ms
2025-05-08 14:29:34.776 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:29:34.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 57.1682ms
2025-05-08 14:29:34.781 +07:00 [INF] Response: 200
2025-05-08 14:29:34.785 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 64.8363ms
2025-05-08 14:29:44.430 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - null 0
2025-05-08 14:29:44.433 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:29:44.434 +07:00 [INF] CORS policy execution failed.
2025-05-08 14:29:44.435 +07:00 [INF] Request origin https://localhost:7182 does not have permission to access the resource.
2025-05-08 14:29:44.436 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:29:44.437 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:29:44.440 +07:00 [INF] SignOut API called.
2025-05-08 14:29:44.444 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:29:44.450 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:29:44.455 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 14:29:44.458 +07:00 [INF] SignOut completed successful for Email huy260704@gmail.com at "2025-05-08T07:29:44.4582236Z"
2025-05-08 14:29:44.459 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:29:44.461 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 21.1207ms
2025-05-08 14:29:44.462 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:29:44.463 +07:00 [INF] Response: 200
2025-05-08 14:29:44.464 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 200 null application/json; charset=utf-8 33.6417ms
2025-05-08 14:30:08.910 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:30:08.914 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:30:14.798 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:30:14.798 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:30:14.798 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:30:14.799 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:30:14.801 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:30:14.803 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:30:14.807 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:30:14.810 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:30:14.811 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:14.811 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:14.812 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:14.813 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:14.814 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:30:14.815 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:30:14.816 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:30:14.816 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:30:14.818 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:30:14.819 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:14.825 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:30:14.820 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:14.828 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.2807ms
2025-05-08 14:30:14.827 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:30:14.821 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:14.832 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:30:14.835 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:30:14.840 +07:00 [INF] Response: 200
2025-05-08 14:30:14.831 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:30:14.839 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:30:14.842 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:30:14.8429798Z"
2025-05-08 14:30:14.843 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 45.5634ms
2025-05-08 14:30:14.848 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:30:14.848 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 10.5964ms
2025-05-08 14:30:14.847 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:30:14.857 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 29.0851ms
2025-05-08 14:30:14.857 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:30:14.860 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:30:14.8605796Z"
2025-05-08 14:30:14.861 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:30:14.862 +07:00 [INF] Response: 200
2025-05-08 14:30:14.863 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:30:14.864 +07:00 [INF] Response: 200
2025-05-08 14:30:14.865 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 65.4496ms
2025-05-08 14:30:14.866 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 35.5559ms
2025-05-08 14:30:14.867 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 69.073ms
2025-05-08 14:30:14.872 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:30:14.877 +07:00 [INF] Response: 200
2025-05-08 14:30:14.877 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 79.2936ms
2025-05-08 14:30:28.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:30:28.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:30:28.761 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:30:28.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:30:28.763 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:30:28.765 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:30:28.768 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:30:28.772 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:30:28.773 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:28.773 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:28.774 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:28.774 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:28.775 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:30:28.776 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:30:28.777 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:30:28.778 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:30:28.779 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:28.780 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:28.781 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:28.782 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:30:28.789 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:30:28.784 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:30:28.786 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:30:28.796 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 7.7668ms
2025-05-08 14:30:28.799 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:30:28.800 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:30:28.793 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:30:28.798 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:30:28.805 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:30:28.8057463Z"
2025-05-08 14:30:28.806 +07:00 [INF] Response: 200
2025-05-08 14:30:28.807 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 14.8827ms
2025-05-08 14:30:28.810 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:30:28.8100039Z"
2025-05-08 14:30:28.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:30:28.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 50.1875ms
2025-05-08 14:30:28.812 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:30:28.813 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:30:28.815 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 28.7616ms
2025-05-08 14:30:28.819 +07:00 [INF] Response: 200
2025-05-08 14:30:28.821 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 36.7416ms
2025-05-08 14:30:28.822 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:30:28.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 63.3088ms
2025-05-08 14:30:28.824 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:30:28.825 +07:00 [INF] Response: 200
2025-05-08 14:30:28.831 +07:00 [INF] Response: 200
2025-05-08 14:30:28.832 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 71.5ms
2025-05-08 14:30:28.832 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 72.8814ms
2025-05-08 14:30:37.755 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:30:37.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:30:37.756 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:30:37.757 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:30:37.759 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:30:37.763 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:30:37.766 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:30:37.770 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:30:37.771 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:37.772 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:37.772 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:37.773 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:37.774 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:30:37.774 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:30:37.775 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:30:37.776 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:30:37.777 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:30:37.778 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:37.784 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:30:37.779 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:37.787 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 5.3057ms
2025-05-08 14:30:37.787 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:30:37.779 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:37.791 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:30:37.790 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:30:37.798 +07:00 [INF] Response: 200
2025-05-08 14:30:37.794 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:30:37.800 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 44.823ms
2025-05-08 14:30:37.798 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:30:37.802 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:30:37.805 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:30:37.8056852Z"
2025-05-08 14:30:37.811 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 15.5004ms
2025-05-08 14:30:37.813 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:30:37.8134963Z"
2025-05-08 14:30:37.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:30:37.815 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:30:37.816 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:30:37.817 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 30.5248ms
2025-05-08 14:30:37.818 +07:00 [INF] Response: 200
2025-05-08 14:30:37.820 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 29.9257ms
2025-05-08 14:30:37.821 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:30:37.822 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 65.4907ms
2025-05-08 14:30:37.823 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:30:37.825 +07:00 [INF] Response: 200
2025-05-08 14:30:37.829 +07:00 [INF] Response: 200
2025-05-08 14:30:37.829 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 73.5613ms
2025-05-08 14:30:37.830 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 74.2797ms
2025-05-08 14:30:44.732 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:30:44.732 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:30:44.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:30:44.732 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:30:44.736 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:30:44.739 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:30:44.742 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:30:44.745 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:30:44.746 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:44.746 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:44.747 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:44.747 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:30:44.748 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:30:44.748 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:30:44.749 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:30:44.750 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:30:44.751 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:30:44.752 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:44.758 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:30:44.754 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:44.761 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:30:44.762 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 5.3141ms
2025-05-08 14:30:44.766 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:30:44.768 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:30:44.772 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 7.9092ms
2025-05-08 14:30:44.773 +07:00 [INF] Response: 200
2025-05-08 14:30:44.774 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:30:44.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:30:44.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 45.7051ms
2025-05-08 14:30:44.779 +07:00 [INF] Response: 200
2025-05-08 14:30:44.755 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:30:44.782 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:30:44.7820144Z"
2025-05-08 14:30:44.785 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 51.3591ms
2025-05-08 14:30:44.788 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:30:44.789 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:30:44.795 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 33.9235ms
2025-05-08 14:30:44.796 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:30:44.799 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:30:44.801 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:30:44.8010981Z"
2025-05-08 14:30:44.802 +07:00 [INF] Response: 200
2025-05-08 14:30:44.803 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:30:44.803 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 70.9494ms
2025-05-08 14:30:44.805 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 16.6692ms
2025-05-08 14:30:44.810 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:30:44.812 +07:00 [INF] Response: 200
2025-05-08 14:30:44.813 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 80.3333ms
2025-05-08 14:31:08.959 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:31:08.963 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:31:42.542 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - null null
2025-05-08 14:31:42.545 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-in
2025-05-08 14:31:42.546 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.547 +07:00 [INF] Response: 204
2025-05-08 14:31:42.548 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - 204 null null 6.126ms
2025-05-08 14:31:42.549 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 52
2025-05-08 14:31:42.555 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:31:42.555 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.556 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:31:42.557 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:31:42.560 +07:00 [INF] SignIn API called.
2025-05-08 14:31:42.563 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:31:42.652 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:31:42.658 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:31:42.661 +07:00 [INF] SignIn completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:42.6613387Z"
2025-05-08 14:31:42.662 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:31:42.663 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 103.4366ms
2025-05-08 14:31:42.665 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:31:42.666 +07:00 [INF] Response: 200
2025-05-08 14:31:42.666 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 117.4405ms
2025-05-08 14:31:42.718 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:42.719 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:31:42.719 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:31:42.724 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:42.719 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:31:42.728 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:31:42.732 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:31:42.733 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.736 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:31:42.737 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.737 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.738 +07:00 [INF] Response: 204
2025-05-08 14:31:42.739 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.740 +07:00 [INF] Response: 204
2025-05-08 14:31:42.740 +07:00 [INF] Response: 204
2025-05-08 14:31:42.741 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 22.8303ms
2025-05-08 14:31:42.743 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 23.9471ms
2025-05-08 14:31:42.743 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 23.8524ms
2025-05-08 14:31:42.749 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:31:42.742 +07:00 [INF] Response: 204
2025-05-08 14:31:42.746 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:42.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:31:42.764 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:31:42.765 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 45.8962ms
2025-05-08 14:31:42.749 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:31:42.768 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:42.771 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:31:42.772 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.778 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:31:42.779 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.779 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.780 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:31:42.781 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:42.782 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:42.782 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:42.783 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:31:42.784 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:42.786 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:31:42.785 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:31:42.793 +07:00 [INF] ViewRatingStatistic API called.
2025-05-08 14:31:42.792 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:31:42.798 +07:00 [INF] ViewUserNotificationUnRead API called.
2025-05-08 14:31:42.798 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:31:42.801 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:31:42.804 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:42.806 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:42.810 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:42.8108809Z"
2025-05-08 14:31:42.815 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:31:42.820 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:31:42.825 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:31:42.831 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 32.7602ms
2025-05-08 14:31:42.831 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:42.836 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:31:42.8365197Z"
2025-05-08 14:31:42.837 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:42.841 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:42.842 +07:00 [INF] Response: 200
2025-05-08 14:31:42.843 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:31:42.844 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 43.6055ms
2025-05-08 14:31:42.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 98.8545ms
2025-05-08 14:31:42.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 4000), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [n].[NotificationID], [n].[Content], [n].[ContentDetail], [n].[CreatedAt], [n].[ReceiverId], [n].[Status], [n].[Title], [n].[UserId]
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit) AND [n].[NotificationID] < @__Parse_1
ORDER BY [n].[NotificationID] DESC
2025-05-08 14:31:42.849 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:42.856 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:31:42.859 +07:00 [INF] Response: 200
2025-05-08 14:31:42.859 +07:00 [INF] ViewUserNotificationUnRead completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:42.8593920Z"
2025-05-08 14:31:42.863 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:31:42.863 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 113.3933ms
2025-05-08 14:31:42.868 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:31:42.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Notification, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:42.874 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:31:42.877 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 83.0237ms
2025-05-08 14:31:42.878 +07:00 [INF] ViewRatingStatistic completed successfully at "2025-05-08T07:31:42.8785318Z"
2025-05-08 14:31:42.878 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:42.880 +07:00 [INF] Response: 200
2025-05-08 14:31:42.881 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 null application/json; charset=utf-8 114.7548ms
2025-05-08 14:31:42.884 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.ViewRatingStatisticResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:42.888 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 99.3991ms
2025-05-08 14:31:42.889 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:31:42.890 +07:00 [INF] Response: 200
2025-05-08 14:31:42.890 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 null application/json; charset=utf-8 141.4783ms
2025-05-08 14:31:48.174 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:31:48.175 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:31:48.175 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:31:48.175 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:31:48.175 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:31:48.174 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:31:48.174 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:48.177 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:31:48.181 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:31:48.184 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:31:48.187 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:31:48.189 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:31:48.193 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:31:48.196 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:48.196 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.197 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.198 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.198 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.199 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.200 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.201 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.201 +07:00 [INF] Response: 204
2025-05-08 14:31:48.202 +07:00 [INF] Response: 204
2025-05-08 14:31:48.203 +07:00 [INF] Response: 204
2025-05-08 14:31:48.203 +07:00 [INF] Response: 204
2025-05-08 14:31:48.204 +07:00 [INF] Response: 204
2025-05-08 14:31:48.208 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 33.2553ms
2025-05-08 14:31:48.212 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:31:48.220 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:31:48.225 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:31:48.209 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 34.0993ms
2025-05-08 14:31:48.233 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:31:48.236 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.210 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 204 null null 34.7915ms
2025-05-08 14:31:48.212 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 37.2504ms
2025-05-08 14:31:48.205 +07:00 [INF] Response: 204
2025-05-08 14:31:48.215 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:31:48.241 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.242 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:48.251 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:31:48.250 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 75.6865ms
2025-05-08 14:31:48.206 +07:00 [INF] Response: 204
2025-05-08 14:31:48.206 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 32.1912ms
2025-05-08 14:31:48.254 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:31:48.256 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:31:48.258 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:31:48.268 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:31:48.272 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:31:48.273 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.265 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:48.281 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:48.280 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 10.2746ms
2025-05-08 14:31:48.253 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:31:48.263 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 88.7396ms
2025-05-08 14:31:48.215 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:31:48.277 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:31:48.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:31:48.285 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:31:48.284 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:48.286 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:48.287 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.294 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:31:48.297 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 21.0212ms
2025-05-08 14:31:48.299 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:31:48.302 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:31:48.302 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.303 +07:00 [INF] Response: 200
2025-05-08 14:31:48.306 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:31:48.308 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:48.313 +07:00 [INF] Response: 200
2025-05-08 14:31:48.309 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 97.4977ms
2025-05-08 14:31:48.304 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:31:48.310 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:48.305 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.307 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:48.315 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 94.6995ms
2025-05-08 14:31:48.314 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:31:48.319 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:31:48.322 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:31:48.323 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:31:48.323 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:31:48.328 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:31:48.330 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:31:48.331 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:31:48.337 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:48.333 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:31:48.3336042Z"
2025-05-08 14:31:48.337 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:31:48.341 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:31:48.334 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:31:48.344 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:48.3449289Z"
2025-05-08 14:31:48.356 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:31:48.345 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:48.350 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:31:48.347 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:31:48.3475632Z"
2025-05-08 14:31:48.357 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:31:48.358 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.6354ms
2025-05-08 14:31:48.360 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 58.3558ms
2025-05-08 14:31:48.362 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:31:48.3623205Z"
2025-05-08 14:31:48.363 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:48.364 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 36.3529ms
2025-05-08 14:31:48.366 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:31:48.367 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:48.368 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:48.370 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 40.3668ms
2025-05-08 14:31:48.372 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:48.373 +07:00 [INF] Response: 200
2025-05-08 14:31:48.374 +07:00 [INF] Response: 200
2025-05-08 14:31:48.376 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 34.6091ms
2025-05-08 14:31:48.377 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:31:48.378 +07:00 [INF] Response: 200
2025-05-08 14:31:48.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 147.5667ms
2025-05-08 14:31:48.380 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 128.5185ms
2025-05-08 14:31:48.381 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:31:48.382 +07:00 [INF] Response: 200
2025-05-08 14:31:48.382 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 118.0736ms
2025-05-08 14:31:48.391 +07:00 [INF] Response: 200
2025-05-08 14:31:48.392 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 177.0716ms
2025-05-08 14:31:48.397 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 181.5909ms
2025-05-08 14:31:51.411 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:31:51.411 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:31:51.411 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:31:51.411 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:51.414 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:31:51.416 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:31:51.419 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:31:51.421 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:51.422 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:51.422 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:51.423 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:51.423 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:51.424 +07:00 [INF] Response: 204
2025-05-08 14:31:51.425 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:51.425 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:51.428 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:31:51.427 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 16.2855ms
2025-05-08 14:31:51.428 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:31:51.426 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:51.430 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:31:51.432 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:31:51.438 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:31:51.444 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:31:51.448 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:51.446 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:51.450 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 7.8816ms
2025-05-08 14:31:51.454 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:31:51.440 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:31:51.455 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:31:51.456 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:51.457 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:31:51.460 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:31:51.463 +07:00 [INF] Response: 200
2025-05-08 14:31:51.462 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:31:51.4626559Z"
2025-05-08 14:31:51.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 57.9934ms
2025-05-08 14:31:51.471 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:51.467 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:31:51.471 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:51.478 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 45.755ms
2025-05-08 14:31:51.479 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 13.427ms
2025-05-08 14:31:51.481 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:51.4818456Z"
2025-05-08 14:31:51.482 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:51.484 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:31:51.485 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:31:51.486 +07:00 [INF] Response: 200
2025-05-08 14:31:51.487 +07:00 [INF] Response: 200
2025-05-08 14:31:51.488 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 28.7333ms
2025-05-08 14:31:51.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 77.6705ms
2025-05-08 14:31:51.490 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 61.1333ms
2025-05-08 14:31:51.491 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:51.500 +07:00 [INF] Response: 200
2025-05-08 14:31:51.500 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 89.558ms
2025-05-08 14:31:53.408 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:31:53.408 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:31:53.408 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:31:53.408 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:53.408 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:53.408 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=3&id=1000000000 - null null
2025-05-08 14:31:53.408 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=3&id=1000000000 - null null
2025-05-08 14:31:53.411 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:31:53.414 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:31:53.417 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:31:53.420 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:53.424 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:53.427 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:31:53.431 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:31:53.432 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.432 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.433 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.434 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.435 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.435 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.436 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.437 +07:00 [INF] Response: 204
2025-05-08 14:31:53.438 +07:00 [INF] Response: 204
2025-05-08 14:31:53.439 +07:00 [INF] Response: 204
2025-05-08 14:31:53.440 +07:00 [INF] Response: 204
2025-05-08 14:31:53.446 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:31:53.448 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:53.445 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:31:53.447 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:31:53.444 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 204 null null 36.0428ms
2025-05-08 14:31:53.445 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 37.4701ms
2025-05-08 14:31:53.447 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 39.241ms
2025-05-08 14:31:53.441 +07:00 [INF] Response: 204
2025-05-08 14:31:53.442 +07:00 [INF] Response: 204
2025-05-08 14:31:53.443 +07:00 [INF] Response: 204
2025-05-08 14:31:53.443 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 35.8593ms
2025-05-08 14:31:53.454 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:53.451 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:31:53.457 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:31:53.461 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:31:53.475 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=3&id=1000000000 - null null
2025-05-08 14:31:53.475 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=3&id=1000000000 - null null
2025-05-08 14:31:53.473 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 64.9312ms
2025-05-08 14:31:53.473 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=3&id=1000000000 - 204 null null 65.0934ms
2025-05-08 14:31:53.474 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=3&id=1000000000 - 204 null null 65.7592ms
2025-05-08 14:31:53.479 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.480 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.481 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.482 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.485 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:31:53.488 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:31:53.501 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:53.502 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:31:53.503 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:53.504 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:53.505 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.506 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.507 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:31:53.508 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:31:53.509 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:31:53.511 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:31:53.515 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:31:53.517 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:31:53.511 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:31:53.525 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:31:53.531 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:53.538 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:53.531 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:31:53.512 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:31:53.550 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:31:53.522 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:31:53.547 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:31:53.556 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 35.5851ms
2025-05-08 14:31:53.553 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:31:53.561 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:53.566 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:53.569 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:31:53.560 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:31:53.5606943Z"
2025-05-08 14:31:53.571 +07:00 [INF] Response: 200
2025-05-08 14:31:53.544 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:31:53.576 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:31:53.575 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 130.1244ms
2025-05-08 14:31:53.585 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:53.575 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:53.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:31:53.581 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:53.5812343Z"
2025-05-08 14:31:53.528 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:53.599 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 73.9398ms
2025-05-08 14:31:53.600 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:31:53.608 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:31:53.604 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:31:53.607 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:53.6075305Z"
2025-05-08 14:31:53.609 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:31:53.613 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:53.6131950Z"
2025-05-08 14:31:53.613 +07:00 [INF] Response: 200
2025-05-08 14:31:53.615 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 97.5755ms
2025-05-08 14:31:53.622 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 175.4912ms
2025-05-08 14:31:53.624 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:31:53.624 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:31:53.616 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:31:53.625 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:53.632 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:53.6325104Z"
2025-05-08 14:31:53.635 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:31:53.632 +07:00 [INF] Response: 200
2025-05-08 14:31:53.633 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 118.7309ms
2025-05-08 14:31:53.635 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 68.7889ms
2025-05-08 14:31:53.639 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:31:53.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 193.9545ms
2025-05-08 14:31:53.641 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:31:53.642 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:53.643 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:31:53.644 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:31:53.651 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 102.028ms
2025-05-08 14:31:53.651 +07:00 [INF] Response: 200
2025-05-08 14:31:53.652 +07:00 [INF] Response: 200
2025-05-08 14:31:53.653 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:53.654 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:31:53.655 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 206.778ms
2025-05-08 14:31:53.655 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=3&id=1000000000 - 200 null application/json; charset=utf-8 180.379ms
2025-05-08 14:31:53.657 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:31:53.658 +07:00 [INF] Response: 200
2025-05-08 14:31:53.667 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:31:53.668 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=3&id=1000000000 - 200 null application/json; charset=utf-8 192.4509ms
2025-05-08 14:31:53.671 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:31:53.677 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:31:53.6779180Z"
2025-05-08 14:31:53.679 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:31:53.680 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 13.3183ms
2025-05-08 14:31:53.681 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:31:53.682 +07:00 [INF] Response: 200
2025-05-08 14:31:53.682 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 47.884ms
2025-05-08 14:32:06.187 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:06.187 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:32:06.187 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:06.187 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:06.190 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:06.195 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:32:06.199 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:06.202 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:06.202 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:06.203 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:06.203 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:06.204 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:06.205 +07:00 [INF] Response: 204
2025-05-08 14:32:06.205 +07:00 [INF] Response: 204
2025-05-08 14:32:06.206 +07:00 [INF] Response: 204
2025-05-08 14:32:06.210 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:32:06.208 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 20.9747ms
2025-05-08 14:32:06.211 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:06.209 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:06.210 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 22.8762ms
2025-05-08 14:32:06.207 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 20.1754ms
2025-05-08 14:32:06.207 +07:00 [INF] Response: 204
2025-05-08 14:32:06.213 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:32:06.220 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:06.231 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:06.222 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:06.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:06.230 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 42.3867ms
2025-05-08 14:32:06.232 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:06.233 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:32:06.234 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:06.236 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:06.241 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:06.242 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:32:06.242 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:06.249 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:06.245 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:06.252 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 5.0689ms
2025-05-08 14:32:06.251 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:06.243 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:06.256 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:06.258 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:32:06.261 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:06.262 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:06.264 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 8.9405ms
2025-05-08 14:32:06.264 +07:00 [INF] Response: 200
2025-05-08 14:32:06.269 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:06.266 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:06.267 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:06.271 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 61.0818ms
2025-05-08 14:32:06.272 +07:00 [INF] Response: 200
2025-05-08 14:32:06.274 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:06.277 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:06.2773660Z"
2025-05-08 14:32:06.281 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 70.344ms
2025-05-08 14:32:06.284 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:06.284 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:06.294 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:06.294 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 33.5856ms
2025-05-08 14:32:06.297 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:06.2971622Z"
2025-05-08 14:32:06.298 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:06.298 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:06.300 +07:00 [INF] Response: 200
2025-05-08 14:32:06.301 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 27.1527ms
2025-05-08 14:32:06.302 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 93.0868ms
2025-05-08 14:32:06.303 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:06.308 +07:00 [INF] Response: 200
2025-05-08 14:32:06.308 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 77.2086ms
2025-05-08 14:32:07.966 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:07.967 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:07.968 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:07.966 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:07.967 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:07.970 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:07.973 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:32:07.976 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:07.978 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:07.981 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:07.982 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:07.983 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:07.984 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:07.984 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:07.985 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:07.986 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:07.987 +07:00 [INF] Response: 204
2025-05-08 14:32:07.987 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:07.988 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:07.989 +07:00 [INF] Response: 204
2025-05-08 14:32:07.991 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 204 null null 23.4174ms
2025-05-08 14:32:07.994 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:07.991 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:07.992 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:07.992 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:07.993 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 26.1179ms
2025-05-08 14:32:07.990 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:08.001 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:08.003 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:08.005 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:08.008 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:32:08.017 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:08.021 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:08.022 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:08.024 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:32:08.020 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:08.023 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:08.015 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:08.032 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:08.032 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:08.033 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:08.034 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:08.0345805Z"
2025-05-08 14:32:08.038 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:08.0388913Z"
2025-05-08 14:32:08.044 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:32:08.036 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 22.6163ms
2025-05-08 14:32:08.048 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:08.049 +07:00 [INF] GetMovieByUserFavoritesEmail API called.
2025-05-08 14:32:08.049 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:08.051 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:08.052 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 47.3914ms
2025-05-08 14:32:08.055 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 52.0233ms
2025-05-08 14:32:08.057 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:08.062 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:08.056 +07:00 [INF] Response: 200
2025-05-08 14:32:08.064 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:08.058 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:08.068 +07:00 [INF] Response: 200
2025-05-08 14:32:08.068 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 101.9903ms
2025-05-08 14:32:08.072 +07:00 [INF] Response: 200
2025-05-08 14:32:08.073 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 105.1696ms
2025-05-08 14:32:08.077 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 111.0778ms
2025-05-08 14:32:08.081 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:08.081 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:08.093 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:32:08.095 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:08.0957693Z"
2025-05-08 14:32:08.099 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:08.101 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 59.281ms
2025-05-08 14:32:08.102 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:32:08.103 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:08.108 +07:00 [INF] Response: 200
2025-05-08 14:32:08.109 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 114.9405ms
2025-05-08 14:32:08.111 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:32:08.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:32:08.120 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:32:08.121 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:32:08.124 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:08.125 +07:00 [INF] Response: 204
2025-05-08 14:32:08.126 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 12.9677ms
2025-05-08 14:32:08.127 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:32:08.133 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:32:08.134 +07:00 [INF] GetMovieByUserFavoritesEmail completed successfully at "2025-05-08T07:32:08.1339745Z"
2025-05-08 14:32:08.134 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:08.135 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:08.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:08.140 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 95.5714ms
2025-05-08 14:32:08.141 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:32:08.142 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:08.142 +07:00 [INF] Response: 200
2025-05-08 14:32:08.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 153.4388ms
2025-05-08 14:32:08.151 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:08.151 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:32:08.155 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:32:08.156 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:08.157 +07:00 [INF] Response: 204
2025-05-08 14:32:08.158 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 204 null null 7.2898ms
2025-05-08 14:32:08.160 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:08.162 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:32:08.1624225Z"
2025-05-08 14:32:08.166 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:32:08.167 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:08.168 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:08.170 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 24.6872ms
2025-05-08 14:32:08.170 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:32:08.172 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:08.174 +07:00 [INF] Response: 200
2025-05-08 14:32:08.175 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 47.5667ms
2025-05-08 14:32:08.179 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:08.186 +07:00 [INF] ViewUserFavoritesByEmail API called.
2025-05-08 14:32:08.192 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:08.198 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:08.202 +07:00 [INF] ViewUserFavoritesByEmail completed successfully at "2025-05-08T07:32:08.2023083Z"
2025-05-08 14:32:08.206 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.UserFavorite, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:08.208 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 27.396ms
2025-05-08 14:32:08.210 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:32:08.211 +07:00 [INF] Response: 200
2025-05-08 14:32:08.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 51.8667ms
2025-05-08 14:32:09.042 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:32:09.046 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:32:09.623 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:09.626 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:32:09.627 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:09.628 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:32:09.629 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:09.633 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:09.638 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 6.1472ms
2025-05-08 14:32:09.639 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:32:09.640 +07:00 [INF] Response: 200
2025-05-08 14:32:09.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 200 29421 application/json 17.9089ms
2025-05-08 14:32:09.645 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:09.649 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:32:09.650 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:09.651 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:32:09.652 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:09.657 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:09.659 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 4.4801ms
2025-05-08 14:32:09.661 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:32:09.662 +07:00 [INF] Response: 200
2025-05-08 14:32:09.663 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 200 642 application/json 17.6694ms
2025-05-08 14:32:09.667 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:09.671 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:09.672 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:09.673 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:09.674 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:09.677 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:32:09.682 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:09.689 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:09.693 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:09.6934673Z"
2025-05-08 14:32:09.694 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:09.696 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 18.7061ms
2025-05-08 14:32:09.697 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:09.699 +07:00 [INF] Response: 200
2025-05-08 14:32:09.700 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 33.1727ms
2025-05-08 14:32:09.704 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:32:09.708 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:32:09.709 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:09.710 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:09.711 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:09.714 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:32:09.716 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:32:09.7166500Z"
2025-05-08 14:32:09.717 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:09.719 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 5.0488ms
2025-05-08 14:32:09.720 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:09.721 +07:00 [INF] Response: 200
2025-05-08 14:32:09.722 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 19.0373ms
2025-05-08 14:32:11.564 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - null null
2025-05-08 14:32:11.567 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:32:11.568 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:11.568 +07:00 [INF] Response: 204
2025-05-08 14:32:11.569 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - 204 null null 5.6044ms
2025-05-08 14:32:11.571 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - null null
2025-05-08 14:32:11.575 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:32:11.576 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:11.577 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:32:11.578 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:11.581 +07:00 [INF] GetMovieByUserFavoritesEmail API called.
2025-05-08 14:32:11.587 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:11.592 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:11.596 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:32:11.602 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:32:11.607 +07:00 [INF] GetMovieByUserFavoritesEmail completed successfully at "2025-05-08T07:32:11.6071617Z"
2025-05-08 14:32:11.608 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:11.611 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 30.5481ms
2025-05-08 14:32:11.613 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:32:11.614 +07:00 [INF] Response: 200
2025-05-08 14:32:11.614 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - 200 null application/json; charset=utf-8 43.3052ms
2025-05-08 14:32:11.618 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - null null
2025-05-08 14:32:11.621 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:32:11.622 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:11.623 +07:00 [INF] Response: 204
2025-05-08 14:32:11.623 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - 204 null null 5.224ms
2025-05-08 14:32:11.626 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - null null
2025-05-08 14:32:11.629 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:32:11.630 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:11.631 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:32:11.632 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:11.635 +07:00 [INF] ViewUserFavoritesByEmail API called.
2025-05-08 14:32:11.640 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:11.645 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:11.648 +07:00 [INF] ViewUserFavoritesByEmail completed successfully at "2025-05-08T07:32:11.6484568Z"
2025-05-08 14:32:11.650 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.UserFavorite, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:11.651 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 17.042ms
2025-05-08 14:32:11.652 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:32:11.653 +07:00 [INF] Response: 200
2025-05-08 14:32:11.654 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - 200 null application/json; charset=utf-8 28.345ms
2025-05-08 14:32:11.658 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - null null
2025-05-08 14:32:11.661 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:11.662 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:11.663 +07:00 [INF] Response: 204
2025-05-08 14:32:11.663 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - 204 null null 5.0334ms
2025-05-08 14:32:11.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - null null
2025-05-08 14:32:11.669 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:11.670 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:11.670 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:11.671 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:11.673 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:32:11.678 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:11.684 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:11.686 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:11.6867133Z"
2025-05-08 14:32:11.687 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:11.689 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 15.228ms
2025-05-08 14:32:11.690 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:11.691 +07:00 [INF] Response: 200
2025-05-08 14:32:11.692 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - 200 null application/json; charset=utf-8 27.3432ms
2025-05-08 14:32:11.696 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:32:11.699 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:32:11.700 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:11.700 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:11.701 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:11.703 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:32:11.705 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:32:11.7059160Z"
2025-05-08 14:32:11.706 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:11.707 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 4.312ms
2025-05-08 14:32:11.709 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:11.709 +07:00 [INF] Response: 200
2025-05-08 14:32:11.710 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 14.4217ms
2025-05-08 14:32:13.622 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=53 - null null
2025-05-08 14:32:13.626 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:32:13.626 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:13.627 +07:00 [INF] Response: 204
2025-05-08 14:32:13.628 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=53 - 204 null null 5.6922ms
2025-05-08 14:32:13.629 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=53 - null null
2025-05-08 14:32:13.635 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:32:13.636 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:13.637 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:32:13.638 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:13.642 +07:00 [INF] GetMovieByUserFavoritesEmail API called.
2025-05-08 14:32:13.648 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:13.653 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:13.656 +07:00 [WRN] GetMovieByUserFavoritesEmail attempt failed - WishList not found
2025-05-08 14:32:13.657 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:13.658 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 17.7119ms
2025-05-08 14:32:13.660 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:32:13.661 +07:00 [INF] Response: 400
2025-05-08 14:32:13.662 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=53 - 400 null application/json; charset=utf-8 32.4008ms
2025-05-08 14:32:13.666 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=53 - null null
2025-05-08 14:32:13.671 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:32:13.672 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:13.672 +07:00 [INF] Response: 204
2025-05-08 14:32:13.673 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=53 - 204 null null 6.5512ms
2025-05-08 14:32:13.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=53 - null null
2025-05-08 14:32:13.679 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:32:13.680 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:13.680 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:32:13.681 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:13.685 +07:00 [INF] ViewUserFavoritesByEmail API called.
2025-05-08 14:32:13.691 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:13.697 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:13.700 +07:00 [WRN] ViewUserFavoritesByEmail attempt failed - WishList not found
2025-05-08 14:32:13.701 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.UserFavorite, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:13.703 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 19.1469ms
2025-05-08 14:32:13.704 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:32:13.706 +07:00 [INF] Response: 400
2025-05-08 14:32:13.707 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=53 - 400 null application/json; charset=utf-8 31.7462ms
2025-05-08 14:32:13.711 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=53 - null null
2025-05-08 14:32:13.714 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:13.714 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:13.715 +07:00 [INF] Response: 204
2025-05-08 14:32:13.716 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=53 - 204 null null 5.2297ms
2025-05-08 14:32:13.718 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=53 - null null
2025-05-08 14:32:13.723 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:13.724 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:13.725 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:13.726 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:13.728 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:32:13.731 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:13.738 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:13.740 +07:00 [WRN] GetMovieWishList attempt failed - WishList not found
2025-05-08 14:32:13.741 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:13.743 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 14.9806ms
2025-05-08 14:32:13.744 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:13.745 +07:00 [INF] Response: 400
2025-05-08 14:32:13.746 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=53 - 400 null application/json; charset=utf-8 27.7766ms
2025-05-08 14:32:13.751 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:32:13.754 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:32:13.755 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:13.755 +07:00 [INF] Response: 204
2025-05-08 14:32:13.756 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 5.6007ms
2025-05-08 14:32:13.757 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:32:13.763 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:32:13.764 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:13.765 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:13.766 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:13.769 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:32:13.769 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:32:13.7699395Z"
2025-05-08 14:32:13.770 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:13.772 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.644ms
2025-05-08 14:32:13.773 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:13.774 +07:00 [INF] Response: 200
2025-05-08 14:32:13.775 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 17.7454ms
2025-05-08 14:32:34.634 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:34.634 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:32:34.634 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:34.634 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:34.637 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:34.640 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:32:34.644 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:34.646 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:34.647 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:34.648 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:34.649 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:34.650 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:34.650 +07:00 [INF] Response: 204
2025-05-08 14:32:34.651 +07:00 [INF] Response: 204
2025-05-08 14:32:34.652 +07:00 [INF] Response: 204
2025-05-08 14:32:34.653 +07:00 [INF] Response: 204
2025-05-08 14:32:34.654 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 20.4217ms
2025-05-08 14:32:34.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:32:34.655 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 21.1785ms
2025-05-08 14:32:34.670 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:32:34.657 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:34.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:34.656 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 22.1669ms
2025-05-08 14:32:34.654 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 19.742ms
2025-05-08 14:32:34.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:34.675 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:34.678 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:34.681 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:34.689 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:34.689 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:32:34.690 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:34.691 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:34.691 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:34.692 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:32:34.693 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:34.693 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:34.698 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:34.694 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:34.700 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:34.701 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:34.707 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:34.702 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 5.4593ms
2025-05-08 14:32:34.710 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:34.703 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:34.712 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.5013ms
2025-05-08 14:32:34.717 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:34.713 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:32:34.719 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:34.720 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:34.723 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:34.7235148Z"
2025-05-08 14:32:34.726 +07:00 [INF] Response: 200
2025-05-08 14:32:34.729 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:34.724 +07:00 [INF] Response: 200
2025-05-08 14:32:34.727 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:34.730 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 73.6107ms
2025-05-08 14:32:34.731 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 20.9456ms
2025-05-08 14:32:34.732 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 75.4622ms
2025-05-08 14:32:34.736 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:34.740 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:34.746 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:34.7469583Z"
2025-05-08 14:32:34.747 +07:00 [INF] Response: 200
2025-05-08 14:32:34.748 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:34.749 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 93.5261ms
2025-05-08 14:32:34.751 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 31.8911ms
2025-05-08 14:32:34.756 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:34.757 +07:00 [INF] Response: 200
2025-05-08 14:32:34.758 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 93.7644ms
2025-05-08 14:32:36.582 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:32:36.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:36.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:36.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:36.582 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:32:36.582 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:32:36.585 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:32:36.587 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:36.590 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:36.593 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:36.595 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:32:36.598 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:32:36.598 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.600 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.600 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.601 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.601 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.602 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.603 +07:00 [INF] Response: 204
2025-05-08 14:32:36.603 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:36.604 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:36.608 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:36.606 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 24.9117ms
2025-05-08 14:32:36.608 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:32:36.604 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:36.605 +07:00 [INF] Response: 204
2025-05-08 14:32:36.606 +07:00 [INF] Response: 204
2025-05-08 14:32:36.609 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:36.623 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:32:36.612 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:36.625 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:36.622 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:32:36.631 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:32:36.638 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:32:36.619 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:32:36.620 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:36.641 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.650 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:36.650 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:32:36.641 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:36.653 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:36.658 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:36.6586309Z"
2025-05-08 14:32:36.642 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.643 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:36.653 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.1852ms
2025-05-08 14:32:36.620 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 38.8878ms
2025-05-08 14:32:36.621 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 39.7001ms
2025-05-08 14:32:36.635 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:36.662 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:32:36.663 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:36.679 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:36.682 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 56.3201ms
2025-05-08 14:32:36.664 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:32:36.665 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:32:36.666 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:36.681 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:32:36.685 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:36.6857087Z"
2025-05-08 14:32:36.686 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:36.687 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:36.688 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:32:36.689 +07:00 [INF] Response: 200
2025-05-08 14:32:36.693 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:36.694 +07:00 [INF] Response: 200
2025-05-08 14:32:36.696 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:32:36.701 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 119.4125ms
2025-05-08 14:32:36.703 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 91.5696ms
2025-05-08 14:32:36.704 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 122.5384ms
2025-05-08 14:32:36.707 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:32:36.700 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:36.692 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:32:36.6923498Z"
2025-05-08 14:32:36.712 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:36.719 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:32:36.7192423Z"
2025-05-08 14:32:36.720 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 21.1187ms
2025-05-08 14:32:36.720 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:36.722 +07:00 [INF] Response: 200
2025-05-08 14:32:36.722 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:36.724 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:32:36.725 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 63.8709ms
2025-05-08 14:32:36.726 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 143.8854ms
2025-05-08 14:32:36.728 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 31.5223ms
2025-05-08 14:32:36.729 +07:00 [INF] Response: 200
2025-05-08 14:32:36.730 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:32:36.735 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:32:36.736 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 127.9708ms
2025-05-08 14:32:36.737 +07:00 [INF] Response: 200
2025-05-08 14:32:36.738 +07:00 [INF] Response: 200
2025-05-08 14:32:36.743 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 120.0354ms
2025-05-08 14:32:36.744 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 121.624ms
2025-05-08 14:32:37.685 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:37.685 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:37.686 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:37.685 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:37.688 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:37.690 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:37.692 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:37.695 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:37.695 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:37.696 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:37.697 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:37.698 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:37.699 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:37.699 +07:00 [INF] Response: 204
2025-05-08 14:32:37.700 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:37.701 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:37.702 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:37.703 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 17.981ms
2025-05-08 14:32:37.704 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:37.704 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:37.705 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:37.708 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:37.721 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:37.714 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:37.725 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:37.725 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 5.4268ms
2025-05-08 14:32:37.733 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:37.7329780Z"
2025-05-08 14:32:37.730 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:37.717 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:37.734 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:37.735 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:37.739 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:37.739 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:37.740 +07:00 [INF] Response: 200
2025-05-08 14:32:37.742 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 33.993ms
2025-05-08 14:32:37.742 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:37.745 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:37.7457184Z"
2025-05-08 14:32:37.746 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 60.3413ms
2025-05-08 14:32:37.747 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:37.748 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:37.749 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:37.754 +07:00 [INF] Response: 200
2025-05-08 14:32:37.756 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:32:37.758 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 44.0868ms
2025-05-08 14:32:37.759 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 73.794ms
2025-05-08 14:32:37.762 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:37.760 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:37.771 +07:00 [INF] Response: 200
2025-05-08 14:32:37.772 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:37.773 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 87.3613ms
2025-05-08 14:32:37.776 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:37.7762671Z"
2025-05-08 14:32:37.781 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:37.782 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 25.9177ms
2025-05-08 14:32:37.784 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:37.785 +07:00 [INF] Response: 200
2025-05-08 14:32:37.786 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 82.0863ms
2025-05-08 14:32:37.790 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:32:37.793 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:32:37.794 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:37.795 +07:00 [INF] Response: 204
2025-05-08 14:32:37.796 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 6.4674ms
2025-05-08 14:32:37.797 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:32:37.803 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:32:37.803 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:37.804 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:37.805 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:37.808 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:32:37.809 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:32:37.8096826Z"
2025-05-08 14:32:37.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:37.812 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 4.0214ms
2025-05-08 14:32:37.813 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:37.814 +07:00 [INF] Response: 200
2025-05-08 14:32:37.815 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 17.7461ms
2025-05-08 14:32:38.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:38.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:32:38.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:38.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:32:38.922 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:38.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:32:38.926 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:38.929 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:32:38.931 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:38.934 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:32:38.937 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:38.939 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:32:38.940 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:38.941 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:38.942 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:38.943 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:38.943 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:38.944 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:38.945 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:38.945 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:32:38.946 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:38.947 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:32:38.947 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:38.948 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:32:38.949 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:38.950 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:38.952 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:38.953 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:32:38.954 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:38.960 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:32:38.970 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:38.962 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:38.955 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:38.979 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:38.975 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:32:38.973 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 3.9462ms
2025-05-08 14:32:38.980 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:32:38.967 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:38.958 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:38.985 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:38.996 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:38.999 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:38.9991251Z"
2025-05-08 14:32:38.987 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:32:38.9873231Z"
2025-05-08 14:32:38.991 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:32:38.988 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:38.990 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 25.2954ms
2025-05-08 14:32:39.001 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:39.0013548Z"
2025-05-08 14:32:39.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:39.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:39.005 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:32:39.0050991Z"
2025-05-08 14:32:39.005 +07:00 [INF] Response: 200
2025-05-08 14:32:39.007 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:32:39.008 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:39.009 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 47.3487ms
2025-05-08 14:32:39.011 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 50.9293ms
2025-05-08 14:32:39.012 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:39.012 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 89.9547ms
2025-05-08 14:32:39.013 +07:00 [INF] Response: 200
2025-05-08 14:32:39.014 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 56.8022ms
2025-05-08 14:32:39.016 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:39.017 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:32:39.018 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 37.6163ms
2025-05-08 14:32:39.021 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 98.0916ms
2025-05-08 14:32:39.022 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:39.023 +07:00 [INF] Response: 200
2025-05-08 14:32:39.024 +07:00 [INF] Response: 200
2025-05-08 14:32:39.025 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:32:39.029 +07:00 [INF] Response: 200
2025-05-08 14:32:39.030 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 107.2639ms
2025-05-08 14:32:39.031 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 107.7807ms
2025-05-08 14:32:39.032 +07:00 [INF] Response: 200
2025-05-08 14:32:39.033 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 110.0686ms
2025-05-08 14:32:39.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 115.8792ms
2025-05-08 14:32:39.684 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:39.684 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:39.684 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:39.684 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:32:39.687 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:39.690 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:39.692 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:39.694 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:32:39.695 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:39.695 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:39.696 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:39.697 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:39.697 +07:00 [INF] Response: 204
2025-05-08 14:32:39.698 +07:00 [INF] Response: 204
2025-05-08 14:32:39.699 +07:00 [INF] Response: 204
2025-05-08 14:32:39.699 +07:00 [INF] Response: 204
2025-05-08 14:32:39.700 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 16.1401ms
2025-05-08 14:32:39.700 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 16.5631ms
2025-05-08 14:32:39.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:39.701 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 17.3293ms
2025-05-08 14:32:39.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:32:39.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:39.702 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:39.701 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 17.7924ms
2025-05-08 14:32:39.712 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:39.718 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:32:39.722 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:39.725 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:39.729 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:39.730 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:39.731 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:39.731 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:39.732 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:39.733 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:32:39.733 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:39.734 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:39.735 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:39.736 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:32:39.738 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:39.743 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:39.747 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:39.739 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:39.753 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:39.752 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 6.7355ms
2025-05-08 14:32:39.750 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:39.759 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:39.763 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:39.768 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:39.764 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:32:39.768 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 10.4747ms
2025-05-08 14:32:39.773 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:39.7732467Z"
2025-05-08 14:32:39.775 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:39.7756728Z"
2025-05-08 14:32:39.776 +07:00 [INF] Response: 200
2025-05-08 14:32:39.777 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:39.778 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:39.779 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:39.780 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 77.6032ms
2025-05-08 14:32:39.781 +07:00 [INF] Response: 200
2025-05-08 14:32:39.782 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 39.9918ms
2025-05-08 14:32:39.784 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 34.1063ms
2025-05-08 14:32:39.789 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 86.9053ms
2025-05-08 14:32:39.790 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:39.791 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:39.796 +07:00 [INF] Response: 200
2025-05-08 14:32:39.797 +07:00 [INF] Response: 200
2025-05-08 14:32:39.798 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 95.9583ms
2025-05-08 14:32:39.799 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 97.3532ms
2025-05-08 14:32:41.981 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:32:41.981 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:41.982 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:41.981 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:32:41.981 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:32:41.982 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:41.984 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:32:41.987 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:41.989 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:41.992 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:32:41.995 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:32:41.998 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:41.998 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:41.999 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.000 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.001 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.002 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.003 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.003 +07:00 [INF] Response: 204
2025-05-08 14:32:42.004 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:42.005 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:42.008 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 26.4103ms
2025-05-08 14:32:42.009 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:42.007 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:42.009 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:32:42.005 +07:00 [INF] Response: 204
2025-05-08 14:32:42.006 +07:00 [INF] Response: 204
2025-05-08 14:32:42.011 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:42.023 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:32:42.027 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:42.017 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:42.030 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:32:42.023 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:32:42.032 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.6417ms
2025-05-08 14:32:42.033 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.035 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:42.018 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:42.021 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:32:42.022 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 40.1864ms
2025-05-08 14:32:42.022 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 40.7924ms
2025-05-08 14:32:42.038 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:32:42.039 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:42.040 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:32:42.043 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:42.0434192Z"
2025-05-08 14:32:42.045 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:42.046 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.053 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.054 +07:00 [INF] Response: 200
2025-05-08 14:32:42.055 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:32:42.061 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 79.0111ms
2025-05-08 14:32:42.056 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:42.065 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:42.059 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:32:42.058 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:32:42.060 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:42.070 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 53.6063ms
2025-05-08 14:32:42.071 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.916ms
2025-05-08 14:32:42.072 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:42.073 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:42.077 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:42.077 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:42.079 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:32:42.080 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:32:42.082 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:32:42.084 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:42.0846585Z"
2025-05-08 14:32:42.089 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:32:42.085 +07:00 [INF] Response: 200
2025-05-08 14:32:42.086 +07:00 [INF] Response: 200
2025-05-08 14:32:42.091 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:32:42.090 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:42.096 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:32:42.0969358Z"
2025-05-08 14:32:42.097 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 115.655ms
2025-05-08 14:32:42.098 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 74.4824ms
2025-05-08 14:32:42.100 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:32:42.1001291Z"
2025-05-08 14:32:42.101 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 55.7132ms
2025-05-08 14:32:42.101 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:42.109 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:42.110 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:42.111 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 30.8577ms
2025-05-08 14:32:42.112 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 30.1853ms
2025-05-08 14:32:42.113 +07:00 [INF] Response: 200
2025-05-08 14:32:42.114 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:32:42.115 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:32:42.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 133.7609ms
2025-05-08 14:32:42.117 +07:00 [INF] Response: 200
2025-05-08 14:32:42.118 +07:00 [INF] Response: 200
2025-05-08 14:32:42.121 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 98.2726ms
2025-05-08 14:32:42.122 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 112.912ms
2025-05-08 14:32:42.472 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:42.472 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:42.472 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:32:42.472 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:42.476 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:42.479 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:42.481 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:32:42.483 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:42.484 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.485 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.486 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.486 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.487 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:42.488 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:42.489 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:42.489 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:42.490 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:42.492 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:42.498 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:42.493 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:32:42.501 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:42.494 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:42.504 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:32:42.508 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:42.514 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:42.518 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:42.502 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.3497ms
2025-05-08 14:32:42.509 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:42.521 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:32:42.527 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:42.523 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:42.5235933Z"
2025-05-08 14:32:42.524 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:42.532 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:42.5326004Z"
2025-05-08 14:32:42.535 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:42.5351292Z"
2025-05-08 14:32:42.535 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:42.537 +07:00 [INF] Response: 200
2025-05-08 14:32:42.538 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:42.539 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:42.540 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 39.4616ms
2025-05-08 14:32:42.541 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 69.4294ms
2025-05-08 14:32:42.543 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 38.745ms
2025-05-08 14:32:42.544 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 34.9904ms
2025-05-08 14:32:42.545 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:42.550 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:32:42.551 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:42.552 +07:00 [INF] Response: 200
2025-05-08 14:32:42.553 +07:00 [INF] Response: 200
2025-05-08 14:32:42.554 +07:00 [INF] Response: 200
2025-05-08 14:32:42.555 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 82.9019ms
2025-05-08 14:32:42.556 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 84.2994ms
2025-05-08 14:32:42.555 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 83.1296ms
2025-05-08 14:32:42.558 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:32:42.569 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:32:42.570 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:42.570 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:42.571 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:32:42.574 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:32:42.575 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:32:42.5754155Z"
2025-05-08 14:32:42.576 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:42.577 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.4043ms
2025-05-08 14:32:42.578 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:32:42.579 +07:00 [INF] Response: 200
2025-05-08 14:32:42.580 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 21.3622ms
2025-05-08 14:32:43.019 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:32:43.019 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/null - null null
2025-05-08 14:32:43.020 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:32:43.020 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:32:43.019 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - null null
2025-05-08 14:32:43.023 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:32:43.026 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/null
2025-05-08 14:32:43.027 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:32:43.030 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:32:43.033 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans
2025-05-08 14:32:43.033 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.034 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.035 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.035 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.036 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.037 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:43.037 +07:00 [INF] Response: 204
2025-05-08 14:32:43.038 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:43.039 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:43.042 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/null - 204 null null 22.9497ms
2025-05-08 14:32:43.043 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:43.040 +07:00 [INF] Response: 204
2025-05-08 14:32:43.052 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:43.045 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:32:43.056 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - null null
2025-05-08 14:32:43.054 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - 204 null null 34.775ms
2025-05-08 14:32:43.041 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:32:43.056 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 5.237ms
2025-05-08 14:32:43.043 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/null - application/json 2
2025-05-08 14:32:43.058 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:32:43.062 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans
2025-05-08 14:32:43.066 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:32:43.067 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:43.074 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:43.072 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.079 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:43.076 +07:00 [INF] Response: 200
2025-05-08 14:32:43.071 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/null
2025-05-08 14:32:43.084 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:32:43.085 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API)'
2025-05-08 14:32:43.088 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:43.0880950Z"
2025-05-08 14:32:43.088 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 68.807ms
2025-05-08 14:32:43.089 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.098 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlanStatus", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanStatusAsync(System.String, Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:32:43.094 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:32:43.092 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:32:43.0923103Z"
2025-05-08 14:32:43.104 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 37.6871ms
2025-05-08 14:32:43.098 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:32:43.105 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:43.105 +07:00 [INF] ViewAllSubscriptionPlanStatus API called.
2025-05-08 14:32:43.106 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:32:43.107 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:32:43.108 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 50.5962ms
2025-05-08 14:32:43.110 +07:00 [INF] Response: 200
2025-05-08 14:32:43.115 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:32:43.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:43.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 97.4167ms
2025-05-08 14:32:43.113 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:32:43.118 +07:00 [INF] Response: 200
2025-05-08 14:32:43.125 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 105.0775ms
2025-05-08 14:32:43.129 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:43.134 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:32:43.135 +07:00 [WRN] SignOut attempt failed for Email null at "2025-05-08T07:32:43.1356317Z"
2025-05-08 14:32:43.138 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:43.140 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 26.7031ms
2025-05-08 14:32:43.141 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:32:43.142 +07:00 [INF] Response: 400
2025-05-08 14:32:43.143 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/null - 400 null application/json; charset=utf-8 100.0009ms
2025-05-08 14:32:43.147 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - null null
2025-05-08 14:32:43.148 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
FROM [Payments] AS [p]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[SubscriptionPlanID] = 4 AND [p].[UserID] = @__payment_UserId_0
2025-05-08 14:32:43.152 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:32:43.156 +07:00 [INF] ViewAllSubscriptionPlanStatus completed successfully for Email huy260704@gmail.com at "2025-05-08T07:32:43.1563408Z"
2025-05-08 14:32:43.156 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.157 +07:00 [INF] Response: 204
2025-05-08 14:32:43.158 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 204 null null 11.4723ms
2025-05-08 14:32:43.159 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:43.160 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - application/json 2
2025-05-08 14:32:43.164 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API) in 63.7765ms
2025-05-08 14:32:43.166 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:32:43.167 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API)'
2025-05-08 14:32:43.168 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.169 +07:00 [INF] Response: 200
2025-05-08 14:32:43.169 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:32:43.170 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - 200 null application/json; charset=utf-8 114.1087ms
2025-05-08 14:32:43.171 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:32:43.176 +07:00 [INF] SignOut API called.
2025-05-08 14:32:43.179 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:32:43.185 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:32:43.189 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 14:32:43.192 +07:00 [INF] SignOut completed successful for Email huy260704@gmail.com at "2025-05-08T07:32:43.1920575Z"
2025-05-08 14:32:43.193 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:32:43.194 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 18.1887ms
2025-05-08 14:32:43.195 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:32:43.196 +07:00 [INF] Response: 200
2025-05-08 14:32:43.197 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 200 null application/json; charset=utf-8 37.1344ms
2025-05-08 14:32:43.227 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:32:43.229 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:32:43.230 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:32:43.231 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:32:43.232 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:32:43.235 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:32:43.236 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 2.7072ms
2025-05-08 14:32:43.237 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:32:43.239 +07:00 [INF] Response: 200
2025-05-08 14:32:43.239 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 12.8374ms
2025-05-08 14:33:09.119 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:33:09.123 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:33:32.158 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:33:32.161 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:33:32.162 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:33:32.162 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:33:32.163 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:33:32.167 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:33:32.169 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.6053ms
2025-05-08 14:33:32.172 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:33:32.174 +07:00 [INF] Response: 200
2025-05-08 14:33:32.179 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 20.5219ms
2025-05-08 14:33:36.155 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:33:36.159 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:33:36.160 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:33:36.160 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:33:36.161 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:33:36.165 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:33:36.167 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.1384ms
2025-05-08 14:33:36.168 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:33:36.170 +07:00 [INF] Response: 200
2025-05-08 14:33:36.171 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 15.7175ms
2025-05-08 14:33:55.166 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:33:55.169 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:33:55.170 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:33:55.171 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:33:55.172 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:33:55.175 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:33:55.177 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.0307ms
2025-05-08 14:33:55.178 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:33:55.180 +07:00 [INF] Response: 200
2025-05-08 14:33:55.180 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 14.2364ms
2025-05-08 14:33:58.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:33:58.108 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:33:58.109 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:33:58.109 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:33:58.110 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:33:58.114 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:33:58.117 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.6159ms
2025-05-08 14:33:58.119 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:33:58.119 +07:00 [INF] Response: 200
2025-05-08 14:33:58.120 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 15.5077ms
2025-05-08 14:34:00.985 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:34:00.988 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:34:00.989 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:00.990 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:34:00.991 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:34:00.995 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:34:00.996 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.0182ms
2025-05-08 14:34:00.998 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:34:00.999 +07:00 [INF] Response: 200
2025-05-08 14:34:00.999 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 14.0899ms
2025-05-08 14:34:09.164 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:34:09.168 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:34:41.007 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - null null
2025-05-08 14:34:41.010 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-in
2025-05-08 14:34:41.010 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.011 +07:00 [INF] Response: 204
2025-05-08 14:34:41.012 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - 204 null null 4.8885ms
2025-05-08 14:34:41.013 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 52
2025-05-08 14:34:41.018 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:34:41.019 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.020 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:34:41.021 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:34:41.024 +07:00 [INF] SignIn API called.
2025-05-08 14:34:41.027 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:34:41.117 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:34:41.122 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:34:41.126 +07:00 [INF] SignIn completed successfully for Email huy260704@gmail.com at "2025-05-08T07:34:41.1261540Z"
2025-05-08 14:34:41.127 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:34:41.129 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 105.3201ms
2025-05-08 14:34:41.130 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:34:41.131 +07:00 [INF] Response: 200
2025-05-08 14:34:41.132 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 118.645ms
2025-05-08 14:34:41.168 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:34:41.169 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:34:41.169 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:34:41.174 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:34:41.169 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:34:41.177 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:34:41.179 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:34:41.180 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.182 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:34:41.182 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.183 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.184 +07:00 [INF] Response: 204
2025-05-08 14:34:41.184 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.185 +07:00 [INF] Response: 204
2025-05-08 14:34:41.186 +07:00 [INF] Response: 204
2025-05-08 14:34:41.186 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 18.2085ms
2025-05-08 14:34:41.191 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:34:41.188 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 19.3175ms
2025-05-08 14:34:41.188 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 19.848ms
2025-05-08 14:34:41.187 +07:00 [INF] Response: 204
2025-05-08 14:34:41.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:34:41.201 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:34:41.208 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:34:41.206 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 37.1358ms
2025-05-08 14:34:41.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:34:41.209 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:34:41.210 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.212 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:34:41.217 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:34:41.218 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.218 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:34:41.219 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.219 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:41.220 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:41.221 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:34:41.222 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:34:41.222 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:41.223 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:34:41.225 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:34:41.226 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:34:41.234 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:41.237 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:34:41.227 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:34:41.240 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 5.3885ms
2025-05-08 14:34:41.240 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:34:41.2400444Z"
2025-05-08 14:34:41.230 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:34:41.242 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:34:41.243 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:34:41.244 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:34:41.246 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 17.3429ms
2025-05-08 14:34:41.247 +07:00 [INF] Response: 200
2025-05-08 14:34:41.248 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:41.251 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 25.8706ms
2025-05-08 14:34:41.252 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:41.252 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 44.2268ms
2025-05-08 14:34:41.256 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:34:41.256 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:34:41.257 +07:00 [INF] Response: 200
2025-05-08 14:34:41.262 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:34:41.2623184Z"
2025-05-08 14:34:41.262 +07:00 [INF] Response: 200
2025-05-08 14:34:41.263 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 69.2033ms
2025-05-08 14:34:41.264 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:34:41.264 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 73.42ms
2025-05-08 14:34:41.268 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 25.7809ms
2025-05-08 14:34:41.272 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:41.273 +07:00 [INF] Response: 200
2025-05-08 14:34:41.274 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 80.1397ms
2025-05-08 14:34:44.084 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:34:44.084 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:34:44.085 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:34:44.087 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:34:44.090 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:34:44.094 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:34:44.095 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:44.095 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:44.096 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:44.096 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:34:44.097 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:44.098 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:44.099 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:34:44.100 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:34:44.101 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:34:44.108 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:34:44.104 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:34:44.111 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:34:44.113 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.0239ms
2025-05-08 14:34:44.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:44.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:44.116 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:44.123 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:34:44.1235363Z"
2025-05-08 14:34:44.127 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:34:44.127 +07:00 [INF] Response: 200
2025-05-08 14:34:44.128 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:34:44.131 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:34:44.1312368Z"
2025-05-08 14:34:44.131 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 47.3509ms
2025-05-08 14:34:44.133 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 28.9756ms
2025-05-08 14:34:44.134 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:34:44.140 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:34:44.141 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 30.1978ms
2025-05-08 14:34:44.142 +07:00 [INF] Response: 200
2025-05-08 14:34:44.143 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:44.144 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 60.1913ms
2025-05-08 14:34:44.145 +07:00 [INF] Response: 200
2025-05-08 14:34:44.150 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 65.4534ms
2025-05-08 14:34:45.294 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:34:45.295 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:34:45.295 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:34:45.297 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:34:45.299 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:34:45.302 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:34:45.303 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:45.303 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:45.304 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:45.304 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:34:45.305 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:45.306 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:45.307 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:34:45.308 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:34:45.309 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:34:45.312 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:34:45.314 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:34:45.318 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:34:45.322 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:45.323 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:45.328 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:34:45.3287642Z"
2025-05-08 14:34:45.324 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 7.5603ms
2025-05-08 14:34:45.338 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:34:45.339 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:34:45.340 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:45.342 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:34:45.3426558Z"
2025-05-08 14:34:45.344 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 31.6367ms
2025-05-08 14:34:45.345 +07:00 [INF] Response: 200
2025-05-08 14:34:45.346 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:34:45.347 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:34:45.347 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 53.0432ms
2025-05-08 14:34:45.349 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 34.6916ms
2025-05-08 14:34:45.350 +07:00 [INF] Response: 200
2025-05-08 14:34:45.355 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:45.356 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 62.191ms
2025-05-08 14:34:45.357 +07:00 [INF] Response: 200
2025-05-08 14:34:45.362 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 67.0832ms
2025-05-08 14:34:53.973 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:34:53.974 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:34:53.974 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:34:53.973 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:34:53.973 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:34:53.977 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:34:53.979 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:34:53.982 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:34:53.985 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:34:53.987 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:34:53.988 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:53.988 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:53.989 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:53.990 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:53.991 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:53.991 +07:00 [INF] Response: 204
2025-05-08 14:34:53.992 +07:00 [INF] Response: 204
2025-05-08 14:34:53.993 +07:00 [INF] Response: 204
2025-05-08 14:34:53.993 +07:00 [INF] Response: 204
2025-05-08 14:34:53.996 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 204 null null 21.6513ms
2025-05-08 14:34:53.997 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:34:54.004 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:34:53.995 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 21.5304ms
2025-05-08 14:34:53.998 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:34:53.997 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:34:53.996 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 22.4316ms
2025-05-08 14:34:53.997 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 24.0879ms
2025-05-08 14:34:53.994 +07:00 [INF] Response: 204
2025-05-08 14:34:54.008 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:34:54.011 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:34:54.030 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.018 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:34:54.021 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:34:54.031 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.031 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:34:54.030 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:34:54.029 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 55.5472ms
2025-05-08 14:34:54.032 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.033 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.033 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:54.034 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:34:54.038 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:34:54.048 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:34:54.044 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:34:54.042 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:34:54.043 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:34:54.049 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.051 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 4.9718ms
2025-05-08 14:34:54.053 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:34:54.054 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:34:54.061 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:54.064 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:34:54.056 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:34:54.067 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:34:54.056 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:54.058 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:34:54.070 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:54.073 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:34:54.076 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:34:54.0760114Z"
2025-05-08 14:34:54.077 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:34:54.083 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:34:54.084 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:34:54.083 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:34:54.078 +07:00 [INF] Response: 200
2025-05-08 14:34:54.089 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:34:54.092 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 38.2335ms
2025-05-08 14:34:54.094 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:34:54.0940347Z"
2025-05-08 14:34:54.097 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:34:54.0974440Z"
2025-05-08 14:34:54.098 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 200 29421 application/json 100.6787ms
2025-05-08 14:34:54.101 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:54.101 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:34:54.104 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:34:54.103 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:34:54.100 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 11.6623ms
2025-05-08 14:34:54.107 +07:00 [INF] Response: 200
2025-05-08 14:34:54.109 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 36.5662ms
2025-05-08 14:34:54.112 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:34:54.114 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 50.9049ms
2025-05-08 14:34:54.115 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:34:54.115 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 111.6462ms
2025-05-08 14:34:54.116 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:34:54.117 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.118 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:34:54.120 +07:00 [INF] Response: 200
2025-05-08 14:34:54.125 +07:00 [INF] Response: 200
2025-05-08 14:34:54.126 +07:00 [INF] Response: 204
2025-05-08 14:34:54.127 +07:00 [INF] Response: 200
2025-05-08 14:34:54.128 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 97.6275ms
2025-05-08 14:34:54.129 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 131.8343ms
2025-05-08 14:34:54.131 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:34:54.130 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 204 null null 25.8867ms
2025-05-08 14:34:54.130 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 132.1678ms
2025-05-08 14:34:54.135 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:34:54.141 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:34:54.151 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:34:54.151 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.152 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.153 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:34:54.154 +07:00 [INF] Response: 204
2025-05-08 14:34:54.155 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:34:54.157 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:34:54.156 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 21.2575ms
2025-05-08 14:34:54.160 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:34:54.163 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:34:54.167 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 8.7042ms
2025-05-08 14:34:54.168 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:34:54.169 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:34:54.169 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:34:54.170 +07:00 [INF] Response: 200
2025-05-08 14:34:54.172 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:34:54.172 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 200 642 application/json 41.5561ms
2025-05-08 14:34:54.175 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:34:54.179 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:34:54.1797915Z"
2025-05-08 14:34:54.180 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:34:54.181 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 6.6667ms
2025-05-08 14:34:54.183 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:34:54.184 +07:00 [INF] Response: 200
2025-05-08 14:34:54.185 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 27.8043ms
2025-05-08 14:35:09.224 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:35:09.229 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:35:25.792 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - null null
2025-05-08 14:35:25.795 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:35:25.796 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:25.797 +07:00 [INF] Response: 204
2025-05-08 14:35:25.798 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - 204 null null 5.8124ms
2025-05-08 14:35:25.799 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - null null
2025-05-08 14:35:25.805 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:35:25.806 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:25.807 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:35:25.808 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:35:25.812 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:25.815 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 5.02ms
2025-05-08 14:35:25.817 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:35:25.818 +07:00 [INF] Response: 200
2025-05-08 14:35:25.819 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - 200 10799 application/json 19.3586ms
2025-05-08 14:35:25.824 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - null null
2025-05-08 14:35:25.827 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:35:25.828 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:25.829 +07:00 [INF] Response: 204
2025-05-08 14:35:25.829 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - 204 null null 5.555ms
2025-05-08 14:35:25.831 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - null null
2025-05-08 14:35:25.836 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:35:25.837 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:25.838 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:35:25.839 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:35:25.843 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:25.844 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 3.7325ms
2025-05-08 14:35:25.845 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:35:25.847 +07:00 [INF] Response: 200
2025-05-08 14:35:25.847 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - 200 361 application/json 16.5088ms
2025-05-08 14:35:25.852 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - null null
2025-05-08 14:35:25.855 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:35:25.856 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:25.857 +07:00 [INF] Response: 204
2025-05-08 14:35:25.858 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - 204 null null 5.3465ms
2025-05-08 14:35:25.859 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - null null
2025-05-08 14:35:25.863 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:35:25.864 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:25.866 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:35:25.866 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:35:25.869 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:35:25.872 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:25.878 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:35:25.882 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:25.8821495Z"
2025-05-08 14:35:25.883 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:25.884 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 15.4343ms
2025-05-08 14:35:25.886 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:35:25.887 +07:00 [INF] Response: 200
2025-05-08 14:35:25.888 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - 200 null application/json; charset=utf-8 29.0283ms
2025-05-08 14:35:25.893 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:35:25.896 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:35:25.896 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:25.897 +07:00 [INF] Response: 204
2025-05-08 14:35:25.898 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 4.9691ms
2025-05-08 14:35:25.899 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:35:25.905 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:35:25.906 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:25.907 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:35:25.908 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:25.911 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:35:25.912 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:35:25.9119966Z"
2025-05-08 14:35:25.912 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:25.913 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 2.9228ms
2025-05-08 14:35:25.915 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:35:25.916 +07:00 [INF] Response: 200
2025-05-08 14:35:25.916 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 17.1583ms
2025-05-08 14:35:27.957 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:27.959 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:35:27.958 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:35:27.958 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:35:27.958 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:27.959 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:35:27.957 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:27.961 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:27.963 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:35:27.967 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:35:27.970 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:35:27.973 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:27.975 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:35:27.978 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:27.979 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:27.980 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:27.980 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:27.981 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:27.982 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:27.983 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:27.983 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:27.984 +07:00 [INF] Response: 204
2025-05-08 14:35:27.984 +07:00 [INF] Response: 204
2025-05-08 14:35:27.985 +07:00 [INF] Response: 204
2025-05-08 14:35:27.986 +07:00 [INF] Response: 204
2025-05-08 14:35:27.987 +07:00 [INF] Response: 204
2025-05-08 14:35:27.990 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 31.5645ms
2025-05-08 14:35:27.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:35:27.999 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:35:28.006 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:35:27.992 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:27.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:35:27.991 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 32.6746ms
2025-05-08 14:35:27.991 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 33.3807ms
2025-05-08 14:35:27.992 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 34.3952ms
2025-05-08 14:35:27.989 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 32.1014ms
2025-05-08 14:35:27.988 +07:00 [INF] Response: 204
2025-05-08 14:35:27.989 +07:00 [INF] Response: 204
2025-05-08 14:35:28.001 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:28.012 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:28.010 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:35:28.015 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:28.018 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:35:28.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:28.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:35:28.032 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 204 null null 73.5761ms
2025-05-08 14:35:28.033 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 75.5689ms
2025-05-08 14:35:28.036 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:28.037 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:35:28.038 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:28.038 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:28.039 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:28.042 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:28.045 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:35:28.053 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:28.054 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:28.054 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:35:28.055 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:28.056 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:35:28.057 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:28.057 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:28.058 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:28.060 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:35:28.061 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:35:28.063 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:28.064 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:28.069 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:35:28.064 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:28.065 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:35:28.073 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:28.078 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:28.066 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:28.080 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:35:28.083 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:35:28.0833198Z"
2025-05-08 14:35:28.084 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:35:28.093 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:35:28.091 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:28.085 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:28.086 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 14.9144ms
2025-05-08 14:35:28.099 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:35:28.0991562Z"
2025-05-08 14:35:28.100 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 39.1291ms
2025-05-08 14:35:28.096 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:35:28.102 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:28.089 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:35:28.105 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:28.106 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:35:28.113 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 33.0104ms
2025-05-08 14:35:28.116 +07:00 [INF] Response: 200
2025-05-08 14:35:28.110 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 8.6049ms
2025-05-08 14:35:28.110 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:28.104 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:35:28.114 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:28.088 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 12.6503ms
2025-05-08 14:35:28.118 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:35:28.118 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 125.7693ms
2025-05-08 14:35:28.119 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:35:28.122 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:28.1222027Z"
2025-05-08 14:35:28.123 +07:00 [INF] Response: 200
2025-05-08 14:35:28.127 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:35:28.127 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:28.128 +07:00 [INF] Response: 200
2025-05-08 14:35:28.133 +07:00 [INF] Response: 200
2025-05-08 14:35:28.134 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:35:28.135 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 135.423ms
2025-05-08 14:35:28.137 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:35:28.1379520Z"
2025-05-08 14:35:28.138 +07:00 [INF] Response: 200
2025-05-08 14:35:28.139 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 146.3591ms
2025-05-08 14:35:28.140 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 105.7578ms
2025-05-08 14:35:28.142 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 45.2227ms
2025-05-08 14:35:28.146 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:28.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 154.2066ms
2025-05-08 14:35:28.155 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:28.156 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 66.8304ms
2025-05-08 14:35:28.160 +07:00 [INF] Response: 200
2025-05-08 14:35:28.161 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:28.162 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 127.1401ms
2025-05-08 14:35:28.162 +07:00 [INF] Response: 200
2025-05-08 14:35:28.168 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 166.7036ms
2025-05-08 14:35:31.407 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:35:31.408 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:31.408 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:31.408 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:31.410 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:35:31.414 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:31.416 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:31.419 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:31.420 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:31.420 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:31.421 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:31.422 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:31.422 +07:00 [INF] Response: 204
2025-05-08 14:35:31.423 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:31.424 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:31.427 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:35:31.425 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 18.3182ms
2025-05-08 14:35:31.426 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:31.424 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:31.428 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:31.431 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:35:31.437 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:35:31.443 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:31.442 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:31.445 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:35:31.446 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:31.450 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 9.2313ms
2025-05-08 14:35:31.451 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:35:31.438 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:35:31.460 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:31.455 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:35:31.456 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:31.463 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:35:31.464 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 5.8432ms
2025-05-08 14:35:31.467 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:35:31.4672068Z"
2025-05-08 14:35:31.470 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:35:31.474 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:31.471 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:31.468 +07:00 [INF] Response: 200
2025-05-08 14:35:31.475 +07:00 [INF] Response: 200
2025-05-08 14:35:31.477 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 39.6866ms
2025-05-08 14:35:31.480 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:31.4800377Z"
2025-05-08 14:35:31.480 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 72.3784ms
2025-05-08 14:35:31.481 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 53.7366ms
2025-05-08 14:35:31.482 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:31.483 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:35:31.491 +07:00 [INF] Response: 200
2025-05-08 14:35:31.492 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 29.3852ms
2025-05-08 14:35:31.493 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 85.2074ms
2025-05-08 14:35:31.494 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:31.499 +07:00 [INF] Response: 200
2025-05-08 14:35:31.500 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 91.8875ms
2025-05-08 14:35:32.918 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:32.919 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:32.918 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:35:32.919 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:32.921 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:32.923 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:32.926 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:35:32.928 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:32.929 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:32.930 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:32.930 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:32.931 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:32.932 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:32.932 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:32.933 +07:00 [INF] Response: 204
2025-05-08 14:35:32.934 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:32.935 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:35:32.938 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:35:32.936 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:32.937 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 18.6856ms
2025-05-08 14:35:32.944 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:35:32.940 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:35:32.947 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:32.938 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:32.956 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:32.952 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:32.955 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 9.073ms
2025-05-08 14:35:32.960 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:35:32.963 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:32.9632188Z"
2025-05-08 14:35:32.963 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:35:32.967 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:35:32.971 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:35:32.965 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:32.967 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:32.972 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 32.0669ms
2025-05-08 14:35:32.975 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:35:32.976 +07:00 [INF] Response: 200
2025-05-08 14:35:32.980 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:35:32.981 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:32.982 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 63.4039ms
2025-05-08 14:35:32.984 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:32.988 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:35:32.9885999Z"
2025-05-08 14:35:32.989 +07:00 [INF] Response: 200
2025-05-08 14:35:32.997 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:35:32.997 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:32.997 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 79.2303ms
2025-05-08 14:35:33.000 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:33.0009486Z"
2025-05-08 14:35:33.001 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 41.2291ms
2025-05-08 14:35:33.006 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:33.007 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:33.008 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 33.2994ms
2025-05-08 14:35:33.009 +07:00 [INF] Response: 200
2025-05-08 14:35:33.010 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:35:33.011 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 92.4058ms
2025-05-08 14:35:33.012 +07:00 [INF] Response: 200
2025-05-08 14:35:33.017 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 78.2504ms
2025-05-08 14:35:33.021 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:35:33.024 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:35:33.025 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:33.026 +07:00 [INF] Response: 204
2025-05-08 14:35:33.027 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 6.2547ms
2025-05-08 14:35:33.028 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:35:33.034 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:35:33.035 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:33.035 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:35:33.036 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:33.039 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:35:33.040 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:35:33.0404041Z"
2025-05-08 14:35:33.041 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:33.042 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.43ms
2025-05-08 14:35:33.044 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:35:33.045 +07:00 [INF] Response: 200
2025-05-08 14:35:33.046 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 17.7306ms
2025-05-08 14:35:34.340 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:34.340 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:34.341 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:34.340 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - null null
2025-05-08 14:35:34.344 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:34.347 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:34.350 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:34.353 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans
2025-05-08 14:35:34.354 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:34.354 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:34.354 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:34.355 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:34.356 +07:00 [INF] Response: 204
2025-05-08 14:35:34.357 +07:00 [INF] Response: 204
2025-05-08 14:35:34.358 +07:00 [INF] Response: 204
2025-05-08 14:35:34.358 +07:00 [INF] Response: 204
2025-05-08 14:35:34.359 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 19.1089ms
2025-05-08 14:35:34.362 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:34.363 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - null null
2025-05-08 14:35:34.359 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 19.6457ms
2025-05-08 14:35:34.361 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:34.360 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 19.8463ms
2025-05-08 14:35:34.361 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - 204 null null 20.7353ms
2025-05-08 14:35:34.361 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:34.368 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:34.371 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans
2025-05-08 14:35:34.377 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:34.389 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:34.389 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:34.390 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:34.391 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:34.391 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:34.392 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:34.393 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API)'
2025-05-08 14:35:34.393 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:34.394 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:34.395 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:34.396 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlanStatus", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanStatusAsync(System.String, Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:35:34.397 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:35:34.400 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:35:34.404 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:34.398 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:34.407 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:35:34.416 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:34.410 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:34.409 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API) in 6.8378ms
2025-05-08 14:35:34.419 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.8518ms
2025-05-08 14:35:34.421 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:34.426 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:35:34.427 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API)'
2025-05-08 14:35:34.428 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:34.431 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:34.4318309Z"
2025-05-08 14:35:34.434 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:35:34.4343560Z"
2025-05-08 14:35:34.435 +07:00 [INF] Response: 200
2025-05-08 14:35:34.436 +07:00 [INF] Response: 200
2025-05-08 14:35:34.438 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:35:34.438 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:34.439 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - 200 1113 application/json 76.6494ms
2025-05-08 14:35:34.440 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 78.6448ms
2025-05-08 14:35:34.442 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 34.5392ms
2025-05-08 14:35:34.443 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 43.0053ms
2025-05-08 14:35:34.452 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:34.454 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:34.455 +07:00 [INF] Response: 200
2025-05-08 14:35:34.456 +07:00 [INF] Response: 200
2025-05-08 14:35:34.457 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 95.7846ms
2025-05-08 14:35:34.458 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 95.8031ms
2025-05-08 14:35:39.031 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:39.031 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:39.031 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:39.034 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:39.036 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:39.039 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:39.040 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:39.041 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:39.042 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:39.042 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:39.043 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:39.043 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:39.044 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:35:39.046 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:39.047 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:39.054 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:39.049 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:35:39.057 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:35:39.059 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.9406ms
2025-05-08 14:35:39.062 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:39.062 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:39.064 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:39.071 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:35:39.072 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:39.0728254Z"
2025-05-08 14:35:39.073 +07:00 [INF] Response: 200
2025-05-08 14:35:39.076 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:35:39.0760292Z"
2025-05-08 14:35:39.077 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:35:39.078 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 46.3585ms
2025-05-08 14:35:39.078 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:39.080 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.7352ms
2025-05-08 14:35:39.085 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 28.2061ms
2025-05-08 14:35:39.086 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:39.087 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:39.089 +07:00 [INF] Response: 200
2025-05-08 14:35:39.089 +07:00 [INF] Response: 200
2025-05-08 14:35:39.090 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 59.3021ms
2025-05-08 14:35:39.091 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 59.401ms
2025-05-08 14:35:40.035 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:40.035 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:40.035 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:35:40.035 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:40.035 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:35:40.035 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:35:40.038 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:40.041 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:40.044 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:35:40.046 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:40.049 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:35:40.052 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:35:40.052 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.053 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.053 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.054 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.055 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.055 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.056 +07:00 [INF] Response: 204
2025-05-08 14:35:40.056 +07:00 [INF] Response: 204
2025-05-08 14:35:40.057 +07:00 [INF] Response: 204
2025-05-08 14:35:40.058 +07:00 [INF] Response: 204
2025-05-08 14:35:40.063 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:35:40.065 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:40.067 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:35:40.062 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:40.061 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 26.1562ms
2025-05-08 14:35:40.062 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:40.062 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 26.4198ms
2025-05-08 14:35:40.063 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 28.541ms
2025-05-08 14:35:40.059 +07:00 [INF] Response: 204
2025-05-08 14:35:40.060 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 25.4835ms
2025-05-08 14:35:40.073 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.073 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:40.075 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:40.083 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:40.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:35:40.091 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 55.7577ms
2025-05-08 14:35:40.059 +07:00 [INF] Response: 204
2025-05-08 14:35:40.096 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:35:40.097 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.107 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:40.097 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.098 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.101 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:35:40.107 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:35:40.105 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 70.3068ms
2025-05-08 14:35:40.108 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:40.110 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:35:40.111 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:40.112 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:40.121 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:40.122 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:35:40.126 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:40.113 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.116 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:35:40.124 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:35:40.131 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:40.134 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:35:40.136 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:35:40.137 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:35:40.145 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:40.147 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:40.145 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:35:40.153 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:40.1539177Z"
2025-05-08 14:35:40.161 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:40.138 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:40.140 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:35:40.1409142Z"
2025-05-08 14:35:40.142 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 12.8713ms
2025-05-08 14:35:40.157 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:35:40.163 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:35:40.164 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 5.0274ms
2025-05-08 14:35:40.165 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:35:40.166 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:40.167 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:40.170 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:35:40.1700266Z"
2025-05-08 14:35:40.171 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 36.923ms
2025-05-08 14:35:40.172 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:35:40.173 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:40.175 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 64.3864ms
2025-05-08 14:35:40.176 +07:00 [INF] Response: 200
2025-05-08 14:35:40.177 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:40.178 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:40.179 +07:00 [INF] Response: 200
2025-05-08 14:35:40.182 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:35:40.183 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:35:40.184 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 119.542ms
2025-05-08 14:35:40.187 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 94.8667ms
2025-05-08 14:35:40.191 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:35:40.187 +07:00 [INF] Response: 200
2025-05-08 14:35:40.189 +07:00 [INF] Response: 200
2025-05-08 14:35:40.185 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 49.2313ms
2025-05-08 14:35:40.201 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:35:40.2013915Z"
2025-05-08 14:35:40.201 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 139.3782ms
2025-05-08 14:35:40.202 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 139.2268ms
2025-05-08 14:35:40.203 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:40.204 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:40.212 +07:00 [INF] Response: 200
2025-05-08 14:35:40.214 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 31.9241ms
2025-05-08 14:35:40.214 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 152.3399ms
2025-05-08 14:35:40.216 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:35:40.220 +07:00 [INF] Response: 200
2025-05-08 14:35:40.221 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 114.305ms
2025-05-08 14:35:40.992 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:40.992 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:35:40.993 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:40.992 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:40.996 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:40.998 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:35:41.001 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:41.003 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:41.004 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:41.005 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:41.006 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:41.006 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:41.007 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:41.007 +07:00 [INF] Response: 204
2025-05-08 14:35:41.009 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:41.009 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:41.011 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:41.011 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 19.0786ms
2025-05-08 14:35:41.018 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:41.013 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:35:41.013 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:41.014 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:35:41.024 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 7.1125ms
2025-05-08 14:35:41.026 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:35:41.028 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:35:41.030 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:35:41.031 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:41.035 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:41.038 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:41.037 +07:00 [INF] Response: 200
2025-05-08 14:35:41.032 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:41.045 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:35:41.047 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:41.0475776Z"
2025-05-08 14:35:41.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 55.311ms
2025-05-08 14:35:41.048 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:35:41.051 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:35:41.0510753Z"
2025-05-08 14:35:41.051 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:35:41.056 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:35:41.057 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:41.059 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 28.6232ms
2025-05-08 14:35:41.063 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:41.064 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 36.6771ms
2025-05-08 14:35:41.065 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:41.066 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 5.5401ms
2025-05-08 14:35:41.068 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:41.069 +07:00 [INF] Response: 200
2025-05-08 14:35:41.070 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:35:41.071 +07:00 [INF] Response: 200
2025-05-08 14:35:41.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 80.2891ms
2025-05-08 14:35:41.074 +07:00 [INF] Response: 200
2025-05-08 14:35:41.075 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 81.79ms
2025-05-08 14:35:41.079 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 66.5269ms
2025-05-08 14:35:42.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:35:42.340 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:35:42.340 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:35:42.340 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:35:42.339 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:35:42.340 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:35:42.339 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/null - null null
2025-05-08 14:35:42.343 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:35:42.345 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:35:42.349 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:35:42.352 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:35:42.355 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:35:42.358 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:35:42.362 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/null
2025-05-08 14:35:42.363 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.363 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.364 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.365 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.366 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.366 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.367 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.368 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:42.368 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:35:42.369 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:42.370 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:35:42.371 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:42.372 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:35:42.373 +07:00 [INF] Response: 204
2025-05-08 14:35:42.374 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:35:42.375 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:42.376 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:42.377 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:35:42.382 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/null - application/json 2
2025-05-08 14:35:42.378 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:35:42.379 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:35:42.385 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:35:42.387 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:35:42.390 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:35:42.397 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:42.405 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:35:42.393 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/null
2025-05-08 14:35:42.402 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:42.414 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:35:42.4140476Z"
2025-05-08 14:35:42.414 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.418 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:42.420 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:35:42.417 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 16.893ms
2025-05-08 14:35:42.411 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 15.1771ms
2025-05-08 14:35:42.409 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:35:42.380 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/null - 204 null null 40.9338ms
2025-05-08 14:35:42.406 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:42.383 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:35:42.424 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 38.8801ms
2025-05-08 14:35:42.425 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:35:42.440 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:42.438 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:35:42.426 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:35:42.427 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:42.430 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:35:42.4301093Z"
2025-05-08 14:35:42.437 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:35:42.444 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:35:42.446 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:35:42.4465226Z"
2025-05-08 14:35:42.447 +07:00 [INF] Response: 200
2025-05-08 14:35:42.454 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:35:42.457 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 117.4716ms
2025-05-08 14:35:42.448 +07:00 [INF] Response: 200
2025-05-08 14:35:42.449 +07:00 [INF] Response: 200
2025-05-08 14:35:42.450 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:42.452 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:35:42.4528940Z"
2025-05-08 14:35:42.455 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:42.460 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 76.7542ms
2025-05-08 14:35:42.464 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 124.6098ms
2025-05-08 14:35:42.465 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 125.9183ms
2025-05-08 14:35:42.467 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 76.8172ms
2025-05-08 14:35:42.468 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:42.470 +07:00 [WRN] SignOut attempt failed for Email null at "2025-05-08T07:35:42.4709643Z"
2025-05-08 14:35:42.472 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:35:42.480 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:35:42.481 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 94.2181ms
2025-05-08 14:35:42.483 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:42.484 +07:00 [INF] Response: 200
2025-05-08 14:35:42.485 +07:00 [INF] Response: 200
2025-05-08 14:35:42.486 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:35:42.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 149.5892ms
2025-05-08 14:35:42.490 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 149.8128ms
2025-05-08 14:35:42.488 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 44.5478ms
2025-05-08 14:35:42.491 +07:00 [INF] Response: 200
2025-05-08 14:35:42.499 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:35:42.500 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 160.1416ms
2025-05-08 14:35:42.501 +07:00 [INF] Response: 400
2025-05-08 14:35:42.505 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/null - 400 null application/json; charset=utf-8 123.5822ms
2025-05-08 14:35:42.510 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - null null
2025-05-08 14:35:42.512 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:35:42.513 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.514 +07:00 [INF] Response: 204
2025-05-08 14:35:42.514 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 204 null null 4.8038ms
2025-05-08 14:35:42.516 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - application/json 2
2025-05-08 14:35:42.521 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:35:42.522 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.523 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:35:42.524 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:35:42.527 +07:00 [INF] SignOut API called.
2025-05-08 14:35:42.531 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:35:42.536 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:35:42.541 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 14:35:42.543 +07:00 [INF] SignOut completed successful for Email huy260704@gmail.com at "2025-05-08T07:35:42.5438887Z"
2025-05-08 14:35:42.545 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:35:42.546 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 19.7024ms
2025-05-08 14:35:42.547 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:35:42.548 +07:00 [INF] Response: 200
2025-05-08 14:35:42.549 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 200 null application/json; charset=utf-8 32.8445ms
2025-05-08 14:35:42.576 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:35:42.579 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:35:42.580 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:35:42.581 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:35:42.582 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:35:42.586 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:35:42.588 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.7566ms
2025-05-08 14:35:42.589 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:35:42.590 +07:00 [INF] Response: 200
2025-05-08 14:35:42.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 15.1825ms
2025-05-08 14:36:06.650 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - null null
2025-05-08 14:36:06.652 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-in
2025-05-08 14:36:06.652 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.653 +07:00 [INF] Response: 204
2025-05-08 14:36:06.654 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - 204 null null 4.3063ms
2025-05-08 14:36:06.655 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 52
2025-05-08 14:36:06.660 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:36:06.661 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.661 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:36:06.663 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:36:06.665 +07:00 [INF] SignIn API called.
2025-05-08 14:36:06.668 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:36:06.765 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:36:06.770 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:36:06.773 +07:00 [INF] SignIn completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:06.7731051Z"
2025-05-08 14:36:06.773 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:06.775 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 110.4094ms
2025-05-08 14:36:06.776 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:36:06.777 +07:00 [INF] Response: 200
2025-05-08 14:36:06.778 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 123.2123ms
2025-05-08 14:36:06.805 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:06.806 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:06.813 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:06.805 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:06.806 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:36:06.816 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:06.816 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.818 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:06.821 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:36:06.821 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.822 +07:00 [INF] Response: 204
2025-05-08 14:36:06.822 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.823 +07:00 [INF] Response: 204
2025-05-08 14:36:06.824 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 18.5879ms
2025-05-08 14:36:06.826 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 20.1552ms
2025-05-08 14:36:06.824 +07:00 [INF] Response: 204
2025-05-08 14:36:06.826 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:06.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:06.842 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 36.6441ms
2025-05-08 14:36:06.823 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.834 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:06.845 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:06.847 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:06.851 +07:00 [INF] Response: 204
2025-05-08 14:36:06.854 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:06.855 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.855 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.857 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:06.856 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 49.4641ms
2025-05-08 14:36:06.856 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.857 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:36:06.858 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:06.859 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:06.863 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:06.866 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:36:06.867 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:06.869 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:06.875 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:06.870 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:06.879 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:06.878 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.8846ms
2025-05-08 14:36:06.871 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:06.883 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:06.886 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:06.8863178Z"
2025-05-08 14:36:06.887 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:06.891 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:06.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:06.893 +07:00 [INF] Response: 200
2025-05-08 14:36:06.888 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:36:06.897 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:06.898 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 28.6371ms
2025-05-08 14:36:06.899 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 55.5772ms
2025-05-08 14:36:06.900 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:06.902 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:06.9027034Z"
2025-05-08 14:36:06.911 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:06.903 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:06.913 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:06.913 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.7811ms
2025-05-08 14:36:06.914 +07:00 [INF] Response: 200
2025-05-08 14:36:06.916 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 32.6705ms
2025-05-08 14:36:06.917 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:36:06.918 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 92.1634ms
2025-05-08 14:36:06.919 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:06.920 +07:00 [INF] Response: 200
2025-05-08 14:36:06.924 +07:00 [INF] Response: 200
2025-05-08 14:36:06.925 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 67.9403ms
2025-05-08 14:36:06.926 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 91.9471ms
2025-05-08 14:36:09.272 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:36:09.276 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:36:18.161 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:18.161 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:18.161 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:18.164 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:18.165 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:18.168 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:18.168 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:18.169 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:18.169 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:18.169 +07:00 [INF] Response: 204
2025-05-08 14:36:18.170 +07:00 [INF] Response: 204
2025-05-08 14:36:18.170 +07:00 [INF] Response: 204
2025-05-08 14:36:18.171 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 9.6404ms
2025-05-08 14:36:18.174 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:18.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:18.185 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:18.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:18.171 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 10.1942ms
2025-05-08 14:36:18.172 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 10.8734ms
2025-05-08 14:36:18.188 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:18.188 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:18.191 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:18.199 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:18.200 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:18.201 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:18.201 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:18.202 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:18.203 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:18.208 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:18.204 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:18.209 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:18.211 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.7622ms
2025-05-08 14:36:18.213 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:18.215 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:18.216 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:18.219 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:18.222 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:18.220 +07:00 [INF] Response: 200
2025-05-08 14:36:18.226 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:18.2262788Z"
2025-05-08 14:36:18.228 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 53.9083ms
2025-05-08 14:36:18.229 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:18.229 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:18.234 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:18.2347930Z"
2025-05-08 14:36:18.236 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 22.4509ms
2025-05-08 14:36:18.236 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:18.238 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:18.239 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 23.5751ms
2025-05-08 14:36:18.240 +07:00 [INF] Response: 200
2025-05-08 14:36:18.241 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:18.241 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 68.0503ms
2025-05-08 14:36:18.242 +07:00 [INF] Response: 200
2025-05-08 14:36:18.246 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 72.5746ms
2025-05-08 14:36:19.709 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=1000000000 - null null
2025-05-08 14:36:19.709 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:19.709 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:19.709 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:19.712 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:19.714 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:19.716 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:19.719 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:19.720 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:19.721 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:19.721 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:19.722 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:19.722 +07:00 [INF] Response: 204
2025-05-08 14:36:19.722 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:19.723 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:19.726 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:19.725 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=1000000000 - 204 null null 16.0922ms
2025-05-08 14:36:19.730 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:19.727 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:19.724 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:19.726 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=1000000000 - null null
2025-05-08 14:36:19.734 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.2778ms
2025-05-08 14:36:19.736 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:19.737 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:19.741 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:19.746 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:19.744 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:19.748 +07:00 [INF] Response: 200
2025-05-08 14:36:19.750 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:19.740 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:19.754 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 44.8542ms
2025-05-08 14:36:19.753 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:19.7537762Z"
2025-05-08 14:36:19.758 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:19.758 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:19.762 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:19.763 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:19.7638613Z"
2025-05-08 14:36:19.764 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:19.765 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 28.608ms
2025-05-08 14:36:19.766 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:19.767 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:19.768 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 22.1851ms
2025-05-08 14:36:19.769 +07:00 [INF] Response: 200
2025-05-08 14:36:19.770 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:19.770 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:19.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 61.9344ms
2025-05-08 14:36:19.774 +07:00 [INF] Response: 200
2025-05-08 14:36:19.777 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:19.779 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 70.3157ms
2025-05-08 14:36:19.786 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:19.800 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:19.805 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:19.8052786Z"
2025-05-08 14:36:19.810 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:19.812 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 39.2064ms
2025-05-08 14:36:19.814 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:19.815 +07:00 [INF] Response: 200
2025-05-08 14:36:19.816 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=1000000000 - 200 null application/json; charset=utf-8 89.6542ms
2025-05-08 14:36:21.279 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=192 - null null
2025-05-08 14:36:21.281 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:21.282 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:21.283 +07:00 [INF] Response: 204
2025-05-08 14:36:21.284 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=192 - 204 null null 4.7985ms
2025-05-08 14:36:21.285 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=192 - null null
2025-05-08 14:36:21.290 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:21.291 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:21.291 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:21.292 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:21.295 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:21.300 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:21.304 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:21.308 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:21.3081740Z"
2025-05-08 14:36:21.310 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:21.311 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 17.2676ms
2025-05-08 14:36:21.313 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:21.314 +07:00 [INF] Response: 200
2025-05-08 14:36:21.314 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=192 - 200 null application/json; charset=utf-8 29.2046ms
2025-05-08 14:36:22.352 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=187 - null null
2025-05-08 14:36:22.355 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:22.356 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:22.357 +07:00 [INF] Response: 204
2025-05-08 14:36:22.357 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=187 - 204 null null 5.5807ms
2025-05-08 14:36:22.359 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=187 - null null
2025-05-08 14:36:22.364 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:22.365 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:22.366 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:22.367 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:22.371 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:22.377 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:22.381 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:22.385 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:22.3850714Z"
2025-05-08 14:36:22.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:22.388 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 18.064ms
2025-05-08 14:36:22.389 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:22.391 +07:00 [INF] Response: 200
2025-05-08 14:36:22.392 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=187 - 200 null application/json; charset=utf-8 32.8802ms
2025-05-08 14:36:23.274 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=162 - null null
2025-05-08 14:36:23.277 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:23.278 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:23.279 +07:00 [INF] Response: 204
2025-05-08 14:36:23.280 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=162 - 204 null null 5.6252ms
2025-05-08 14:36:23.281 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=162 - null null
2025-05-08 14:36:23.287 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:23.288 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:23.289 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:23.290 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:23.294 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:23.299 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:23.304 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:23.308 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:23.3081290Z"
2025-05-08 14:36:23.310 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:23.312 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 18.9804ms
2025-05-08 14:36:23.313 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:23.314 +07:00 [INF] Response: 200
2025-05-08 14:36:23.315 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=162 - 200 null application/json; charset=utf-8 33.9861ms
2025-05-08 14:36:25.001 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=154 - null null
2025-05-08 14:36:25.004 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:25.004 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:25.005 +07:00 [INF] Response: 204
2025-05-08 14:36:25.006 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=154 - 204 null null 5.0287ms
2025-05-08 14:36:25.008 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=154 - null null
2025-05-08 14:36:25.014 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:25.015 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:25.016 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:25.017 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:25.021 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:25.026 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:25.032 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:25.037 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:25.0373678Z"
2025-05-08 14:36:25.040 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:25.042 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 21.8622ms
2025-05-08 14:36:25.043 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:25.045 +07:00 [INF] Response: 200
2025-05-08 14:36:25.046 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=154 - 200 null application/json; charset=utf-8 38.5574ms
2025-05-08 14:36:26.213 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=146 - null null
2025-05-08 14:36:26.217 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:26.218 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:26.219 +07:00 [INF] Response: 204
2025-05-08 14:36:26.219 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=146 - 204 null null 5.9752ms
2025-05-08 14:36:26.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=146 - null null
2025-05-08 14:36:26.226 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:26.227 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:26.228 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:26.229 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:26.233 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:26.237 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:26.242 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:26.245 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:26.2453332Z"
2025-05-08 14:36:26.247 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:26.248 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 16.7477ms
2025-05-08 14:36:26.250 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:26.251 +07:00 [INF] Response: 200
2025-05-08 14:36:26.252 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=146 - 200 null application/json; charset=utf-8 31.605ms
2025-05-08 14:36:27.115 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=141 - null null
2025-05-08 14:36:27.118 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:27.118 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:27.119 +07:00 [INF] Response: 204
2025-05-08 14:36:27.119 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=141 - 204 null null 4.7488ms
2025-05-08 14:36:27.121 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=141 - null null
2025-05-08 14:36:27.126 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:27.127 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:27.127 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:27.128 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:27.132 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:27.137 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:27.142 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:27.145 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:27.1456050Z"
2025-05-08 14:36:27.147 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:27.148 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 17.4998ms
2025-05-08 14:36:27.150 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:27.150 +07:00 [INF] Response: 200
2025-05-08 14:36:27.151 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=141 - 200 null application/json; charset=utf-8 30.1801ms
2025-05-08 14:36:28.834 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=118 - null null
2025-05-08 14:36:28.838 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:28.839 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:28.840 +07:00 [INF] Response: 204
2025-05-08 14:36:28.841 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=118 - 204 null null 6.4376ms
2025-05-08 14:36:28.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=118 - null null
2025-05-08 14:36:28.849 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:28.850 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:28.851 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:28.852 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:28.856 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:28.861 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:28.866 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:28.870 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:28.8706258Z"
2025-05-08 14:36:28.872 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:28.874 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 19.1986ms
2025-05-08 14:36:28.876 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:28.877 +07:00 [INF] Response: 200
2025-05-08 14:36:28.877 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=118 - 200 null application/json; charset=utf-8 35.3382ms
2025-05-08 14:36:29.741 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=34 - null null
2025-05-08 14:36:29.744 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:29.745 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:29.746 +07:00 [INF] Response: 204
2025-05-08 14:36:29.747 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=34 - 204 null null 6.3659ms
2025-05-08 14:36:29.748 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=34 - null null
2025-05-08 14:36:29.755 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:29.757 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:29.757 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:29.759 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:29.763 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:29.767 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:29.771 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:29.774 +07:00 [INF] ViewPaymentListByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:29.7742571Z"
2025-05-08 14:36:29.776 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:29.777 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 15.1543ms
2025-05-08 14:36:29.779 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:29.780 +07:00 [INF] Response: 200
2025-05-08 14:36:29.780 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=34 - 200 null application/json; charset=utf-8 32.2396ms
2025-05-08 14:36:30.759 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=32 - null null
2025-05-08 14:36:30.763 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:30.763 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:30.764 +07:00 [INF] Response: 204
2025-05-08 14:36:30.764 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=32 - 204 null null 4.9728ms
2025-05-08 14:36:30.766 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=32 - null null
2025-05-08 14:36:30.770 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/payments
2025-05-08 14:36:30.771 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:30.771 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:30.772 +07:00 [INF] Route matched with {action = "ViewPaymentByEmail", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentByEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:30.774 +07:00 [INF] ViewPaymentListByEmail API called.
2025-05-08 14:36:30.779 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:30.784 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__payment_UserId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_2) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[UserID] = @__payment_UserId_0 AND [p].[PaymentID] < @__Parse_1
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:36:30.787 +07:00 [WRN] ViewPaymentListByEmail attempt failed - Payment not found
2025-05-08 14:36:30.788 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:30.789 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API) in 15.7813ms
2025-05-08 14:36:30.791 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentByEmailAsync (CinemaHub.API)'
2025-05-08 14:36:30.791 +07:00 [INF] Response: 400
2025-05-08 14:36:30.792 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/payments?pageSize=5&paymentId=32 - 400 null application/json; charset=utf-8 26.4942ms
2025-05-08 14:36:35.176 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:35.176 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - null null
2025-05-08 14:36:35.176 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:35.176 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:35.179 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:35.182 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans
2025-05-08 14:36:35.185 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:35.188 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:35.189 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:35.189 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:35.190 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:35.190 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:35.191 +07:00 [INF] Response: 204
2025-05-08 14:36:35.192 +07:00 [INF] Response: 204
2025-05-08 14:36:35.193 +07:00 [INF] Response: 204
2025-05-08 14:36:35.194 +07:00 [INF] Response: 204
2025-05-08 14:36:35.194 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 18.3569ms
2025-05-08 14:36:35.197 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - null null
2025-05-08 14:36:35.198 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:35.198 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:35.195 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - 204 null null 19.0105ms
2025-05-08 14:36:35.197 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:35.196 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 19.8137ms
2025-05-08 14:36:35.197 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 20.6045ms
2025-05-08 14:36:35.208 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans
2025-05-08 14:36:35.211 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:35.214 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:35.219 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:35.227 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:35.228 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:35.229 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:35.229 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:35.230 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API)'
2025-05-08 14:36:35.230 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:35.231 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:35.231 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:35.232 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlanStatus", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanStatusAsync(System.String, Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:36:35.234 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:35.235 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:35.236 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:35.240 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:35.243 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:35.245 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:35.249 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:35.250 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API) in 11.9444ms
2025-05-08 14:36:35.253 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:35.256 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 8.4512ms
2025-05-08 14:36:35.254 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:35.258 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanStatusAsync (CinemaHub.API)'
2025-05-08 14:36:35.264 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:35.265 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:35.267 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:35.2676130Z"
2025-05-08 14:36:35.268 +07:00 [INF] Response: 200
2025-05-08 14:36:35.271 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:35.2711779Z"
2025-05-08 14:36:35.272 +07:00 [INF] Response: 200
2025-05-08 14:36:35.273 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:35.274 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/accounts/huy260704@gmail.com/subscription-plans?status=true - 200 1113 application/json 76.9798ms
2025-05-08 14:36:35.274 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:35.275 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 78.5814ms
2025-05-08 14:36:35.276 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 31.0316ms
2025-05-08 14:36:35.281 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 38.2147ms
2025-05-08 14:36:35.285 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:35.287 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:35.288 +07:00 [INF] Response: 200
2025-05-08 14:36:35.289 +07:00 [INF] Response: 200
2025-05-08 14:36:35.290 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 92.3183ms
2025-05-08 14:36:35.291 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 92.5571ms
2025-05-08 14:36:37.162 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:37.162 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:36:37.163 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:37.163 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:37.163 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:36:37.162 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:36:37.162 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:36:37.165 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:37.168 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:36:37.171 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:37.174 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:37.176 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:36:37.179 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:36:37.181 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:36:37.182 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.183 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.184 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.184 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.185 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.186 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.186 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.187 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:37.188 +07:00 [INF] Response: 204
2025-05-08 14:36:37.188 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:37.189 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:37.192 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 30.4215ms
2025-05-08 14:36:37.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:36:37.193 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:37.190 +07:00 [INF] Response: 204
2025-05-08 14:36:37.192 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:37.206 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - null null
2025-05-08 14:36:37.202 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:36:37.204 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:37.195 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:37.210 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:36:37.211 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.219 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.218 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:37.222 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:36:37.221 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:36:37.227 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:37.214 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:37.228 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 12.3006ms
2025-05-08 14:36:37.229 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:37.205 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 204 null null 42.1942ms
2025-05-08 14:36:37.208 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:37.190 +07:00 [INF] Response: 204
2025-05-08 14:36:37.191 +07:00 [INF] Response: 204
2025-05-08 14:36:37.237 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:37.236 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:37.250 +07:00 [INF] Response: 200
2025-05-08 14:36:37.239 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:36:37.256 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:37.2569091Z"
2025-05-08 14:36:37.250 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:36:37.258 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 94.3276ms
2025-05-08 14:36:37.260 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:37.246 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:36:37.246 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:37.244 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 82.4116ms
2025-05-08 14:36:37.247 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 84.6951ms
2025-05-08 14:36:37.232 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:37.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:36:37.270 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 65.3927ms
2025-05-08 14:36:37.265 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:36:37.273 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:36:37.275 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:37.2756419Z"
2025-05-08 14:36:37.285 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 54.3356ms
2025-05-08 14:36:37.287 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:36:37.2871798Z"
2025-05-08 14:36:37.288 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:37.289 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.290 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:37.291 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:37.292 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:36:37.293 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:37.294 +07:00 [INF] Response: 200
2025-05-08 14:36:37.295 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:36:37.296 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:36:37.298 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 90.0512ms
2025-05-08 14:36:37.299 +07:00 [INF] Response: 200
2025-05-08 14:36:37.301 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 61.3868ms
2025-05-08 14:36:37.301 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 138.447ms
2025-05-08 14:36:37.302 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:37.303 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:36:37.304 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:37.312 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:36:37.316 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:37.305 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=1000000 - 200 34021 application/json 98.4782ms
2025-05-08 14:36:37.318 +07:00 [INF] Response: 200
2025-05-08 14:36:37.320 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:36:37.319 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.3649ms
2025-05-08 14:36:37.307 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:36:37.326 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 163.7189ms
2025-05-08 14:36:37.329 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:36:37.3290710Z"
2025-05-08 14:36:37.329 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:36:37.330 +07:00 [INF] Response: 200
2025-05-08 14:36:37.336 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:37.338 +07:00 [INF] Response: 200
2025-05-08 14:36:37.338 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 144.4327ms
2025-05-08 14:36:37.339 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 27.8383ms
2025-05-08 14:36:37.340 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 93.5778ms
2025-05-08 14:36:37.345 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:36:37.350 +07:00 [INF] Response: 200
2025-05-08 14:36:37.351 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 101.0993ms
2025-05-08 14:36:38.679 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:38.680 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:36:38.680 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:38.680 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:38.683 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:38.685 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:36:38.690 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:38.693 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:38.694 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:38.694 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:38.695 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:38.695 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:38.696 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:38.696 +07:00 [INF] Response: 204
2025-05-08 14:36:38.697 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:38.697 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:38.699 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 19.5968ms
2025-05-08 14:36:38.700 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:38.698 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:38.701 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:36:38.702 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:38.707 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:38.709 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:38.711 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:36:38.715 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:38.719 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:38.720 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:38.724 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 10.7918ms
2025-05-08 14:36:38.729 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:36:38.719 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:38.730 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:38.731 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:38.732 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:38.735 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:38.7350531Z"
2025-05-08 14:36:38.737 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:38.7376499Z"
2025-05-08 14:36:38.742 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:38.738 +07:00 [INF] Response: 200
2025-05-08 14:36:38.744 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:38.744 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:38.745 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 4.6346ms
2025-05-08 14:36:38.746 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 66.387ms
2025-05-08 14:36:38.748 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 39.0091ms
2025-05-08 14:36:38.749 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 42.2045ms
2025-05-08 14:36:38.750 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:36:38.756 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:38.757 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:38.758 +07:00 [INF] Response: 200
2025-05-08 14:36:38.759 +07:00 [INF] Response: 200
2025-05-08 14:36:38.760 +07:00 [INF] Response: 200
2025-05-08 14:36:38.761 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 60.3887ms
2025-05-08 14:36:38.762 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 83.0748ms
2025-05-08 14:36:38.763 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 83.0257ms
2025-05-08 14:36:44.152 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:44.152 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:44.152 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:44.152 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:44.152 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:44.155 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:44.159 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:36:44.162 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:44.164 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:36:44.167 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:44.168 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.169 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.170 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.171 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.171 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.172 +07:00 [INF] Response: 204
2025-05-08 14:36:44.173 +07:00 [INF] Response: 204
2025-05-08 14:36:44.173 +07:00 [INF] Response: 204
2025-05-08 14:36:44.174 +07:00 [INF] Response: 204
2025-05-08 14:36:44.177 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 24.3641ms
2025-05-08 14:36:44.180 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:44.179 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:44.177 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:44.177 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 25.6778ms
2025-05-08 14:36:44.179 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 204 null null 27.2214ms
2025-05-08 14:36:44.176 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 24.1778ms
2025-05-08 14:36:44.178 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:44.175 +07:00 [INF] Response: 204
2025-05-08 14:36:44.186 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:36:44.189 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:44.209 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:44.192 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:44.207 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:36:44.207 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 55.7068ms
2025-05-08 14:36:44.210 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.210 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.213 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:44.214 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.215 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.219 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:44.220 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:36:44.220 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.221 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:44.222 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:44.223 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:44.224 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:44.225 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:44.229 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:44.226 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:44.238 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:44.243 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:44.235 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:44.248 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:44.233 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:44.227 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:44.253 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:44.2537757Z"
2025-05-08 14:36:44.250 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:44.248 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.6815ms
2025-05-08 14:36:44.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:44.258 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:44.255 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 23.8672ms
2025-05-08 14:36:44.257 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:36:44.262 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:44.266 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:44.2667761Z"
2025-05-08 14:36:44.272 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:44.274 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:44.268 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 38.3203ms
2025-05-08 14:36:44.269 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:36:44.271 +07:00 [INF] Response: 200
2025-05-08 14:36:44.279 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:36:44.279 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 29.001ms
2025-05-08 14:36:44.280 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:44.282 +07:00 [INF] Response: 200
2025-05-08 14:36:44.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 105.0829ms
2025-05-08 14:36:44.286 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:44.2864294Z"
2025-05-08 14:36:44.293 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:44.287 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:44.288 +07:00 [INF] Response: 200
2025-05-08 14:36:44.289 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 200 29421 application/json 108.7163ms
2025-05-08 14:36:44.295 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:44.298 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:36:44.299 +07:00 [INF] Response: 200
2025-05-08 14:36:44.300 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 121.2177ms
2025-05-08 14:36:44.305 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 48.0315ms
2025-05-08 14:36:44.306 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.307 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 97.9475ms
2025-05-08 14:36:44.312 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:44.312 +07:00 [INF] Response: 204
2025-05-08 14:36:44.317 +07:00 [INF] Response: 200
2025-05-08 14:36:44.318 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 204 null null 25.2521ms
2025-05-08 14:36:44.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 140.8726ms
2025-05-08 14:36:44.320 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:44.322 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:36:44.328 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:36:44.331 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:36:44.332 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.333 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.333 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:36:44.334 +07:00 [INF] Response: 204
2025-05-08 14:36:44.335 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:44.337 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:36:44.340 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:44.336 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 13.7625ms
2025-05-08 14:36:44.344 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:36:44.345 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 6.3587ms
2025-05-08 14:36:44.349 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:44.350 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:36:44.351 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:44.352 +07:00 [INF] Response: 200
2025-05-08 14:36:44.353 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:44.354 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 200 642 application/json 33.8479ms
2025-05-08 14:36:44.356 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:36:44.361 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:36:44.3615489Z"
2025-05-08 14:36:44.362 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:44.363 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 6.9877ms
2025-05-08 14:36:44.364 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:44.365 +07:00 [INF] Response: 200
2025-05-08 14:36:44.366 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 28.6102ms
2025-05-08 14:36:48.274 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - null null
2025-05-08 14:36:48.278 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:36:48.279 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:48.280 +07:00 [INF] Response: 204
2025-05-08 14:36:48.281 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - 204 null null 6.613ms
2025-05-08 14:36:48.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - null null
2025-05-08 14:36:48.288 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:36:48.289 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:48.289 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:36:48.291 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:48.295 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:48.298 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 4.6401ms
2025-05-08 14:36:48.299 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:36:48.300 +07:00 [INF] Response: 200
2025-05-08 14:36:48.301 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=56 - 200 10799 application/json 19.0816ms
2025-05-08 14:36:48.305 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - null null
2025-05-08 14:36:48.308 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:36:48.309 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:48.310 +07:00 [INF] Response: 204
2025-05-08 14:36:48.310 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - 204 null null 5.7329ms
2025-05-08 14:36:48.312 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - null null
2025-05-08 14:36:48.317 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:36:48.318 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:48.318 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:36:48.320 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:48.323 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:48.326 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 4.6055ms
2025-05-08 14:36:48.327 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:36:48.328 +07:00 [INF] Response: 200
2025-05-08 14:36:48.329 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=56 - 200 361 application/json 17.5656ms
2025-05-08 14:36:48.333 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - null null
2025-05-08 14:36:48.336 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:36:48.337 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:48.338 +07:00 [INF] Response: 204
2025-05-08 14:36:48.339 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - 204 null null 5.5084ms
2025-05-08 14:36:48.340 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - null null
2025-05-08 14:36:48.344 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:36:48.345 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:48.346 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:48.347 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:48.350 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:36:48.352 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:48.359 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:36:48.362 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:48.3628978Z"
2025-05-08 14:36:48.364 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:48.365 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 15.884ms
2025-05-08 14:36:48.367 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:48.368 +07:00 [INF] Response: 200
2025-05-08 14:36:48.369 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=56 - 200 null application/json; charset=utf-8 29.1022ms
2025-05-08 14:36:48.372 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:36:48.376 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:36:48.377 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:48.377 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:48.378 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:48.381 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:36:48.382 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:36:48.3825901Z"
2025-05-08 14:36:48.383 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:48.384 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.4625ms
2025-05-08 14:36:48.386 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:48.387 +07:00 [INF] Response: 200
2025-05-08 14:36:48.387 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 15.6323ms
2025-05-08 14:36:49.830 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:49.831 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:36:49.831 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:36:49.830 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:49.830 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:49.831 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:36:49.833 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:49.835 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:36:49.837 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:36:49.840 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:49.843 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:49.847 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:36:49.847 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.848 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.848 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.849 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.849 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.850 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.851 +07:00 [INF] Response: 204
2025-05-08 14:36:49.851 +07:00 [INF] Response: 204
2025-05-08 14:36:49.852 +07:00 [INF] Response: 204
2025-05-08 14:36:49.855 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 24.3401ms
2025-05-08 14:36:49.857 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:36:49.856 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:36:49.855 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:49.856 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 25.4091ms
2025-05-08 14:36:49.853 +07:00 [INF] Response: 204
2025-05-08 14:36:49.854 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 23.9391ms
2025-05-08 14:36:49.862 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:36:49.864 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:36:49.867 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:49.872 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:49.871 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 40.3396ms
2025-05-08 14:36:49.853 +07:00 [INF] Response: 204
2025-05-08 14:36:49.854 +07:00 [INF] Response: 204
2025-05-08 14:36:49.874 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.875 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.884 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:36:49.883 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:36:49.875 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.878 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:49.883 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:49.882 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 51.1729ms
2025-05-08 14:36:49.882 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 51.3192ms
2025-05-08 14:36:49.884 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:36:49.886 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:36:49.887 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:49.888 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:49.889 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.892 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:49.898 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:36:49.899 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.900 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:36:49.905 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:36:49.901 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:49.907 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:49.905 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:49.901 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:49.913 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:36:49.911 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:49.914 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 10.341ms
2025-05-08 14:36:49.915 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:49.918 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:36:49.918 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:36:49.902 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:49.919 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:49.909 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:36:49.925 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:49.926 +07:00 [INF] Response: 200
2025-05-08 14:36:49.928 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:36:49.9285207Z"
2025-05-08 14:36:49.928 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:49.935 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:49.934 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 77.8383ms
2025-05-08 14:36:49.935 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:49.938 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:49.931 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:49.9316672Z"
2025-05-08 14:36:49.947 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:49.941 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:49.945 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 31.6285ms
2025-05-08 14:36:49.949 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:49.933 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:36:49.9333577Z"
2025-05-08 14:36:49.951 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.4917ms
2025-05-08 14:36:49.953 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:49.9530650Z"
2025-05-08 14:36:49.953 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:36:49.955 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 43.3608ms
2025-05-08 14:36:49.955 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:49.957 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:49.957 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:49.958 +07:00 [INF] Response: 200
2025-05-08 14:36:49.959 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:49.960 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 59.4798ms
2025-05-08 14:36:49.960 +07:00 [INF] Response: 200
2025-05-08 14:36:49.962 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 36.7721ms
2025-05-08 14:36:49.962 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 78.9146ms
2025-05-08 14:36:49.963 +07:00 [INF] Response: 200
2025-05-08 14:36:49.964 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:36:49.965 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 82.0943ms
2025-05-08 14:36:49.966 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:49.970 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 115.1456ms
2025-05-08 14:36:49.971 +07:00 [INF] Response: 200
2025-05-08 14:36:49.975 +07:00 [INF] Response: 200
2025-05-08 14:36:49.979 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 121.4851ms
2025-05-08 14:36:49.979 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 107.2923ms
2025-05-08 14:36:50.307 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:50.307 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:50.307 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:50.307 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:50.309 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:36:50.311 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:50.314 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:50.316 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:50.317 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:50.317 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:50.318 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:50.319 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:50.320 +07:00 [INF] Response: 204
2025-05-08 14:36:50.320 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:50.321 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:50.324 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:50.322 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 15.4529ms
2025-05-08 14:36:50.324 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:50.322 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:50.325 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:50.328 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:50.339 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:50.333 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:36:50.343 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:50.345 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:50.335 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:50.349 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:50.343 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 5.3959ms
2025-05-08 14:36:50.350 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:50.352 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:50.354 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:50.358 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:50.3589637Z"
2025-05-08 14:36:50.362 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:50.355 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:50.365 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:36:50.366 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:50.368 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:50.3689298Z"
2025-05-08 14:36:50.372 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 44.0474ms
2025-05-08 14:36:50.372 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:50.369 +07:00 [INF] Response: 200
2025-05-08 14:36:50.376 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:50.377 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:50.380 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 73.0469ms
2025-05-08 14:36:50.381 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:36:50.382 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 29.751ms
2025-05-08 14:36:50.383 +07:00 [INF] Response: 200
2025-05-08 14:36:50.389 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:50.3889988Z"
2025-05-08 14:36:50.389 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:50.390 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 82.4178ms
2025-05-08 14:36:50.391 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:50.392 +07:00 [INF] Response: 200
2025-05-08 14:36:50.396 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 31.6839ms
2025-05-08 14:36:50.397 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 89.3472ms
2025-05-08 14:36:50.398 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:50.402 +07:00 [INF] Response: 200
2025-05-08 14:36:50.402 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 78.4527ms
2025-05-08 14:36:50.406 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:36:50.408 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:36:50.409 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:50.409 +07:00 [INF] Response: 204
2025-05-08 14:36:50.410 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 4.2214ms
2025-05-08 14:36:50.411 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:36:50.416 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:36:50.417 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:50.418 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:50.419 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:50.421 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:36:50.422 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:36:50.4225944Z"
2025-05-08 14:36:50.423 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:50.424 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.0385ms
2025-05-08 14:36:50.425 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:50.426 +07:00 [INF] Response: 200
2025-05-08 14:36:50.427 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 16.4197ms
2025-05-08 14:36:52.091 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:52.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:36:52.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:52.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:36:52.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:52.092 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:36:52.095 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:52.098 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:36:52.102 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:52.104 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:36:52.107 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:52.109 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:36:52.110 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.111 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.111 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.112 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.113 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.113 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.114 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:52.114 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:36:52.115 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:52.116 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:36:52.116 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:52.117 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:36:52.118 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:52.119 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:52.120 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:52.121 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:52.131 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:52.127 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:36:52.133 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:36:52.125 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:52.122 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:52.137 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:36:52.135 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 5.1914ms
2025-05-08 14:36:52.137 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:36:52.141 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:52.143 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:52.123 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:36:52.148 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:36:52.1481465Z"
2025-05-08 14:36:52.149 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:52.151 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:36:52.1514198Z"
2025-05-08 14:36:52.156 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:52.153 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:52.1536537Z"
2025-05-08 14:36:52.161 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:52.162 +07:00 [INF] Response: 200
2025-05-08 14:36:52.163 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:52.160 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:52.166 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:52.167 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:52.168 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 40.6124ms
2025-05-08 14:36:52.168 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 76.3018ms
2025-05-08 14:36:52.170 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 36.5722ms
2025-05-08 14:36:52.171 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 11.8619ms
2025-05-08 14:36:52.173 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:52.1734404Z"
2025-05-08 14:36:52.174 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 48.9065ms
2025-05-08 14:36:52.175 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:36:52.180 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:36:52.181 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:36:52.182 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:52.182 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:52.183 +07:00 [INF] Response: 200
2025-05-08 14:36:52.184 +07:00 [INF] Response: 200
2025-05-08 14:36:52.185 +07:00 [INF] Response: 200
2025-05-08 14:36:52.187 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 44.7884ms
2025-05-08 14:36:52.188 +07:00 [INF] Response: 200
2025-05-08 14:36:52.189 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 96.647ms
2025-05-08 14:36:52.189 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 97.4082ms
2025-05-08 14:36:52.190 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 98.2374ms
2025-05-08 14:36:52.191 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:52.192 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 100.8972ms
2025-05-08 14:36:52.201 +07:00 [INF] Response: 200
2025-05-08 14:36:52.204 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 112.416ms
2025-05-08 14:36:52.536 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:52.536 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:52.536 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:52.536 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:52.539 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:52.542 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:52.545 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:52.548 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:36:52.549 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.549 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.550 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.550 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.551 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:52.552 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:52.552 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:52.553 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:52.553 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:52.554 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:52.555 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:52.558 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:52.556 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:52.568 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:52.565 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:52.570 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:36:52.562 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:52.574 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:52.5744897Z"
2025-05-08 14:36:52.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:52.583 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:52.581 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:52.581 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 21.333ms
2025-05-08 14:36:52.590 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 31.6193ms
2025-05-08 14:36:52.589 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:52.594 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:36:52.595 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:52.596 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:52.599 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:52.5993223Z"
2025-05-08 14:36:52.602 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:52.6027846Z"
2025-05-08 14:36:52.603 +07:00 [INF] Response: 200
2025-05-08 14:36:52.604 +07:00 [INF] Response: 200
2025-05-08 14:36:52.605 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:52.606 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:52.607 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 70.841ms
2025-05-08 14:36:52.608 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 72.1973ms
2025-05-08 14:36:52.609 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 44.3929ms
2025-05-08 14:36:52.611 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 41.3336ms
2025-05-08 14:36:52.620 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:52.621 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:52.622 +07:00 [INF] Response: 200
2025-05-08 14:36:52.622 +07:00 [INF] Response: 200
2025-05-08 14:36:52.623 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 86.9078ms
2025-05-08 14:36:52.624 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 87.7059ms
2025-05-08 14:36:52.627 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:36:52.635 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:36:52.636 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:52.637 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:52.638 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:52.641 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:36:52.642 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:36:52.6425392Z"
2025-05-08 14:36:52.643 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:52.645 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.6181ms
2025-05-08 14:36:52.646 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:52.647 +07:00 [INF] Response: 200
2025-05-08 14:36:52.648 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 21.2848ms
2025-05-08 14:36:53.583 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:53.583 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:53.584 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:53.583 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:36:53.587 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:53.591 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:53.594 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:53.597 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:36:53.598 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:53.599 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:53.599 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:53.600 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:53.600 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:53.601 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:53.601 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:53.602 +07:00 [INF] Response: 204
2025-05-08 14:36:53.603 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:53.604 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:53.609 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:53.605 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:53.613 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:53.605 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 21.9803ms
2025-05-08 14:36:53.614 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.5762ms
2025-05-08 14:36:53.616 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:53.620 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:53.627 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:53.624 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:53.630 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:53.6303858Z"
2025-05-08 14:36:53.607 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:36:53.633 +07:00 [INF] Response: 200
2025-05-08 14:36:53.633 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:53.634 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:53.637 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:36:53.637 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 54.0055ms
2025-05-08 14:36:53.640 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:53.6404256Z"
2025-05-08 14:36:53.641 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 28.8345ms
2025-05-08 14:36:53.642 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:53.646 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:53.647 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:53.648 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:36:53.649 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 32.5359ms
2025-05-08 14:36:53.650 +07:00 [INF] Response: 200
2025-05-08 14:36:53.650 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:53.651 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:53.656 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:53.652 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 68.7772ms
2025-05-08 14:36:53.657 +07:00 [INF] Response: 200
2025-05-08 14:36:53.658 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.666ms
2025-05-08 14:36:53.661 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 77.3606ms
2025-05-08 14:36:53.662 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:36:53.666 +07:00 [INF] Response: 200
2025-05-08 14:36:53.667 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 59.8798ms
2025-05-08 14:36:54.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:54.105 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:36:54.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:54.104 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:54.108 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:54.110 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:36:54.112 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:54.114 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:54.115 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:54.115 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:54.116 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:54.117 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:54.118 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:54.119 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:54.119 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:54.120 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:54.122 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:54.123 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:54.124 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:54.126 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:54.128 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:54.138 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:54.130 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:36:54.133 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:54.142 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:54.141 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.9903ms
2025-05-08 14:36:54.153 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:54.1532869Z"
2025-05-08 14:36:54.152 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:54.147 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:54.157 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:54.161 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:54.156 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:54.165 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:36:54.166 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 38.106ms
2025-05-08 14:36:54.169 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:54.1690037Z"
2025-05-08 14:36:54.170 +07:00 [INF] Response: 200
2025-05-08 14:36:54.173 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:54.1736112Z"
2025-05-08 14:36:54.175 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:54.176 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:54.176 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 72.0539ms
2025-05-08 14:36:54.178 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:54.178 +07:00 [INF] Response: 200
2025-05-08 14:36:54.180 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 46.8056ms
2025-05-08 14:36:54.184 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 54.0298ms
2025-05-08 14:36:54.185 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 80.9197ms
2025-05-08 14:36:54.187 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:54.188 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:36:54.191 +07:00 [INF] Response: 200
2025-05-08 14:36:54.193 +07:00 [INF] Response: 200
2025-05-08 14:36:54.194 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 89.2143ms
2025-05-08 14:36:54.194 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 89.2862ms
2025-05-08 14:36:54.197 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:36:54.203 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:36:54.204 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:54.204 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:54.205 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:54.207 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:36:54.208 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:36:54.2085718Z"
2025-05-08 14:36:54.209 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:54.210 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 2.6977ms
2025-05-08 14:36:54.211 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:36:54.212 +07:00 [INF] Response: 200
2025-05-08 14:36:54.213 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 15.5476ms
2025-05-08 14:36:57.938 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:57.939 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:36:57.939 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:36:57.939 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:57.938 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:57.939 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:36:57.942 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:57.944 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:36:57.946 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:36:57.949 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:57.951 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:57.954 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:36:57.954 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:57.955 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:57.956 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:57.957 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:57.957 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:57.958 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:57.959 +07:00 [INF] Response: 204
2025-05-08 14:36:57.959 +07:00 [INF] Response: 204
2025-05-08 14:36:57.960 +07:00 [INF] Response: 204
2025-05-08 14:36:57.960 +07:00 [INF] Response: 204
2025-05-08 14:36:57.961 +07:00 [INF] Response: 204
2025-05-08 14:36:57.962 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 23.9071ms
2025-05-08 14:36:57.966 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:57.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:36:57.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:57.963 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 23.8483ms
2025-05-08 14:36:57.963 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 24.5764ms
2025-05-08 14:36:57.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:57.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:36:57.964 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 25.1371ms
2025-05-08 14:36:57.965 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 26.6132ms
2025-05-08 14:36:57.961 +07:00 [INF] Response: 204
2025-05-08 14:36:57.972 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:57.975 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:36:58.000 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:57.978 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:57.989 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:57.991 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:36:58.001 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:36:57.999 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 60.454ms
2025-05-08 14:36:58.001 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:58.002 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:58.003 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:58.004 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:58.004 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:58.007 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:36:58.012 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:36:58.013 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:58.013 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:58.014 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:58.015 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:36:58.015 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:58.016 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:58.019 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:58.020 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:58.026 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:36:58.032 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:58.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:58.037 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:58.021 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:58.043 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:58.0439734Z"
2025-05-08 14:36:58.047 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:58.023 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:36:58.024 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:36:58.055 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:58.0556634Z"
2025-05-08 14:36:58.052 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:58.059 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:58.051 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:58.062 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:58.063 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 43.9756ms
2025-05-08 14:36:58.064 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 7.0493ms
2025-05-08 14:36:58.061 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:58.035 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:36:58.066 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 17.4292ms
2025-05-08 14:36:58.067 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 35.0156ms
2025-05-08 14:36:58.068 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:58.069 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:36:58.072 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:36:58.074 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:36:58.0742197Z"
2025-05-08 14:36:58.075 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:58.076 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:58.082 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:36:58.077 +07:00 [INF] Response: 200
2025-05-08 14:36:58.078 +07:00 [INF] Response: 200
2025-05-08 14:36:58.081 +07:00 [INF] Response: 200
2025-05-08 14:36:58.080 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:58.086 +07:00 [INF] Response: 200
2025-05-08 14:36:58.088 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:36:58.0886807Z"
2025-05-08 14:36:58.089 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 123.2876ms
2025-05-08 14:36:58.090 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 125.3382ms
2025-05-08 14:36:58.090 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 125.9556ms
2025-05-08 14:36:58.091 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 65.4877ms
2025-05-08 14:36:58.092 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 127.1096ms
2025-05-08 14:36:58.093 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:58.103 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:36:58.107 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 35.3669ms
2025-05-08 14:36:58.108 +07:00 [INF] Response: 200
2025-05-08 14:36:58.110 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:36:58.110 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 145.5096ms
2025-05-08 14:36:58.112 +07:00 [INF] Response: 200
2025-05-08 14:36:58.115 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 114.298ms
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:36:59.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - null null
2025-05-08 14:36:59.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:36:59.149 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/135/ratings
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - null null
2025-05-08 14:36:59.144 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:36:59.153 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:36:59.156 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:36:59.159 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:36:59.162 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/135/ratings/average
2025-05-08 14:36:59.165 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/135
2025-05-08 14:36:59.168 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last
2025-05-08 14:36:59.171 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:36:59.174 +07:00 [INF] Incoming Request: OPTIONS /api/Comment/movies/135/comments
2025-05-08 14:36:59.178 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/135/ratings/average
2025-05-08 14:36:59.179 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.181 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/movies/135/ratings
2025-05-08 14:36:59.184 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist
2025-05-08 14:36:59.187 +07:00 [INF] Incoming Request: OPTIONS /api/Comment/movies/135/comments
2025-05-08 14:36:59.188 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.189 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.189 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.190 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.191 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.191 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.192 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.193 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.194 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.195 +07:00 [INF] Response: 204
2025-05-08 14:36:59.195 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.197 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:59.198 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:59.208 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:59.212 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:59.216 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:36:59.199 +07:00 [INF] Response: 204
2025-05-08 14:36:59.200 +07:00 [INF] Response: 204
2025-05-08 14:36:59.201 +07:00 [INF] Response: 204
2025-05-08 14:36:59.202 +07:00 [INF] Response: 204
2025-05-08 14:36:59.227 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 204 null null 82.9687ms
2025-05-08 14:36:59.236 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:36:59.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:36:59.248 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings/average
2025-05-08 14:36:59.229 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings/average - 204 null null 84.4433ms
2025-05-08 14:36:59.229 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - 204 null null 85.929ms
2025-05-08 14:36:59.255 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.254 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:36:59.233 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - 204 null null 88.5845ms
2025-05-08 14:36:59.203 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:59.203 +07:00 [INF] Response: 204
2025-05-08 14:36:59.204 +07:00 [INF] Response: 204
2025-05-08 14:36:59.205 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 204 null null 61.3194ms
2025-05-08 14:36:59.263 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:36:59.264 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - null null
2025-05-08 14:36:59.271 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:36:59.268 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:36:59.269 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 204 null null 125.6005ms
2025-05-08 14:36:59.270 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings/average - 204 null null 126.3484ms
2025-05-08 14:36:59.207 +07:00 [INF] Response: 204
2025-05-08 14:36:59.196 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.197 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.232 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:59.215 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:36:59.225 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:59.236 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:36:59.274 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:59.274 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:36:59.277 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last
2025-05-08 14:36:59.280 +07:00 [INF] Incoming Request: GET /api/Comment/movies/135/comments
2025-05-08 14:36:59.282 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:36:59.291 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 204 null null 147.1732ms
2025-05-08 14:36:59.305 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:36:59.306 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:59.307 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.320 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:36:59.322 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:36:59.308 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.324 +07:00 [INF] Route matched with {action = "UserLastWatchHistoryFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLastWatchHistoryFromAPIAsync(System.String, Int32) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:36:59.326 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.319 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.310 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:59.292 +07:00 [INF] Response: 204
2025-05-08 14:36:59.330 +07:00 [INF] UserLastWatchHistory API called.
2025-05-08 14:36:59.331 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:36:59.342 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - null null
2025-05-08 14:36:59.340 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:36:59.353 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist
2025-05-08 14:36:59.357 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:36:59.3577508Z"
2025-05-08 14:36:59.342 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:36:59.358 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.359 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:59.359 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:59.352 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:59.364 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:36:59.366 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 83.7004ms
2025-05-08 14:36:59.364 +07:00 [INF] GetMovieAverage completed successfully for MovieId 135 at "2025-05-08T07:36:59.3644371Z"
2025-05-08 14:36:59.340 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - 204 null null 195.9018ms
2025-05-08 14:36:59.292 +07:00 [INF] Response: 204
2025-05-08 14:36:59.295 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:59.2957344Z"
2025-05-08 14:36:59.298 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings
2025-05-08 14:36:59.372 +07:00 [INF] Route matched with {action = "CheckUserFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckUserFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:59.373 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:59.374 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:59.371 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 25.37ms
2025-05-08 14:36:59.382 +07:00 [INF] CheckUserFavorite API called.
2025-05-08 14:36:59.383 +07:00 [INF] Response: 200
2025-05-08 14:36:59.386 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:36:59.388 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 243.1143ms
2025-05-08 14:36:59.385 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 79.7147ms
2025-05-08 14:36:59.386 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.370 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.389 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.378 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 204 null null 234.8698ms
2025-05-08 14:36:59.393 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings/average
2025-05-08 14:36:59.397 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:36:59.410 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:59.409 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.414 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:36:59.411 +07:00 [INF] Response: 200
2025-05-08 14:36:59.398 +07:00 [INF] Response: 200
2025-05-08 14:36:59.407 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__movieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND [w].[MovieID] = @__movieId_1
ORDER BY [w].[HistoryID] DESC
2025-05-08 14:36:59.380 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.381 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.414 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:36:59.417 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - 200 null application/json; charset=utf-8 181.544ms
2025-05-08 14:36:59.418 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 200 954 application/json 147.395ms
2025-05-08 14:36:59.417 +07:00 [INF] CheckUserFavorite completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:59.4173076Z"
2025-05-08 14:36:59.420 +07:00 [INF] UserLastWatchHistory completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:59.4208407Z"
2025-05-08 14:36:59.422 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:36:59.422 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 205.1993ms
2025-05-08 14:36:59.380 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:36:59.303 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:36:59.326 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.300 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 78.2995ms
2025-05-08 14:36:59.423 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.423 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:59.430 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:59.431 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.433 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:36:59.449 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - null null
2025-05-08 14:36:59.446 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:36:59.446 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:36:59.4465522Z"
2025-05-08 14:36:59.452 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last
2025-05-08 14:36:59.455 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.458 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.455 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.448 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API) in 65.6415ms
2025-05-08 14:36:59.462 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:36:59.464 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 144.5026ms
2025-05-08 14:36:59.466 +07:00 [INF] Route matched with {action = "UserLastWatchHistoryFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLastWatchHistoryFromAPIAsync(System.String, Int32) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:36:59.465 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:36:59.465 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:36:59.449 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API) in 118.4566ms
2025-05-08 14:36:59.450 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.434 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:36:59.444 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:59.437 +07:00 [INF] Incoming Request: GET /api/Comment/movies/135/comments
2025-05-08 14:36:59.479 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:59.468 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:36:59.481 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 3.2057ms
2025-05-08 14:36:59.469 +07:00 [INF] UserLastWatchHistory API called.
2025-05-08 14:36:59.468 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:36:59.472 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:36:59.483 +07:00 [INF] GetMovieAverage completed successfully for MovieId 135 at "2025-05-08T07:36:59.4836956Z"
2025-05-08 14:36:59.484 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.485 +07:00 [INF] Response: 200
2025-05-08 14:36:59.487 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.482 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:36:59.473 +07:00 [INF] Response: 200
2025-05-08 14:36:59.474 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:36:59.475 +07:00 [INF] Response: 204
2025-05-08 14:36:59.475 +07:00 [INF] Response: 200
2025-05-08 14:36:59.490 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:59.490 +07:00 [INF] Response: 200
2025-05-08 14:36:59.496 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - null null
2025-05-08 14:36:59.491 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 251.1528ms
2025-05-08 14:36:59.491 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:36:59.494 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings
2025-05-08 14:36:59.498 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 52.4209ms
2025-05-08 14:36:59.499 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 284.248ms
2025-05-08 14:36:59.502 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies/135/genres/Comedy,%20Romance
2025-05-08 14:36:59.498 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:36:59.505 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:59.495 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - 200 null application/json; charset=utf-8 153.1182ms
2025-05-08 14:36:59.496 +07:00 [INF] Response: 200
2025-05-08 14:36:59.496 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 74.5151ms
2025-05-08 14:36:59.497 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 352.9173ms
2025-05-08 14:36:59.487 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:59.480 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.438 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.508 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:36:59.511 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.514 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:36:59.506 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:36:59.516 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:36:59.506 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.521 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - 200 null application/json; charset=utf-8 260.8805ms
2025-05-08 14:36:59.530 +07:00 [INF] Response: 200
2025-05-08 14:36:59.531 +07:00 [INF] Response: 204
2025-05-08 14:36:59.532 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.535 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings/average
2025-05-08 14:36:59.544 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - null null
2025-05-08 14:36:59.542 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - 200 null application/json; charset=utf-8 155.8271ms
2025-05-08 14:36:59.542 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - 204 null null 46.1331ms
2025-05-08 14:36:59.543 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:36:59.536 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.529 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.538 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.528 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.529 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:36:59.554 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:59.544 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.546 +07:00 [INF] Incoming Request: GET /api/Movie/movies/135/genres/Comedy,%20Romance
2025-05-08 14:36:59.555 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:59.564 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__movieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND [w].[MovieID] = @__movieId_1
ORDER BY [w].[HistoryID] DESC
2025-05-08 14:36:59.566 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:36:59.5666125Z"
2025-05-08 14:36:59.566 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:36:59.567 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:36:59.568 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.576 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.578 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:59.580 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:36:59.579 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:36:59.572 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:59.575 +07:00 [INF] UserLastWatchHistory completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:59.5759297Z"
2025-05-08 14:36:59.584 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:36:59.585 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:59.588 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:36:59.5883660Z"
2025-05-08 14:36:59.594 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.593 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:36:59.583 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 66.7534ms
2025-05-08 14:36:59.588 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 18.049ms
2025-05-08 14:36:59.602 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:36:59.596 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.608 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:36:59.611 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 44.4763ms
2025-05-08 14:36:59.614 +07:00 [INF] GetMovieAverage completed successfully for MovieId 135 at "2025-05-08T07:36:59.6144770Z"
2025-05-08 14:36:59.601 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:36:59.604 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.589 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:36:59.590 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.563 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:36:59.565 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:59.624 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:59.616 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:59.628 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 4.3298ms
2025-05-08 14:36:59.628 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:36:59.615 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:36:59.615 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 135 and GenreName Comedy, Romance at "2025-05-08T07:36:59.6153615Z"
2025-05-08 14:36:59.617 +07:00 [INF] Response: 200
2025-05-08 14:36:59.618 +07:00 [INF] Response: 200
2025-05-08 14:36:59.620 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings
2025-05-08 14:36:59.621 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API) in 151.6316ms
2025-05-08 14:36:59.627 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:36:59.449 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - null null
2025-05-08 14:36:59.631 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.641 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:59.633 +07:00 [INF] Incoming Request: GET /api/Comment/movies/135/comments
2025-05-08 14:36:59.629 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 44.7743ms
2025-05-08 14:36:59.646 +07:00 [INF] Response: 200
2025-05-08 14:36:59.649 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.633 +07:00 [INF] Response: 200
2025-05-08 14:36:59.635 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:59.636 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 170.944ms
2025-05-08 14:36:59.651 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 200 954 application/json 271.1541ms
2025-05-08 14:36:59.654 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:36:59.652 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.650 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:36:59.652 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 153.9516ms
2025-05-08 14:36:59.637 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 155.105ms
2025-05-08 14:36:59.637 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.638 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:36:59.654 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 61.9588ms
2025-05-08 14:36:59.649 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:36:59.645 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist
2025-05-08 14:36:59.443 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:36:59.655 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - null null
2025-05-08 14:36:59.663 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:36:59.664 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:36:59.665 +07:00 [INF] Response: 200
2025-05-08 14:36:59.680 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.680 +07:00 [INF] Incoming Request: GET /api/Movie/movies/135/genres/Comedy,%20Romance
2025-05-08 14:36:59.684 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:59.685 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - 200 null application/json; charset=utf-8 179.0316ms
2025-05-08 14:36:59.671 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.672 +07:00 [INF] Response: 200
2025-05-08 14:36:59.673 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:36:59.675 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:59.6757614Z"
2025-05-08 14:36:59.676 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.677 +07:00 [INF] Response: 200
2025-05-08 14:36:59.686 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:36:59.687 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.687 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 4.8493ms
2025-05-08 14:36:59.692 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:36:59.692 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - 200 null application/json; charset=utf-8 242.679ms
2025-05-08 14:36:59.696 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:59.701 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:36:59.697 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:36:59.698 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.693 +07:00 [INF] Response: 200
2025-05-08 14:36:59.693 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.694 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:36:59.695 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 550.009ms
2025-05-08 14:36:59.706 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:36:59.707 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 7.2685ms
2025-05-08 14:36:59.708 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:36:59.716 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:36:59.715 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:36:59.709 +07:00 [INF] Response: 200
2025-05-08 14:36:59.711 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:36:59.709 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - 200 null application/json; charset=utf-8 165.8286ms
2025-05-08 14:36:59.710 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 83.6273ms
2025-05-08 14:36:59.711 +07:00 [INF] Route matched with {action = "CheckUserFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckUserFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:36:59.719 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:36:59.721 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:36:59.7215815Z"
2025-05-08 14:36:59.722 +07:00 [INF] Response: 200
2025-05-08 14:36:59.731 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.733 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 143.5151ms
2025-05-08 14:36:59.736 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 30.2385ms
2025-05-08 14:36:59.737 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:36:59.722 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 200 954 application/json 93.7749ms
2025-05-08 14:36:59.724 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:36:59.728 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:36:59.729 +07:00 [INF] CheckUserFavorite API called.
2025-05-08 14:36:59.733 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:36:59.751 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:36:59.741 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:36:59.743 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:36:59.747 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.748 +07:00 [INF] Response: 200
2025-05-08 14:36:59.761 +07:00 [INF] Response: 200
2025-05-08 14:36:59.761 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 135 and GenreName Comedy, Romance at "2025-05-08T07:36:59.7612699Z"
2025-05-08 14:36:59.761 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:36:59.765 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:59.764 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 109.259ms
2025-05-08 14:36:59.766 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:36:59.762 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:36:59.763 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 526.7904ms
2025-05-08 14:36:59.765 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:59.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:36:59.772 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:36:59.773 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:36:59.779 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 59.4834ms
2025-05-08 14:36:59.780 +07:00 [INF] CheckUserFavorite completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:59.7807167Z"
2025-05-08 14:36:59.782 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:36:59.784 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:36:59.785 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:36:59.786 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:36:59.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:36:59.794 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API) in 64.9652ms
2025-05-08 14:36:59.789 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:36:59.790 +07:00 [INF] Response: 200
2025-05-08 14:36:59.799 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:36:59.7993201Z"
2025-05-08 14:36:59.800 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:36:59.803 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - 200 null application/json; charset=utf-8 148.057ms
2025-05-08 14:36:59.804 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:36:59.805 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.805 +07:00 [INF] Response: 200
2025-05-08 14:36:59.810 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:36:59.8104166Z"
2025-05-08 14:36:59.811 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 28.6011ms
2025-05-08 14:36:59.811 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - 200 null application/json; charset=utf-8 362.4415ms
2025-05-08 14:36:59.812 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:36:59.813 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:36:59.818 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 33.8424ms
2025-05-08 14:36:59.819 +07:00 [INF] Response: 200
2025-05-08 14:36:59.820 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:36:59.821 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 83.6491ms
2025-05-08 14:36:59.822 +07:00 [INF] Response: 200
2025-05-08 14:36:59.826 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 114.4268ms
2025-05-08 14:37:00.026 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135 - null null
2025-05-08 14:37:00.029 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movies/135
2025-05-08 14:37:00.030 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.031 +07:00 [INF] Response: 204
2025-05-08 14:37:00.031 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135 - 204 null null 5.3177ms
2025-05-08 14:37:00.033 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135 - null 0
2025-05-08 14:37:00.038 +07:00 [INF] Incoming Request: POST /api/UserFavorite/accounts/huy260704@gmail.com/movies/135
2025-05-08 14:37:00.039 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.040 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.AddFavoriteAsync (CinemaHub.API)'
2025-05-08 14:37:00.044 +07:00 [INF] Route matched with {action = "AddFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:00.048 +07:00 [INF] AddWishList API called.
2025-05-08 14:37:00.055 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:00.068 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:00.076 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:37:00.121 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserFavorites] ([MovieID], [UserID])
OUTPUT INSERTED.[FavoriteID]
VALUES (@p0, @p1);
2025-05-08 14:37:00.137 +07:00 [INF] AddWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:00.1379131Z"
2025-05-08 14:37:00.139 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:00.140 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.AddFavoriteAsync (CinemaHub.API) in 93.8791ms
2025-05-08 14:37:00.142 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.AddFavoriteAsync (CinemaHub.API)'
2025-05-08 14:37:00.143 +07:00 [INF] Response: 200
2025-05-08 14:37:00.144 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135 - 200 null application/json; charset=utf-8 111.4597ms
2025-05-08 14:37:00.152 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:37:00.154 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:37:00.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - null null
2025-05-08 14:37:00.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - null null
2025-05-08 14:37:00.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:37:00.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:37:00.153 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - null null
2025-05-08 14:37:00.156 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:37:00.159 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:37:00.161 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last
2025-05-08 14:37:00.164 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist
2025-05-08 14:37:00.167 +07:00 [INF] Incoming Request: GET /api/Comment/movies/135/comments
2025-05-08 14:37:00.169 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings
2025-05-08 14:37:00.173 +07:00 [INF] Incoming Request: GET /api/Rating/movies/135/ratings/average
2025-05-08 14:37:00.173 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.174 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.175 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.176 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.176 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.176 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.177 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.177 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:37:00.178 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:37:00.179 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:37:00.179 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:37:00.180 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:37:00.180 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:37:00.181 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:37:00.182 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:00.183 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:37:00.184 +07:00 [INF] Route matched with {action = "UserLastWatchHistoryFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UserLastWatchHistoryFromAPIAsync(System.String, Int32) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:37:00.184 +07:00 [INF] Route matched with {action = "CheckUserFavorite", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckUserFavoriteAsync(System.String, Int32) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:00.185 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:37:00.186 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:37:00.199 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:00.203 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:00.204 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 6.4072ms
2025-05-08 14:37:00.190 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:37:00.191 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:37:00.193 +07:00 [INF] UserLastWatchHistory API called.
2025-05-08 14:37:00.205 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 3.4221ms
2025-05-08 14:37:00.205 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:37:00.211 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:37:00.214 +07:00 [INF] Response: 200
2025-05-08 14:37:00.216 +07:00 [INF] Response: 200
2025-05-08 14:37:00.218 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/135/comments?pageSize=3&commentId=1000000 - 200 954 application/json 64.9811ms
2025-05-08 14:37:00.219 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 65.4052ms
2025-05-08 14:37:00.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:37:00.209 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:00.195 +07:00 [INF] CheckUserFavorite API called.
2025-05-08 14:37:00.208 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:00.231 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:37:00.227 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:37:00.233 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:00.214 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:00.187 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:37:00.238 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:00.2387107Z"
2025-05-08 14:37:00.239 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.248 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:00.240 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:37:00.2401600Z"
2025-05-08 14:37:00.245 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:00.247 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:37:00.249 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:00.250 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 58.7664ms
2025-05-08 14:37:00.257 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:00.261 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:37:00.249 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:37:00.251 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:00.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userFavorite_UserId_0='?' (Size = 450), @__userFavorite_MovieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
FROM [UserFavorites] AS [u]
WHERE [u].[UserID] = @__userFavorite_UserId_0 AND [u].[MovieID] = @__userFavorite_MovieId_1
2025-05-08 14:37:00.267 +07:00 [INF] Response: 200
2025-05-08 14:37:00.268 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:00.263 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450), @__movieId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND [w].[MovieID] = @__movieId_1
ORDER BY [w].[HistoryID] DESC
2025-05-08 14:37:00.270 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 80.6935ms
2025-05-08 14:37:00.271 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:37:00.273 +07:00 [INF] CheckUserFavorite completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:00.2739326Z"
2025-05-08 14:37:00.274 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 120.4277ms
2025-05-08 14:37:00.275 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:37:00.278 +07:00 [INF] UserLastWatchHistory completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:00.2782455Z"
2025-05-08 14:37:00.279 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:37:00.287 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:37:00.285 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:00.288 +07:00 [INF] Response: 200
2025-05-08 14:37:00.280 +07:00 [INF] GetMovieAverage completed successfully for MovieId 135 at "2025-05-08T07:37:00.2809873Z"
2025-05-08 14:37:00.281 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:00.292 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:37:00.2920779Z"
2025-05-08 14:37:00.293 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API) in 99.2721ms
2025-05-08 14:37:00.293 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 140.7358ms
2025-05-08 14:37:00.297 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:00.298 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - null null
2025-05-08 14:37:00.297 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.UserLastWatchHistoryFromAPIAsync (CinemaHub.API)'
2025-05-08 14:37:00.294 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:00.295 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API) in 100.6968ms
2025-05-08 14:37:00.302 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 26.282ms
2025-05-08 14:37:00.304 +07:00 [INF] Incoming Request: GET /api/Movie/movies/135/genres/Comedy,%20Romance
2025-05-08 14:37:00.305 +07:00 [INF] Response: 200
2025-05-08 14:37:00.306 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 59.2467ms
2025-05-08 14:37:00.307 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.CheckUserFavoriteAsync (CinemaHub.API)'
2025-05-08 14:37:00.308 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:37:00.309 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:00.310 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/movies/135/user-last - 200 null application/json; charset=utf-8 156.0618ms
2025-05-08 14:37:00.310 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:37:00.311 +07:00 [INF] Response: 200
2025-05-08 14:37:00.312 +07:00 [INF] Response: 200
2025-05-08 14:37:00.313 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:37:00.318 +07:00 [INF] Response: 200
2025-05-08 14:37:00.318 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movies/135/check-wishlist - 200 null application/json; charset=utf-8 165.0461ms
2025-05-08 14:37:00.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 98.0899ms
2025-05-08 14:37:00.320 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:00.321 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/135/ratings/average - 200 null application/json; charset=utf-8 167.4638ms
2025-05-08 14:37:00.328 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:37:00.334 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:37:00.346 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 135 and GenreName Comedy, Romance at "2025-05-08T07:37:00.3461622Z"
2025-05-08 14:37:00.347 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:00.350 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 21.8592ms
2025-05-08 14:37:00.351 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:37:00.352 +07:00 [INF] Response: 200
2025-05-08 14:37:00.353 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/135/genres/Comedy, Romance - 200 null application/json; charset=utf-8 54.8911ms
2025-05-08 14:37:01.425 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:01.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:37:01.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:37:01.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:01.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:37:01.425 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:01.430 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:01.432 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:37:01.435 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:37:01.438 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:01.441 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:37:01.444 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:01.445 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:01.445 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:01.446 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:01.447 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:01.448 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:01.448 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:01.449 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:01.450 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:01.450 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:01.451 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:01.452 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:01.453 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:01.454 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:01.455 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:01.456 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:01.458 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:01.459 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:37:01.460 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:01.472 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:01.475 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:01.465 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:37:01.477 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.4151ms
2025-05-08 14:37:01.466 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:37:01.480 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:37:01.478 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.2868ms
2025-05-08 14:37:01.487 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:37:01.4876887Z"
2025-05-08 14:37:01.487 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:37:01.479 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:01.468 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:01.462 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:01.490 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:01.491 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:01.493 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:37:01.4937433Z"
2025-05-08 14:37:01.499 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 34.5285ms
2025-05-08 14:37:01.502 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:01.496 +07:00 [INF] Response: 200
2025-05-08 14:37:01.494 +07:00 [INF] Response: 200
2025-05-08 14:37:01.497 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:01.497 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:01.504 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:01.505 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 38.8986ms
2025-05-08 14:37:01.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 81.0431ms
2025-05-08 14:37:01.507 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 80.3715ms
2025-05-08 14:37:01.510 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:01.511 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:01.5118981Z"
2025-05-08 14:37:01.512 +07:00 [INF] Response: 200
2025-05-08 14:37:01.513 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:01.524 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:01.5241007Z"
2025-05-08 14:37:01.525 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:01.526 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 99.1036ms
2025-05-08 14:37:01.526 +07:00 [INF] Response: 200
2025-05-08 14:37:01.527 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:01.529 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 66.2776ms
2025-05-08 14:37:01.533 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 106.387ms
2025-05-08 14:37:01.534 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 66.1467ms
2025-05-08 14:37:01.535 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:01.539 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:01.540 +07:00 [INF] Response: 200
2025-05-08 14:37:01.541 +07:00 [INF] Response: 200
2025-05-08 14:37:01.542 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 117.0405ms
2025-05-08 14:37:01.543 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 116.2779ms
2025-05-08 14:37:02.026 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:02.026 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:02.026 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:02.027 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:02.027 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:02.030 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:02.033 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:37:02.035 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:37:02.038 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:02.040 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:02.041 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.041 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.042 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.042 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.043 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.044 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:02.044 +07:00 [INF] Response: 204
2025-05-08 14:37:02.045 +07:00 [INF] Response: 204
2025-05-08 14:37:02.045 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:02.048 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 204 null null 21.961ms
2025-05-08 14:37:02.050 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:02.049 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 22.6293ms
2025-05-08 14:37:02.050 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:02.047 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:02.058 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:37:02.046 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:02.067 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:02.049 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:02.071 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.070 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:02.071 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:02.073 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 9.1846ms
2025-05-08 14:37:02.076 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:37:02.085 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:02.081 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:02.080 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:02.076 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:37:02.086 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:02.093 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:02.087 +07:00 [INF] Response: 200
2025-05-08 14:37:02.098 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:37:02.101 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 74.2371ms
2025-05-08 14:37:02.102 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:02.104 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:02.090 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:02.0906416Z"
2025-05-08 14:37:02.112 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:02.1122344Z"
2025-05-08 14:37:02.092 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:37:02.116 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:02.117 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:02.117 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:37:02.120 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:02.1202700Z"
2025-05-08 14:37:02.121 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 51.3093ms
2025-05-08 14:37:02.123 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 42.8012ms
2025-05-08 14:37:02.123 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:02.124 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:02.127 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:02.125 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:02.130 +07:00 [INF] GetMovieByUserFavoritesEmail API called.
2025-05-08 14:37:02.133 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 34.8918ms
2025-05-08 14:37:02.133 +07:00 [INF] Response: 200
2025-05-08 14:37:02.136 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:37:02.138 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 110.4802ms
2025-05-08 14:37:02.138 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:02.134 +07:00 [INF] Response: 200
2025-05-08 14:37:02.140 +07:00 [INF] Response: 200
2025-05-08 14:37:02.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 120.4506ms
2025-05-08 14:37:02.150 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:37:02.147 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:37:02.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 97.6289ms
2025-05-08 14:37:02.155 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:37:02.159 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:02.163 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.168 +07:00 [INF] Response: 204
2025-05-08 14:37:02.168 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 18.3769ms
2025-05-08 14:37:02.170 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:37:02.174 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:02.177 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:37:02.182 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.183 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:37:02.184 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:02.186 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:02.187 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:37:02.192 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:37:02.1924868Z"
2025-05-08 14:37:02.193 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:02.194 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 7.5652ms
2025-05-08 14:37:02.196 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:02.197 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:37:02.202 +07:00 [INF] GetMovieByUserFavoritesEmail completed successfully at "2025-05-08T07:37:02.2021591Z"
2025-05-08 14:37:02.202 +07:00 [INF] Response: 200
2025-05-08 14:37:02.204 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 33.6723ms
2025-05-08 14:37:02.204 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:02.210 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 81.2105ms
2025-05-08 14:37:02.212 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:37:02.213 +07:00 [INF] Response: 200
2025-05-08 14:37:02.214 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 164.3382ms
2025-05-08 14:37:02.218 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:02.221 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:37:02.222 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.223 +07:00 [INF] Response: 204
2025-05-08 14:37:02.224 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 204 null null 6.2238ms
2025-05-08 14:37:02.225 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:02.231 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:37:02.232 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:02.233 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:37:02.234 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:02.238 +07:00 [INF] ViewUserFavoritesByEmail API called.
2025-05-08 14:37:02.243 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:02.249 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:37:02.252 +07:00 [INF] ViewUserFavoritesByEmail completed successfully at "2025-05-08T07:37:02.2520687Z"
2025-05-08 14:37:02.253 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.UserFavorite, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:02.255 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 18.3548ms
2025-05-08 14:37:02.256 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:37:02.257 +07:00 [INF] Response: 200
2025-05-08 14:37:02.258 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 32.3729ms
2025-05-08 14:37:08.178 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:08.181 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:37:08.181 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:08.182 +07:00 [INF] Response: 204
2025-05-08 14:37:08.182 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 204 null null 4.4547ms
2025-05-08 14:37:08.184 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:08.189 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:37:08.190 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:08.190 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:37:08.191 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:08.195 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:08.199 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 4.8959ms
2025-05-08 14:37:08.200 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:37:08.201 +07:00 [INF] Response: 200
2025-05-08 14:37:08.202 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=100000000 - 200 26936 application/json 17.5658ms
2025-05-08 14:37:08.206 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:08.209 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:37:08.209 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:08.210 +07:00 [INF] Response: 204
2025-05-08 14:37:08.211 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 204 null null 4.8036ms
2025-05-08 14:37:08.212 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:08.218 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:37:08.219 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:08.219 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:37:08.220 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:08.225 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:08.227 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 4.4939ms
2025-05-08 14:37:08.228 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:37:08.229 +07:00 [INF] Response: 200
2025-05-08 14:37:08.230 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=100000000 - 200 643 application/json 17.1841ms
2025-05-08 14:37:08.234 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:08.237 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:37:08.238 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:08.239 +07:00 [INF] Response: 204
2025-05-08 14:37:08.240 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 6.2656ms
2025-05-08 14:37:08.241 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:08.246 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:37:08.247 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:08.248 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:37:08.249 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:08.251 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:37:08.254 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:08.262 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:37:08.265 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:08.2652887Z"
2025-05-08 14:37:08.266 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:08.267 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 16.2602ms
2025-05-08 14:37:08.269 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:37:08.270 +07:00 [INF] Response: 200
2025-05-08 14:37:08.271 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 29.607ms
2025-05-08 14:37:08.275 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:37:08.278 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:37:08.279 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:08.279 +07:00 [INF] Response: 204
2025-05-08 14:37:08.280 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 5.3513ms
2025-05-08 14:37:08.281 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:37:08.286 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:37:08.287 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:08.288 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:37:08.289 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:08.291 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:37:08.292 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:37:08.2920356Z"
2025-05-08 14:37:08.292 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:08.294 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 2.8874ms
2025-05-08 14:37:08.295 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:37:08.296 +07:00 [INF] Response: 200
2025-05-08 14:37:08.297 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 16.1766ms
2025-05-08 14:37:09.448 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:37:09.452 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:37:10.003 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=57 - null null
2025-05-08 14:37:10.007 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:37:10.008 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:10.009 +07:00 [INF] Response: 204
2025-05-08 14:37:10.010 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=57 - 204 null null 6.7756ms
2025-05-08 14:37:10.011 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=57 - null null
2025-05-08 14:37:10.017 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user
2025-05-08 14:37:10.018 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:10.019 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:37:10.020 +07:00 [INF] Route matched with {action = "GetMovieByUserFavoritesEmail", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieByUserFavoritesEmailAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:10.024 +07:00 [INF] GetMovieByUserFavoritesEmail API called.
2025-05-08 14:37:10.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:10.035 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:37:10.041 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:10.055 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:10.062 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:37:10.067 +07:00 [INF] GetMovieByUserFavoritesEmail completed successfully at "2025-05-08T07:37:10.0672674Z"
2025-05-08 14:37:10.069 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:10.072 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API) in 49.6272ms
2025-05-08 14:37:10.074 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieByUserFavoritesEmailAsync (CinemaHub.API)'
2025-05-08 14:37:10.075 +07:00 [INF] Response: 200
2025-05-08 14:37:10.076 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist-user?pageSize=4&favoriteId=57 - 200 null application/json; charset=utf-8 64.5447ms
2025-05-08 14:37:10.080 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=57 - null null
2025-05-08 14:37:10.084 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:37:10.085 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:10.085 +07:00 [INF] Response: 204
2025-05-08 14:37:10.086 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=57 - 204 null null 5.6264ms
2025-05-08 14:37:10.087 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=57 - null null
2025-05-08 14:37:10.093 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/user-favorites
2025-05-08 14:37:10.094 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:10.095 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:37:10.096 +07:00 [INF] Route matched with {action = "ViewUserFavoritesByUserId", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserFavoritesByUserIdAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:10.101 +07:00 [INF] ViewUserFavoritesByEmail API called.
2025-05-08 14:37:10.106 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:10.111 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:37:10.114 +07:00 [INF] ViewUserFavoritesByEmail completed successfully at "2025-05-08T07:37:10.1148966Z"
2025-05-08 14:37:10.116 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.UserFavorite, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:10.118 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API) in 19.1298ms
2025-05-08 14:37:10.119 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.ViewUserFavoritesByUserIdAsync (CinemaHub.API)'
2025-05-08 14:37:10.120 +07:00 [INF] Response: 200
2025-05-08 14:37:10.121 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/user-favorites?pageSize=4&favoriteId=57 - 200 null application/json; charset=utf-8 33.9298ms
2025-05-08 14:37:10.126 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=57 - null null
2025-05-08 14:37:10.129 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:37:10.130 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:10.130 +07:00 [INF] Response: 204
2025-05-08 14:37:10.131 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=57 - 204 null null 5.1932ms
2025-05-08 14:37:10.133 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=57 - null null
2025-05-08 14:37:10.137 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:37:10.138 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:10.139 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:37:10.139 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:10.141 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:37:10.144 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:10.151 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:37:10.154 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:10.1541445Z"
2025-05-08 14:37:10.155 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:10.156 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 14.7685ms
2025-05-08 14:37:10.157 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:37:10.158 +07:00 [INF] Response: 200
2025-05-08 14:37:10.159 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=57 - 200 null application/json; charset=utf-8 26.5766ms
2025-05-08 14:37:10.163 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:37:10.166 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:37:10.167 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:10.168 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:37:10.169 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:10.172 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:37:10.173 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:37:10.1731299Z"
2025-05-08 14:37:10.174 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:10.175 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.5593ms
2025-05-08 14:37:10.177 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:37:10.178 +07:00 [INF] Response: 200
2025-05-08 14:37:10.179 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 15.8541ms
2025-05-08 14:37:15.012 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:15.014 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:37:15.014 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:37:15.013 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:15.013 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:15.013 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - null null
2025-05-08 14:37:15.014 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:37:15.015 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:15.018 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:37:15.020 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:37:15.024 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:15.027 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:15.030 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/huy260704@gmail.com
2025-05-08 14:37:15.032 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:37:15.032 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.033 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.033 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.034 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.035 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.035 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.036 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.037 +07:00 [INF] Response: 204
2025-05-08 14:37:15.037 +07:00 [INF] Response: 204
2025-05-08 14:37:15.038 +07:00 [INF] Response: 204
2025-05-08 14:37:15.038 +07:00 [INF] Response: 204
2025-05-08 14:37:15.039 +07:00 [INF] Response: 204
2025-05-08 14:37:15.039 +07:00 [INF] Response: 204
2025-05-08 14:37:15.040 +07:00 [INF] Response: 204
2025-05-08 14:37:15.044 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:37:15.046 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:37:15.045 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:15.041 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 26.815ms
2025-05-08 14:37:15.044 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:15.042 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 27.4564ms
2025-05-08 14:37:15.044 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:15.045 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - application/json 2
2025-05-08 14:37:15.044 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:37:15.042 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 28.6599ms
2025-05-08 14:37:15.043 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 29.1415ms
2025-05-08 14:37:15.040 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 28.4263ms
2025-05-08 14:37:15.043 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - 204 null null 29.8728ms
2025-05-08 14:37:15.045 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 30.5832ms
2025-05-08 14:37:15.048 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:37:15.051 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:37:15.053 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:15.060 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:15.067 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:15.069 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/huy260704@gmail.com
2025-05-08 14:37:15.072 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:37:15.091 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.091 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.092 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.094 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.094 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.095 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.096 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:15.097 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:15.098 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:15.098 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:15.099 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:15.100 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:15.101 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:37:15.102 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:15.103 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:37:15.104 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:15.105 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:15.107 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:15.108 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:15.119 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:37:15.122 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:15.110 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:37:15.135 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:15.130 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:15.139 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:37:15.111 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:15.148 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:15.148 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:15.154 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:37:15.133 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:37:15.159 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:37:15.161 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:15.1619445Z"
2025-05-08 14:37:15.173 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:37:15.164 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:37:15.169 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:37:15.1695622Z"
2025-05-08 14:37:15.146 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:15.126 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:15.116 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:15.177 +07:00 [INF] RenewAccessToken completed successful for Email huy260704@gmail.com at "2025-05-08T07:37:15.1771863Z"
2025-05-08 14:37:15.185 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 60.8181ms
2025-05-08 14:37:15.174 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:15.179 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:37:15.1791545Z"
2025-05-08 14:37:15.179 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:15.182 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:15.1826944Z"
2025-05-08 14:37:15.185 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 71.1737ms
2025-05-08 14:37:15.187 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:15.188 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:15.190 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 59.6925ms
2025-05-08 14:37:15.190 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:15.192 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 72.8785ms
2025-05-08 14:37:15.196 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 57.7858ms
2025-05-08 14:37:15.197 +07:00 [INF] Response: 200
2025-05-08 14:37:15.199 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:15.201 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 47.2388ms
2025-05-08 14:37:15.193 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:15.194 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:15.203 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:15.204 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:37:15.205 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 160.341ms
2025-05-08 14:37:15.206 +07:00 [INF] Response: 200
2025-05-08 14:37:15.207 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:15.208 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 86.7704ms
2025-05-08 14:37:15.209 +07:00 [INF] Response: 200
2025-05-08 14:37:15.210 +07:00 [INF] Response: 200
2025-05-08 14:37:15.212 +07:00 [INF] Response: 200
2025-05-08 14:37:15.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 172.7039ms
2025-05-08 14:37:15.218 +07:00 [INF] Response: 200
2025-05-08 14:37:15.220 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:15.220 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 176.036ms
2025-05-08 14:37:15.221 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 175.0203ms
2025-05-08 14:37:15.222 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - 200 null application/json; charset=utf-8 176.6222ms
2025-05-08 14:37:15.226 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 182.2492ms
2025-05-08 14:37:15.227 +07:00 [INF] Response: 200
2025-05-08 14:37:15.242 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 196.7525ms
2025-05-08 14:37:16.519 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:37:16.520 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:16.520 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:16.520 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:16.522 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:37:16.524 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:16.527 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:16.529 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:16.530 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:16.530 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:16.531 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:16.532 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:16.533 +07:00 [INF] Response: 204
2025-05-08 14:37:16.533 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:16.534 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:16.536 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:16.536 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:37:16.535 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 16.4398ms
2025-05-08 14:37:16.542 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:16.537 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:16.546 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:37:16.535 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:16.552 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 11.5189ms
2025-05-08 14:37:16.554 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:16.555 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:16.555 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:16.558 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:37:16.560 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:16.557 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:16.565 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:37:16.564 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:16.572 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:16.568 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:16.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:16.575 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 4.0415ms
2025-05-08 14:37:16.569 +07:00 [INF] Response: 200
2025-05-08 14:37:16.580 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:16.5808348Z"
2025-05-08 14:37:16.582 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:16.5827950Z"
2025-05-08 14:37:16.583 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:37:16.584 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 64.225ms
2025-05-08 14:37:16.585 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:16.585 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:16.586 +07:00 [INF] Response: 200
2025-05-08 14:37:16.591 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 37.5645ms
2025-05-08 14:37:16.593 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 28.6255ms
2025-05-08 14:37:16.593 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 56.8765ms
2025-05-08 14:37:16.595 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:16.596 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:16.601 +07:00 [INF] Response: 200
2025-05-08 14:37:16.602 +07:00 [INF] Response: 200
2025-05-08 14:37:16.603 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 82.3381ms
2025-05-08 14:37:16.603 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 83.7821ms
2025-05-08 14:37:17.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:17.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:17.182 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:37:17.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:37:17.181 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:17.182 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:37:17.184 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:17.187 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:17.189 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:37:17.192 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:37:17.195 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:17.198 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:37:17.199 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:17.199 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:17.200 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:17.201 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:17.201 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:17.202 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:17.203 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:17.204 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:17.204 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:17.205 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:17.206 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:17.207 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:17.208 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:17.209 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:17.210 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:17.211 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:37:17.212 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:17.215 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:17.218 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:17.220 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:37:17.228 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:17.233 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:17.232 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:17.237 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:37:17.224 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:17.213 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:17.237 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 10.1574ms
2025-05-08 14:37:17.247 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:17.250 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:17.2501865Z"
2025-05-08 14:37:17.252 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:37:17.2526709Z"
2025-05-08 14:37:17.253 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 30.8798ms
2025-05-08 14:37:17.255 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:37:17.257 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:17.259 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:17.2597409Z"
2025-05-08 14:37:17.266 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:37:17.269 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:17.260 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:17.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:17.263 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:17.265 +07:00 [INF] Response: 200
2025-05-08 14:37:17.272 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:37:17.2725668Z"
2025-05-08 14:37:17.273 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 55.6976ms
2025-05-08 14:37:17.275 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 59.6051ms
2025-05-08 14:37:17.276 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 55.7184ms
2025-05-08 14:37:17.277 +07:00 [INF] Response: 200
2025-05-08 14:37:17.278 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 96.665ms
2025-05-08 14:37:17.279 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:17.280 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:17.281 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:17.283 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:17.283 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 102.2176ms
2025-05-08 14:37:17.289 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 33.3742ms
2025-05-08 14:37:17.290 +07:00 [INF] Response: 200
2025-05-08 14:37:17.291 +07:00 [INF] Response: 200
2025-05-08 14:37:17.291 +07:00 [INF] Response: 200
2025-05-08 14:37:17.297 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:17.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 116.6545ms
2025-05-08 14:37:17.298 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 117.9809ms
2025-05-08 14:37:17.299 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 117.3722ms
2025-05-08 14:37:17.300 +07:00 [INF] Response: 200
2025-05-08 14:37:17.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 129.5ms
2025-05-08 14:37:18.949 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=126 - null null
2025-05-08 14:37:18.952 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:37:18.953 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:18.953 +07:00 [INF] Response: 204
2025-05-08 14:37:18.954 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=126 - 204 null null 5.3143ms
2025-05-08 14:37:18.956 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=126 - null null
2025-05-08 14:37:18.961 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:37:18.962 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:18.963 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:37:18.964 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:18.970 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:18.974 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 6.9175ms
2025-05-08 14:37:18.975 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:37:18.976 +07:00 [INF] Response: 200
2025-05-08 14:37:18.976 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=126 - 200 20870 application/json 20.5594ms
2025-05-08 14:37:20.589 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:20.590 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:37:20.589 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:20.589 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:20.593 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:20.595 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:37:20.598 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:20.601 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:20.602 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:20.603 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:20.604 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:20.605 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:20.605 +07:00 [INF] Response: 204
2025-05-08 14:37:20.606 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:37:20.607 +07:00 [INF] Response: 204
2025-05-08 14:37:20.608 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 19.2156ms
2025-05-08 14:37:20.610 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:37:20.611 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 21.6255ms
2025-05-08 14:37:20.619 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:20.610 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:20.625 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 7.6607ms
2025-05-08 14:37:20.612 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:20.608 +07:00 [INF] Response: 204
2025-05-08 14:37:20.628 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:20.629 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:37:20.636 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:20.635 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:20.632 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:20.634 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 44.4071ms
2025-05-08 14:37:20.637 +07:00 [INF] Response: 200
2025-05-08 14:37:20.639 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:20.640 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:20.641 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:20.645 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 55.3309ms
2025-05-08 14:37:20.646 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:20.648 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:20.648 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:20.653 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:20.655 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:20.656 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:20.657 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:20.661 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:20.667 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:20.669 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:20.673 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:20.678 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:20.675 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 11.2739ms
2025-05-08 14:37:20.682 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:20.6822480Z"
2025-05-08 14:37:20.685 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:20.6852452Z"
2025-05-08 14:37:20.686 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:20.687 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:20.688 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:20.689 +07:00 [INF] Response: 200
2025-05-08 14:37:20.690 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 35.0412ms
2025-05-08 14:37:20.692 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 22.4259ms
2025-05-08 14:37:20.692 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 80.045ms
2025-05-08 14:37:20.693 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:20.694 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:20.699 +07:00 [INF] Response: 200
2025-05-08 14:37:20.700 +07:00 [INF] Response: 200
2025-05-08 14:37:20.702 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 92.0507ms
2025-05-08 14:37:20.703 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 67.5413ms
2025-05-08 14:37:21.211 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:21.213 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:21.213 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:37:21.212 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:37:21.211 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:21.212 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:37:21.215 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:21.218 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:21.220 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:37:21.223 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:37:21.226 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:21.229 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:37:21.229 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.230 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.231 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.231 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.232 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.233 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.233 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:21.234 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:21.235 +07:00 [INF] Response: 204
2025-05-08 14:37:21.236 +07:00 [INF] Response: 204
2025-05-08 14:37:21.237 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:21.237 +07:00 [INF] Response: 204
2025-05-08 14:37:21.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:37:21.245 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:37:21.239 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:21.240 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:21.250 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:37:21.247 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:37:21.254 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:21.241 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 28.0601ms
2025-05-08 14:37:21.258 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.259 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.258 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:21.241 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 29.356ms
2025-05-08 14:37:21.268 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:21.264 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:21.265 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:21.261 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 8.4242ms
2025-05-08 14:37:21.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:37:21.242 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:21.244 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 31.9724ms
2025-05-08 14:37:21.278 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:21.278 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:37:21.279 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:21.292 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:21.2928378Z"
2025-05-08 14:37:21.300 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:37:21.281 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:21.283 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:37:21.305 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:37:21.302 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:21.304 +07:00 [INF] Response: 200
2025-05-08 14:37:21.308 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:21.286 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:21.300 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:21.310 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:37:21.3105831Z"
2025-05-08 14:37:21.311 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 53.7992ms
2025-05-08 14:37:21.316 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:21.316 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:21.319 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:21.312 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 100.931ms
2025-05-08 14:37:21.313 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:21.314 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 19.4993ms
2025-05-08 14:37:21.321 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 21.3587ms
2025-05-08 14:37:21.324 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:21.3243212Z"
2025-05-08 14:37:21.324 +07:00 [INF] Response: 200
2025-05-08 14:37:21.329 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:21.330 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:21.332 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:21.333 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:21.334 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 121.3798ms
2025-05-08 14:37:21.337 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:37:21.338 +07:00 [INF] Response: 200
2025-05-08 14:37:21.339 +07:00 [INF] Response: 200
2025-05-08 14:37:21.340 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 53.9517ms
2025-05-08 14:37:21.346 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 103.1959ms
2025-05-08 14:37:21.347 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:37:21.349 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:21.345 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 100.0132ms
2025-05-08 14:37:21.356 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:37:21.3561671Z"
2025-05-08 14:37:21.357 +07:00 [INF] Response: 200
2025-05-08 14:37:21.361 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:21.361 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 150.4118ms
2025-05-08 14:37:21.363 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 26.4714ms
2025-05-08 14:37:21.368 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:21.369 +07:00 [INF] Response: 200
2025-05-08 14:37:21.370 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 127.4189ms
2025-05-08 14:37:27.332 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=117 - null null
2025-05-08 14:37:27.335 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:37:27.336 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:27.337 +07:00 [INF] Response: 204
2025-05-08 14:37:27.338 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=117 - 204 null null 6.2443ms
2025-05-08 14:37:27.340 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=117 - null null
2025-05-08 14:37:27.345 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:37:27.346 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:27.347 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:37:27.348 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:27.352 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:27.357 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 6.2734ms
2025-05-08 14:37:27.358 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:37:27.359 +07:00 [INF] Response: 200
2025-05-08 14:37:27.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=9&movieId=117 - 200 34164 application/json 20.6104ms
2025-05-08 14:37:29.316 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:29.316 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:29.316 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:29.316 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:37:29.319 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:29.321 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:29.324 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:29.327 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:37:29.328 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:29.329 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:29.329 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:29.330 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:29.330 +07:00 [INF] Response: 204
2025-05-08 14:37:29.331 +07:00 [INF] Response: 204
2025-05-08 14:37:29.332 +07:00 [INF] Response: 204
2025-05-08 14:37:29.332 +07:00 [INF] Response: 204
2025-05-08 14:37:29.336 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:29.338 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:37:29.335 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:29.335 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:29.334 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 18.1388ms
2025-05-08 14:37:29.335 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 19.0064ms
2025-05-08 14:37:29.337 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 20.7252ms
2025-05-08 14:37:29.333 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 17.4295ms
2025-05-08 14:37:29.340 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:29.342 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:37:29.345 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:29.348 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:29.363 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:29.364 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:29.365 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:29.366 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:29.366 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:29.367 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:37:29.368 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:29.368 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:29.369 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:29.371 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:37:29.372 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:29.375 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:29.384 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:29.373 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:29.388 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:29.387 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 5.0509ms
2025-05-08 14:37:29.393 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:29.379 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:29.398 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:29.401 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:29.398 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:29.400 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 22.3017ms
2025-05-08 14:37:29.406 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:29.4069128Z"
2025-05-08 14:37:29.409 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:29.4091385Z"
2025-05-08 14:37:29.410 +07:00 [INF] Response: 200
2025-05-08 14:37:29.411 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:37:29.412 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:29.413 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:29.414 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 78.5284ms
2025-05-08 14:37:29.415 +07:00 [INF] Response: 200
2025-05-08 14:37:29.416 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 40.8228ms
2025-05-08 14:37:29.418 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 24.6562ms
2025-05-08 14:37:29.422 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 84.6774ms
2025-05-08 14:37:29.423 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:29.425 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:29.431 +07:00 [INF] Response: 200
2025-05-08 14:37:29.432 +07:00 [INF] Response: 200
2025-05-08 14:37:29.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 96.7822ms
2025-05-08 14:37:29.434 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 98.5131ms
2025-05-08 14:37:31.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:31.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:31.556 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=3&id=1000000000 - null null
2025-05-08 14:37:31.556 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:31.556 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=3&id=1000000000 - null null
2025-05-08 14:37:31.556 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:37:31.558 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:31.560 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:31.562 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:37:31.565 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:31.568 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:37:31.570 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:37:31.571 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.571 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.572 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.572 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.573 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.574 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.574 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:31.575 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:31.576 +07:00 [INF] Response: 204
2025-05-08 14:37:31.576 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:31.577 +07:00 [INF] Response: 204
2025-05-08 14:37:31.581 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=3&id=1000000000 - null null
2025-05-08 14:37:31.579 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:31.580 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=3&id=1000000000 - 204 null null 24.2371ms
2025-05-08 14:37:31.584 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=3&id=1000000000 - null null
2025-05-08 14:37:31.581 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:31.582 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=3&id=1000000000 - 204 null null 26.701ms
2025-05-08 14:37:31.577 +07:00 [INF] Response: 204
2025-05-08 14:37:31.578 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:31.585 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:37:31.604 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:31.605 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.587 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:31.594 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:37:31.596 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:31.602 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - null null
2025-05-08 14:37:31.607 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:37:31.610 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:31.614 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:31.609 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.618 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:37:31.620 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:31.6204179Z"
2025-05-08 14:37:31.624 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:31.624 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:37:31.617 +07:00 [INF] Incoming Request: GET /api/Payment/accounts/huy260704@gmail.com/remaining-duration
2025-05-08 14:37:31.628 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:31.600 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 204 null null 44.3359ms
2025-05-08 14:37:31.607 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.3944ms
2025-05-08 14:37:31.630 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:31.632 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:31.6328441Z"
2025-05-08 14:37:31.633 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:37:31.643 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:31.642 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 55.1792ms
2025-05-08 14:37:31.643 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:31.634 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.635 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 8.504ms
2025-05-08 14:37:31.647 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:31.640 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:31.649 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 53.1348ms
2025-05-08 14:37:31.650 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:31.653 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:31.654 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:37:31.655 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:37:31.657 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 12.194ms
2025-05-08 14:37:31.658 +07:00 [INF] Response: 200
2025-05-08 14:37:31.659 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:31.660 +07:00 [INF] Response: 200
2025-05-08 14:37:31.662 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:31.663 +07:00 [INF] Route matched with {action = "ViewPaymentRemainingDuration", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewPaymentRemainingDurationAsync(System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:37:31.664 +07:00 [INF] Response: 200
2025-05-08 14:37:31.665 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:37:31.666 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 110.9562ms
2025-05-08 14:37:31.667 +07:00 [INF] Response: 200
2025-05-08 14:37:31.668 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 113.0336ms
2025-05-08 14:37:31.669 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:31.671 +07:00 [INF] ViewPaymentRemainingDuration API called.
2025-05-08 14:37:31.671 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=3&id=1000000000 - 200 712 application/json 89.9334ms
2025-05-08 14:37:31.677 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 121.5435ms
2025-05-08 14:37:31.682 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:31.672 +07:00 [INF] Response: 200
2025-05-08 14:37:31.685 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:31.697 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:31.698 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=3&id=1000000000 - 200 16766 application/json 114.3613ms
2025-05-08 14:37:31.704 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__payment_UserId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [Payments] AS [p]
INNER JOIN [SubscriptionPlans] AS [s] ON [p].[SubscriptionPlanID] = [s].[PlanID]
WHERE LOWER([p].[PaymentStatus]) = N'success' AND [p].[ExpiryDate] > GETDATE() AND [p].[UserID] = @__payment_UserId_0
ORDER BY [p].[PaymentID] DESC
2025-05-08 14:37:31.706 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:31.712 +07:00 [INF] ViewPaymentRemainingDuration completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:31.7125357Z"
2025-05-08 14:37:31.715 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:31.7156275Z"
2025-05-08 14:37:31.717 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:31.718 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:31.720 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API) in 49.2075ms
2025-05-08 14:37:31.722 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 24.5528ms
2025-05-08 14:37:31.723 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewPaymentRemainingDurationAsync (CinemaHub.API)'
2025-05-08 14:37:31.724 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:31.725 +07:00 [INF] Response: 200
2025-05-08 14:37:31.727 +07:00 [INF] Response: 200
2025-05-08 14:37:31.727 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/accounts/huy260704@gmail.com/remaining-duration - 200 null application/json; charset=utf-8 125.9928ms
2025-05-08 14:37:31.728 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 85.1079ms
2025-05-08 14:37:40.703 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:40.703 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:40.703 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:40.703 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:40.706 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:40.709 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:37:40.712 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:40.714 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:40.714 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.715 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.716 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.717 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.718 +07:00 [INF] Response: 204
2025-05-08 14:37:40.718 +07:00 [INF] Response: 204
2025-05-08 14:37:40.719 +07:00 [INF] Response: 204
2025-05-08 14:37:40.719 +07:00 [INF] Response: 204
2025-05-08 14:37:40.721 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 17.2245ms
2025-05-08 14:37:40.723 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:40.721 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 18.0119ms
2025-05-08 14:37:40.724 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:40.723 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:37:40.720 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 17.2017ms
2025-05-08 14:37:40.722 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:40.723 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 20.0073ms
2025-05-08 14:37:40.730 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:40.737 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:40.739 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:37:40.746 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:40.751 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.751 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.753 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.753 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.754 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:40.755 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:40.756 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:37:40.757 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:40.757 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:40.758 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:40.760 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:37:40.761 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:40.763 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:40.766 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:40.768 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:37:40.773 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:40.777 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:40.777 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:40.791 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:40.783 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:40.785 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 14.2612ms
2025-05-08 14:37:40.795 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:40.7951999Z"
2025-05-08 14:37:40.797 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:40.7975769Z"
2025-05-08 14:37:40.801 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:37:40.802 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:40.803 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:40.804 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:40.807 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:40.8075443Z"
2025-05-08 14:37:40.808 +07:00 [INF] Response: 200
2025-05-08 14:37:40.809 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 43.9049ms
2025-05-08 14:37:40.810 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 47.5107ms
2025-05-08 14:37:40.811 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:40.812 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 90.1219ms
2025-05-08 14:37:40.813 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:40.815 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:40.817 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 48.4572ms
2025-05-08 14:37:40.822 +07:00 [INF] Response: 200
2025-05-08 14:37:40.823 +07:00 [INF] Response: 200
2025-05-08 14:37:40.824 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:37:40.825 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 100.9668ms
2025-05-08 14:37:40.826 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 102.5316ms
2025-05-08 14:37:40.827 +07:00 [INF] Response: 200
2025-05-08 14:37:40.834 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 111.1969ms
2025-05-08 14:37:40.838 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:37:40.841 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:37:40.842 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.843 +07:00 [INF] Response: 204
2025-05-08 14:37:40.844 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 5.786ms
2025-05-08 14:37:40.845 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:37:40.852 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:37:40.852 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:40.853 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:37:40.854 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:40.857 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:37:40.858 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:37:40.8589174Z"
2025-05-08 14:37:40.859 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:40.861 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.6365ms
2025-05-08 14:37:40.862 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:37:40.863 +07:00 [INF] Response: 200
2025-05-08 14:37:40.864 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 19.1931ms
2025-05-08 14:37:41.193 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:37:41.193 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:37:41.193 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:37:41.193 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:37:41.193 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:37:41.193 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:37:41.196 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:37:41.199 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:37:41.201 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:37:41.204 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:37:41.206 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:37:41.208 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:37:41.209 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.210 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.210 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.211 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.211 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.212 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.213 +07:00 [INF] Response: 204
2025-05-08 14:37:41.214 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:41.214 +07:00 [INF] Response: 204
2025-05-08 14:37:41.218 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:41.219 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 26.3821ms
2025-05-08 14:37:41.224 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:41.215 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:41.220 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:37:41.217 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 23.9733ms
2025-05-08 14:37:41.215 +07:00 [INF] Response: 204
2025-05-08 14:37:41.218 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:37:41.230 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 8.0966ms
2025-05-08 14:37:41.231 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:37:41.234 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:37:41.240 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:37:41.238 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 45.4784ms
2025-05-08 14:37:41.216 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:41.242 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:37:41.243 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:41.245 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:37:41.246 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.248 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:37:41.254 +07:00 [INF] Response: 200
2025-05-08 14:37:41.256 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:41.261 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 68.354ms
2025-05-08 14:37:41.259 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.258 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:41.254 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:37:41.262 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:41.266 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:41.270 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:41.275 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:37:41.270 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:37:41.273 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:37:41.274 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:37:41.286 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:37:41.282 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:37:41.2829456Z"
2025-05-08 14:37:41.289 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:37:41.279 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:37:41.253 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:37:41.291 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:37:41.2919447Z"
2025-05-08 14:37:41.292 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:41.296 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:37:41.294 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 16.8072ms
2025-05-08 14:37:41.300 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:37:41.301 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:41.302 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 57.5461ms
2025-05-08 14:37:41.308 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 34.8348ms
2025-05-08 14:37:41.312 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:37:41.309 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:37:41.305 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:37:41.3053686Z"
2025-05-08 14:37:41.306 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:37:41.314 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:37:41.315 +07:00 [INF] Response: 200
2025-05-08 14:37:41.318 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:37:41.3185333Z"
2025-05-08 14:37:41.319 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:37:41.320 +07:00 [INF] Response: 200
2025-05-08 14:37:41.321 +07:00 [INF] Response: 200
2025-05-08 14:37:41.322 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 128.3743ms
2025-05-08 14:37:41.323 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:37:41.324 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 35.4475ms
2025-05-08 14:37:41.325 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 106.8229ms
2025-05-08 14:37:41.326 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 105.3477ms
2025-05-08 14:37:41.331 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.2737ms
2025-05-08 14:37:41.332 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:37:41.341 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:37:41.342 +07:00 [INF] Response: 200
2025-05-08 14:37:41.344 +07:00 [INF] Response: 200
2025-05-08 14:37:41.344 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 104.487ms
2025-05-08 14:37:41.345 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 152.1808ms
2025-05-08 14:38:04.175 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:04.176 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:38:04.175 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:04.176 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:04.179 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:04.182 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:38:04.184 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:04.186 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:04.187 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:04.188 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:04.189 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:04.189 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:04.190 +07:00 [INF] Response: 204
2025-05-08 14:38:04.191 +07:00 [INF] Response: 204
2025-05-08 14:38:04.191 +07:00 [INF] Response: 204
2025-05-08 14:38:04.192 +07:00 [INF] Response: 204
2025-05-08 14:38:04.192 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 16.8277ms
2025-05-08 14:38:04.195 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:38:04.194 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:04.193 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 16.4916ms
2025-05-08 14:38:04.194 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 18.1334ms
2025-05-08 14:38:04.196 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:04.201 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:04.194 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 17.8477ms
2025-05-08 14:38:04.204 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:38:04.207 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:04.216 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:04.219 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:04.224 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:04.225 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:04.225 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:04.226 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:04.227 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:04.228 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:04.228 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:04.229 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:04.230 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:38:04.230 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:04.231 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:04.232 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:04.236 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:04.240 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:04.235 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:04.245 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 7.0899ms
2025-05-08 14:38:04.247 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:04.250 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:04.255 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:04.2552722Z"
2025-05-08 14:38:04.243 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:04.246 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 12.6017ms
2025-05-08 14:38:04.259 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:04.257 +07:00 [INF] Response: 200
2025-05-08 14:38:04.261 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:04.262 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:04.266 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 29.2838ms
2025-05-08 14:38:04.266 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 70.7198ms
2025-05-08 14:38:04.267 +07:00 [INF] Response: 200
2025-05-08 14:38:04.272 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:04.272 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:04.277 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 82.027ms
2025-05-08 14:38:04.280 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:04.2804350Z"
2025-05-08 14:38:04.281 +07:00 [INF] Response: 200
2025-05-08 14:38:04.285 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:04.286 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 91.3363ms
2025-05-08 14:38:04.287 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 44.6315ms
2025-05-08 14:38:04.293 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:04.294 +07:00 [INF] Response: 200
2025-05-08 14:38:04.295 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 94.6085ms
2025-05-08 14:38:08.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:08.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:08.345 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:08.348 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:08.351 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:08.355 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:08.356 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:08.356 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:08.358 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:08.359 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:08.359 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:08.360 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:08.361 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:08.363 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:08.364 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:08.367 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:08.369 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:08.374 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:08.378 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:08.378 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:08.380 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 7.9659ms
2025-05-08 14:38:08.386 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:08.3864177Z"
2025-05-08 14:38:08.390 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:08.391 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:08.392 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:08.394 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:08.3946845Z"
2025-05-08 14:38:08.395 +07:00 [INF] Response: 200
2025-05-08 14:38:08.397 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.2145ms
2025-05-08 14:38:08.398 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:08.399 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 54.065ms
2025-05-08 14:38:08.400 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:08.401 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 31.5087ms
2025-05-08 14:38:08.406 +07:00 [INF] Response: 200
2025-05-08 14:38:08.407 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:08.408 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 63.1007ms
2025-05-08 14:38:08.409 +07:00 [INF] Response: 200
2025-05-08 14:38:08.413 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 68.337ms
2025-05-08 14:38:09.519 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:38:09.522 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:38:12.511 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1129 - null null
2025-05-08 14:38:12.514 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:12.515 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:12.516 +07:00 [INF] Response: 204
2025-05-08 14:38:12.517 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1129 - 204 null null 5.7431ms
2025-05-08 14:38:12.518 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1129 - null null
2025-05-08 14:38:12.525 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:12.525 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:12.526 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:12.528 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:12.531 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:38:12.535 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:12.545 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:12.548 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:12.5482747Z"
2025-05-08 14:38:12.550 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:12.552 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 21.9204ms
2025-05-08 14:38:12.553 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:12.555 +07:00 [INF] Response: 200
2025-05-08 14:38:12.555 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1129 - 200 null application/json; charset=utf-8 36.9749ms
2025-05-08 14:38:12.559 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1129 - null null
2025-05-08 14:38:12.562 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:12.562 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:12.563 +07:00 [INF] Response: 204
2025-05-08 14:38:12.564 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1129 - 204 null null 5.3476ms
2025-05-08 14:38:12.565 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1129 - null null
2025-05-08 14:38:12.571 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:12.571 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:12.572 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:12.574 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:12.577 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:38:12.582 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:12.591 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:12.596 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:12.602 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:12.607 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:12.612 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:12.618 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:12.624 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:12.631 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:12.639 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:12.653 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:12.6532381Z"
2025-05-08 14:38:12.655 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:12.658 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 81.6687ms
2025-05-08 14:38:12.659 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:12.660 +07:00 [INF] Response: 200
2025-05-08 14:38:12.661 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1129 - 200 null application/json; charset=utf-8 95.4145ms
2025-05-08 14:38:13.342 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1101 - null null
2025-05-08 14:38:13.346 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:13.346 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:13.347 +07:00 [INF] Response: 204
2025-05-08 14:38:13.348 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1101 - 204 null null 6.6203ms
2025-05-08 14:38:13.350 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1101 - null null
2025-05-08 14:38:13.356 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:13.357 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:13.358 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:13.360 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:13.364 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:38:13.368 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:13.382 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:13.385 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:13.3853165Z"
2025-05-08 14:38:13.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:13.389 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 26.1848ms
2025-05-08 14:38:13.390 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:13.391 +07:00 [INF] Response: 200
2025-05-08 14:38:13.392 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1101 - 200 null application/json; charset=utf-8 42.8691ms
2025-05-08 14:38:13.397 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1101 - null null
2025-05-08 14:38:13.399 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:13.400 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:13.400 +07:00 [INF] Response: 204
2025-05-08 14:38:13.401 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1101 - 204 null null 4.3113ms
2025-05-08 14:38:13.403 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1101 - null null
2025-05-08 14:38:13.407 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:13.408 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:13.409 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:13.410 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:13.413 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:38:13.416 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:13.428 +07:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:13.433 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:13.439 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:13.445 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:13.451 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:13.478 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:13.483 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:13.492 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:13.498 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:13.502 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:13.5029272Z"
2025-05-08 14:38:13.511 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:13.514 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 102.5712ms
2025-05-08 14:38:13.516 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:13.516 +07:00 [INF] Response: 200
2025-05-08 14:38:13.517 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1101 - 200 null application/json; charset=utf-8 114.8255ms
2025-05-08 14:38:14.543 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:14.544 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:38:14.544 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:38:14.544 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:38:14.543 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:14.544 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:14.547 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:14.549 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:38:14.552 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:38:14.554 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:38:14.557 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:14.560 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:14.561 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.562 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.563 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.564 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.565 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.566 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.567 +07:00 [INF] Response: 204
2025-05-08 14:38:14.568 +07:00 [INF] Response: 204
2025-05-08 14:38:14.568 +07:00 [INF] Response: 204
2025-05-08 14:38:14.569 +07:00 [INF] Response: 204
2025-05-08 14:38:14.570 +07:00 [INF] Response: 204
2025-05-08 14:38:14.572 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 28.1805ms
2025-05-08 14:38:14.575 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:38:14.574 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:14.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:38:14.587 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:38:14.599 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:38:14.594 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:14.603 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.602 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.573 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 28.9394ms
2025-05-08 14:38:14.574 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 29.5396ms
2025-05-08 14:38:14.575 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 31.7021ms
2025-05-08 14:38:14.571 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 28.2134ms
2025-05-08 14:38:14.575 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:38:14.571 +07:00 [INF] Response: 204
2025-05-08 14:38:14.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:14.605 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:14.605 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:38:14.604 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.622 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:14.621 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:38:14.621 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 77.2389ms
2025-05-08 14:38:14.624 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:14.625 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:38:14.626 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:38:14.626 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:14.629 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:14.629 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.634 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.637 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:14.640 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:38:14.641 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:14.647 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:38:14.651 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:14.641 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:14.653 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:38:14.6538065Z"
2025-05-08 14:38:14.642 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:38:14.643 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:14.644 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 8.2696ms
2025-05-08 14:38:14.655 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 6.3251ms
2025-05-08 14:38:14.655 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:14.656 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:14.657 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:38:14.658 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:14.659 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:14.660 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:14.661 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:14.662 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 22.3427ms
2025-05-08 14:38:14.664 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:38:14.666 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:14.667 +07:00 [INF] Response: 200
2025-05-08 14:38:14.671 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:38:14.674 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:14.677 +07:00 [INF] Response: 200
2025-05-08 14:38:14.669 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:14.674 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:38:14.682 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:14.6820781Z"
2025-05-08 14:38:14.682 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 107.8203ms
2025-05-08 14:38:14.668 +07:00 [INF] Response: 200
2025-05-08 14:38:14.685 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:14.674 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 87.6666ms
2025-05-08 14:38:14.689 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:14.688 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:38:14.6882535Z"
2025-05-08 14:38:14.692 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 118.4075ms
2025-05-08 14:38:14.696 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:14.699 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 33.3782ms
2025-05-08 14:38:14.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:14.706 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:14.7061241Z"
2025-05-08 14:38:14.707 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:14.708 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 43.6805ms
2025-05-08 14:38:14.709 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:14.709 +07:00 [INF] Response: 200
2025-05-08 14:38:14.710 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:38:14.712 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 42.2444ms
2025-05-08 14:38:14.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 115.8285ms
2025-05-08 14:38:14.713 +07:00 [INF] Response: 200
2025-05-08 14:38:14.714 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:14.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 143.2611ms
2025-05-08 14:38:14.719 +07:00 [INF] Response: 200
2025-05-08 14:38:14.722 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 100.0835ms
2025-05-08 14:38:16.221 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - null null
2025-05-08 14:38:16.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:16.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:16.222 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:16.225 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/huy260704@gmail.com
2025-05-08 14:38:16.233 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:16.228 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:16.230 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:16.232 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:16.234 +07:00 [INF] Response: 204
2025-05-08 14:38:16.234 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:16.235 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:16.235 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:16.236 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:16.237 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:16.236 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - 204 null null 14.4608ms
2025-05-08 14:38:16.237 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - application/json 2
2025-05-08 14:38:16.238 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:16.238 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:16.239 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:16.245 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/huy260704@gmail.com
2025-05-08 14:38:16.249 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:16.246 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:16.252 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:16.252 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:16.254 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 7.125ms
2025-05-08 14:38:16.257 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:38:16.259 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:16.256 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:16.260 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:16.263 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:38:16.268 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:16.265 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:16.2657337Z"
2025-05-08 14:38:16.273 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:38:16.267 +07:00 [INF] Response: 200
2025-05-08 14:38:16.277 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:16.280 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:16.278 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:16.285 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:16.2853398Z"
2025-05-08 14:38:16.279 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 57.7338ms
2025-05-08 14:38:16.288 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:38:16.289 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 37.7719ms
2025-05-08 14:38:16.298 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:38:16.290 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:16.299 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:16.302 +07:00 [INF] RenewAccessToken completed successful for Email huy260704@gmail.com at "2025-05-08T07:38:16.3024117Z"
2025-05-08 14:38:16.303 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 47.0721ms
2025-05-08 14:38:16.304 +07:00 [INF] Response: 200
2025-05-08 14:38:16.305 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:16.307 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:16.308 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 86.0628ms
2025-05-08 14:38:16.308 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 35.7101ms
2025-05-08 14:38:16.309 +07:00 [INF] Response: 200
2025-05-08 14:38:16.315 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:38:16.316 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 93.5598ms
2025-05-08 14:38:16.317 +07:00 [INF] Response: 200
2025-05-08 14:38:16.321 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/huy260704@gmail.com - 200 null application/json; charset=utf-8 84.2468ms
2025-05-08 14:38:19.698 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1038 - null null
2025-05-08 14:38:19.701 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:19.702 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:19.702 +07:00 [INF] Response: 204
2025-05-08 14:38:19.703 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1038 - 204 null null 5.841ms
2025-05-08 14:38:19.705 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1038 - null null
2025-05-08 14:38:19.709 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:19.710 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:19.711 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:19.712 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:19.715 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:38:19.720 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:19.759 +07:00 [INF] Executed DbCommand (35ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:19.763 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:19.7634615Z"
2025-05-08 14:38:19.766 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:19.768 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 53.9726ms
2025-05-08 14:38:19.769 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:19.770 +07:00 [INF] Response: 200
2025-05-08 14:38:19.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=1038 - 200 null application/json; charset=utf-8 66.5747ms
2025-05-08 14:38:19.777 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1038 - null null
2025-05-08 14:38:19.780 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:19.781 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:19.782 +07:00 [INF] Response: 204
2025-05-08 14:38:19.783 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1038 - 204 null null 6.1312ms
2025-05-08 14:38:19.784 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1038 - null null
2025-05-08 14:38:19.789 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:19.790 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:19.791 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:19.792 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:19.796 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:38:19.801 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:19.838 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:19.844 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:19.853 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:19.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:19.866 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:19.876 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:19.889 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:19.898 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:19.907 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:19.913 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:19.9131263Z"
2025-05-08 14:38:19.915 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:19.919 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 123.4202ms
2025-05-08 14:38:19.920 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:19.921 +07:00 [INF] Response: 200
2025-05-08 14:38:19.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=1038 - 200 null application/json; charset=utf-8 137.7322ms
2025-05-08 14:38:21.195 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=851 - null null
2025-05-08 14:38:21.198 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:21.199 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:21.199 +07:00 [INF] Response: 204
2025-05-08 14:38:21.200 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=851 - 204 null null 5.7606ms
2025-05-08 14:38:21.202 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=851 - null null
2025-05-08 14:38:21.208 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:21.209 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:21.209 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:21.210 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:21.214 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:38:21.218 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:21.242 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:21.246 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:21.2460571Z"
2025-05-08 14:38:21.248 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:21.250 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 36.935ms
2025-05-08 14:38:21.251 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:21.252 +07:00 [INF] Response: 200
2025-05-08 14:38:21.253 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=851 - 200 null application/json; charset=utf-8 51.4639ms
2025-05-08 14:38:21.259 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=851 - null null
2025-05-08 14:38:21.262 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:21.263 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:21.264 +07:00 [INF] Response: 204
2025-05-08 14:38:21.265 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=851 - 204 null null 6.1404ms
2025-05-08 14:38:21.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=851 - null null
2025-05-08 14:38:21.272 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:21.273 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:21.274 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:21.275 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:21.278 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:38:21.283 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:21.308 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:21.313 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:21.320 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:21.329 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:21.337 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:21.344 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:21.353 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:21.361 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:21.370 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:21.376 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:21.3767568Z"
2025-05-08 14:38:21.379 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:21.382 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 104.9138ms
2025-05-08 14:38:21.383 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:21.384 +07:00 [INF] Response: 200
2025-05-08 14:38:21.385 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=851 - 200 null application/json; charset=utf-8 119.3395ms
2025-05-08 14:38:22.308 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=724 - null null
2025-05-08 14:38:22.310 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:22.311 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:22.312 +07:00 [INF] Response: 204
2025-05-08 14:38:22.313 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=724 - 204 null null 5.0999ms
2025-05-08 14:38:22.314 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=724 - null null
2025-05-08 14:38:22.318 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:22.319 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:22.320 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:22.321 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:22.325 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:38:22.329 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:22.353 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:22.357 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:22.3576208Z"
2025-05-08 14:38:22.359 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:22.361 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 36.759ms
2025-05-08 14:38:22.362 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:22.363 +07:00 [INF] Response: 200
2025-05-08 14:38:22.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=724 - 200 null application/json; charset=utf-8 49.763ms
2025-05-08 14:38:22.370 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=724 - null null
2025-05-08 14:38:22.374 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:22.374 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:22.375 +07:00 [INF] Response: 204
2025-05-08 14:38:22.376 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=724 - 204 null null 6.2475ms
2025-05-08 14:38:22.377 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=724 - null null
2025-05-08 14:38:22.383 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:22.384 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:22.385 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:22.386 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:22.389 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:38:22.393 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:22.417 +07:00 [INF] Executed DbCommand (21ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:22.422 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:22.428 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:22.434 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:22.440 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:22.448 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:22.458 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:22.465 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:22.476 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:22.489 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:22.4894445Z"
2025-05-08 14:38:22.492 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:22.495 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 107.5678ms
2025-05-08 14:38:22.496 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:22.497 +07:00 [INF] Response: 200
2025-05-08 14:38:22.498 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=724 - 200 null application/json; charset=utf-8 120.7528ms
2025-05-08 14:38:23.474 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=213 - null null
2025-05-08 14:38:23.477 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:23.478 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:23.479 +07:00 [INF] Response: 204
2025-05-08 14:38:23.480 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=213 - 204 null null 6.4416ms
2025-05-08 14:38:23.481 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=213 - null null
2025-05-08 14:38:23.488 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:23.489 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:23.490 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:23.491 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:23.494 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:38:23.499 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:23.518 +07:00 [INF] Executed DbCommand (15ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:23.521 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:23.5212710Z"
2025-05-08 14:38:23.523 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:23.524 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 31.3772ms
2025-05-08 14:38:23.526 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:23.527 +07:00 [INF] Response: 200
2025-05-08 14:38:23.528 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=213 - 200 null application/json; charset=utf-8 47.0155ms
2025-05-08 14:38:23.535 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=213 - null null
2025-05-08 14:38:23.538 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:23.539 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:23.539 +07:00 [INF] Response: 204
2025-05-08 14:38:23.540 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=213 - 204 null null 5.7028ms
2025-05-08 14:38:23.541 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=213 - null null
2025-05-08 14:38:23.548 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:23.549 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:23.550 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:23.551 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:23.554 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:38:23.558 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:23.580 +07:00 [INF] Executed DbCommand (17ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:23.586 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:23.594 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:23.599 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:23.609 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:23.619 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:23.627 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:23.639 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:23.647 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:23.652 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:23.6524394Z"
2025-05-08 14:38:23.655 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:23.658 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 104.9186ms
2025-05-08 14:38:23.659 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:23.660 +07:00 [INF] Response: 200
2025-05-08 14:38:23.661 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=213 - 200 null application/json; charset=utf-8 119.4096ms
2025-05-08 14:38:24.553 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=132 - null null
2025-05-08 14:38:24.557 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:24.558 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:24.558 +07:00 [INF] Response: 204
2025-05-08 14:38:24.559 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=132 - 204 null null 6.0584ms
2025-05-08 14:38:24.561 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=132 - null null
2025-05-08 14:38:24.566 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:24.567 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:24.568 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:24.569 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:24.573 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:38:24.577 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:24.604 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:24.608 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:24.6080546Z"
2025-05-08 14:38:24.610 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:24.611 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 40.1944ms
2025-05-08 14:38:24.613 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:24.614 +07:00 [INF] Response: 200
2025-05-08 14:38:24.615 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=132 - 200 null application/json; charset=utf-8 54.246ms
2025-05-08 14:38:24.623 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=132 - null null
2025-05-08 14:38:24.626 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:24.627 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:24.628 +07:00 [INF] Response: 204
2025-05-08 14:38:24.629 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=132 - 204 null null 6.0895ms
2025-05-08 14:38:24.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=132 - null null
2025-05-08 14:38:24.636 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:24.637 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:24.638 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:24.639 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:24.642 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:38:24.648 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:24.674 +07:00 [INF] Executed DbCommand (22ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:24.679 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:38:24.690 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:24.6907999Z"
2025-05-08 14:38:24.692 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:24.695 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 53.78ms
2025-05-08 14:38:24.696 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:24.697 +07:00 [INF] Response: 200
2025-05-08 14:38:24.698 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=132 - 200 null application/json; charset=utf-8 67.9169ms
2025-05-08 14:38:26.662 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=108 - null null
2025-05-08 14:38:26.666 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:26.667 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:26.668 +07:00 [INF] Response: 204
2025-05-08 14:38:26.669 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=108 - 204 null null 6.4092ms
2025-05-08 14:38:26.670 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=108 - null null
2025-05-08 14:38:26.676 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user
2025-05-08 14:38:26.677 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:26.677 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:26.679 +07:00 [INF] Route matched with {action = "ViewUserWatchHistoryByEmailFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserWatchHistoryByEmailFromAPIAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:26.682 +07:00 [INF] ViewUserWatchHistoryByEmail API called.
2025-05-08 14:38:26.687 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:26.710 +07:00 [INF] Executed DbCommand (19ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:26.713 +07:00 [INF] ViewUserWatchHistoryByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:26.7134540Z"
2025-05-08 14:38:26.715 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.WatchHistory, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:26.717 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API) in 35.0659ms
2025-05-08 14:38:26.718 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewUserWatchHistoryByEmailFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:26.719 +07:00 [INF] Response: 200
2025-05-08 14:38:26.720 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/user?pageSize=8&id=108 - 200 null application/json; charset=utf-8 49.6447ms
2025-05-08 14:38:26.727 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=108 - null null
2025-05-08 14:38:26.730 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:26.731 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:26.731 +07:00 [INF] Response: 204
2025-05-08 14:38:26.732 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=108 - 204 null null 5.3896ms
2025-05-08 14:38:26.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=108 - null null
2025-05-08 14:38:26.739 +07:00 [INF] Incoming Request: GET /api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies
2025-05-08 14:38:26.740 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:26.741 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:26.742 +07:00 [INF] Route matched with {action = "ViewMovieDetailsInWatchHistory", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieDetailsInWatchHistory(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:26.746 +07:00 [INF] ViewMovieDetailsInWatchHistoryByEmail API called.
2025-05-08 14:38:26.751 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:26.777 +07:00 [INF] Executed DbCommand (20ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
WHERE [w].[UserID] = @__userId_0 AND ([w].[WatchedAt] = (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) OR ([w].[WatchedAt] IS NULL AND (
    SELECT MAX([w0].[WatchedAt])
    FROM [WatchHistory] AS [w0]
    WHERE [w0].[MovieID] = [w].[MovieID]) IS NULL)) AND [w].[HistoryID] < @__Parse_1
ORDER BY [w].[WatchedAt] DESC
2025-05-08 14:38:26.781 +07:00 [WRN] ViewMovieDetailsInWatchHistoryByEmail attempt failed - WatchHistory not found
2025-05-08 14:38:26.782 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:26.783 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API) in 38.4606ms
2025-05-08 14:38:26.785 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewMovieDetailsInWatchHistory (CinemaHub.API)'
2025-05-08 14:38:26.786 +07:00 [INF] Response: 400
2025-05-08 14:38:26.786 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/accounts/huy260704@gmail.com/watch-history/movies?pageSize=8&id=108 - 400 null application/json; charset=utf-8 52.8325ms
2025-05-08 14:38:29.821 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:29.821 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:29.821 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:38:29.821 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:29.824 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:29.827 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:29.830 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:38:29.833 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:29.834 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:29.835 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:29.836 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:29.836 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:29.837 +07:00 [INF] Response: 204
2025-05-08 14:38:29.837 +07:00 [INF] Response: 204
2025-05-08 14:38:29.838 +07:00 [INF] Response: 204
2025-05-08 14:38:29.839 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 18.3051ms
2025-05-08 14:38:29.840 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 19.3942ms
2025-05-08 14:38:29.841 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 20.5038ms
2025-05-08 14:38:29.841 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:29.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:29.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:38:29.839 +07:00 [INF] Response: 204
2025-05-08 14:38:29.856 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:29.859 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:29.864 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:29.863 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:29.862 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:38:29.862 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 41.3529ms
2025-05-08 14:38:29.864 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:29.867 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:29.867 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:29.868 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:29.873 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:29.873 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:29.874 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:29.875 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:29.877 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:29.876 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:29.881 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:29.883 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:38:29.884 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:29.892 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:29.889 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 9.2989ms
2025-05-08 14:38:29.887 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:29.896 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:29.897 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 6.3502ms
2025-05-08 14:38:29.898 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:29.903 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:29.906 +07:00 [INF] Response: 200
2025-05-08 14:38:29.905 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:29.902 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:29.909 +07:00 [INF] Response: 200
2025-05-08 14:38:29.910 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 68.6608ms
2025-05-08 14:38:29.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 73.0638ms
2025-05-08 14:38:29.912 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:29.9126487Z"
2025-05-08 14:38:29.916 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:29.923 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:29.926 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:29.9261953Z"
2025-05-08 14:38:29.927 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.7305ms
2025-05-08 14:38:29.928 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:29.929 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:29.930 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 43.6625ms
2025-05-08 14:38:29.931 +07:00 [INF] Response: 200
2025-05-08 14:38:29.933 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:29.934 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 70.0511ms
2025-05-08 14:38:29.935 +07:00 [INF] Response: 200
2025-05-08 14:38:29.941 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 98.9312ms
2025-05-08 14:38:35.782 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:35.782 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:35.782 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:35.784 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:35.786 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:35.789 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:35.789 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:35.790 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:35.791 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:35.791 +07:00 [INF] Response: 204
2025-05-08 14:38:35.792 +07:00 [INF] Response: 204
2025-05-08 14:38:35.792 +07:00 [INF] Response: 204
2025-05-08 14:38:35.793 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 11.3807ms
2025-05-08 14:38:35.796 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:35.796 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:35.795 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:35.794 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 12.0703ms
2025-05-08 14:38:35.794 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 12.8364ms
2025-05-08 14:38:35.801 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:35.804 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:35.807 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:35.817 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:35.817 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:35.818 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:35.819 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:35.819 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:35.820 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:35.821 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:35.822 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:35.823 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:35.827 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:35.830 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:35.832 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:35.835 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 8.8981ms
2025-05-08 14:38:35.838 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:35.839 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:35.838 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:35.847 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:35.8476296Z"
2025-05-08 14:38:35.848 +07:00 [INF] Response: 200
2025-05-08 14:38:35.852 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:35.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:35.853 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 57.4338ms
2025-05-08 14:38:35.856 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:35.8567514Z"
2025-05-08 14:38:35.858 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 25.332ms
2025-05-08 14:38:35.862 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:35.864 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:35.865 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 35.0281ms
2025-05-08 14:38:35.866 +07:00 [INF] Response: 200
2025-05-08 14:38:35.868 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:35.868 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 73.0702ms
2025-05-08 14:38:35.869 +07:00 [INF] Response: 200
2025-05-08 14:38:35.874 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 78.127ms
2025-05-08 14:38:37.158 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:37.158 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:37.158 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:37.161 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:37.164 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:37.166 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:37.167 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.167 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.168 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.169 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:37.169 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:37.170 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:37.171 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:37.171 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:37.172 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:37.178 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:37.175 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:37.180 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:37.182 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 5.7492ms
2025-05-08 14:38:37.184 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:37.184 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:37.186 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:37.192 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:37.1920367Z"
2025-05-08 14:38:37.195 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:37.195 +07:00 [INF] Response: 200
2025-05-08 14:38:37.196 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:37.197 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:37.1977589Z"
2025-05-08 14:38:37.198 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 39.7143ms
2025-05-08 14:38:37.199 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 24.2905ms
2025-05-08 14:38:37.200 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:37.204 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:37.205 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 25.0244ms
2025-05-08 14:38:37.206 +07:00 [INF] Response: 200
2025-05-08 14:38:37.207 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:37.207 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 49.6005ms
2025-05-08 14:38:37.208 +07:00 [INF] Response: 200
2025-05-08 14:38:37.212 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 53.2806ms
2025-05-08 14:38:37.696 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:38:37.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:37.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:37.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:37.700 +07:00 [INF] Incoming Request: OPTIONS /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:38:37.703 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:37.705 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:37.707 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:37.707 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.708 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.709 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.710 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.711 +07:00 [INF] Response: 204
2025-05-08 14:38:37.712 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:37.713 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:37.716 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:37.714 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:37.716 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - null null
2025-05-08 14:38:37.714 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 204 null null 18.5828ms
2025-05-08 14:38:37.717 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:37.720 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:37.721 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:37.730 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:37.723 +07:00 [INF] Incoming Request: GET /api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist
2025-05-08 14:38:37.733 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:37.743 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:37.742 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.749 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:37.7491033Z"
2025-05-08 14:38:37.739 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:37.753 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:38:37.753 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:37.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:37.756 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 18.9569ms
2025-05-08 14:38:37.757 +07:00 [INF] Route matched with {action = "GetMovieWishList", controller = "UserFavorite"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieWishListAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.UserFavoriteController (CinemaHub.API).
2025-05-08 14:38:37.760 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:37.7604567Z"
2025-05-08 14:38:37.762 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 42.1626ms
2025-05-08 14:38:37.763 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:37.766 +07:00 [INF] GetMovieWishList API called.
2025-05-08 14:38:37.767 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:37.769 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:37.774 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 44.6229ms
2025-05-08 14:38:37.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:37.770 +07:00 [INF] Response: 200
2025-05-08 14:38:37.778 +07:00 [INF] Response: 200
2025-05-08 14:38:37.779 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:37.783 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 86.887ms
2025-05-08 14:38:37.784 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__userId_0='?' (Size = 450), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[FavoriteID], [t].[MovieID], [t].[UserID], [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
FROM (
    SELECT TOP(@__p_2) [u].[FavoriteID], [u].[MovieID], [u].[UserID]
    FROM [UserFavorites] AS [u]
    WHERE [u].[UserID] = @__userId_0 AND [u].[FavoriteID] < @__Parse_1
    ORDER BY [u].[FavoriteID] DESC
) AS [t]
INNER JOIN [Movies] AS [m] ON [t].[MovieID] = [m].[MovieID]
ORDER BY [t].[FavoriteID] DESC
2025-05-08 14:38:37.785 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 88.6913ms
2025-05-08 14:38:37.786 +07:00 [INF] Response: 200
2025-05-08 14:38:37.795 +07:00 [INF] GetMovieWishList completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:37.7951889Z"
2025-05-08 14:38:37.799 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 102.9151ms
2025-05-08 14:38:37.801 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:37.808 +07:00 [INF] Executed action CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API) in 41.4809ms
2025-05-08 14:38:37.809 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.UserFavoriteController.GetMovieWishListAsync (CinemaHub.API)'
2025-05-08 14:38:37.811 +07:00 [INF] Response: 200
2025-05-08 14:38:37.812 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/UserFavorite/accounts/huy260704@gmail.com/movie-wishlist?pageSize=4&favoriteId=100000000 - 200 null application/json; charset=utf-8 95.6148ms
2025-05-08 14:38:37.815 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - null null
2025-05-08 14:38:37.821 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/genre-wish
2025-05-08 14:38:37.822 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.823 +07:00 [INF] Response: 204
2025-05-08 14:38:37.824 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/genre-wish - 204 null null 8.6867ms
2025-05-08 14:38:37.825 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - application/json 2
2025-05-08 14:38:37.831 +07:00 [INF] Incoming Request: POST /api/Movie/genre-wish
2025-05-08 14:38:37.832 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:37.833 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:38:37.834 +07:00 [INF] Route matched with {action = "ViewMovieGenreName", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieGenreName(System.Collections.Generic.List`1[System.Int32]) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:38:37.838 +07:00 [INF] ViewMovieGenreWish API called.
2025-05-08 14:38:37.839 +07:00 [INF] ViewMovieGenreWish completed successfully for all language at "2025-05-08T07:38:37.8391342Z"
2025-05-08 14:38:37.840 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:37.841 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API) in 3.5206ms
2025-05-08 14:38:37.842 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieGenreName (CinemaHub.API)'
2025-05-08 14:38:37.844 +07:00 [INF] Response: 200
2025-05-08 14:38:37.845 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Movie/genre-wish - 200 null application/json; charset=utf-8 20.4472ms
2025-05-08 14:38:38.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:38.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:38.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:38.737 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:38.740 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:38.743 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:38.744 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:38.745 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:38.746 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:38.746 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:38.747 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:38.748 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:38.749 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:38.751 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:38.752 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:38.755 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:38.763 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:38.758 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:38.766 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 4.8776ms
2025-05-08 14:38:38.767 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:38.772 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:38.771 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:38.778 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:38.781 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:38.7817979Z"
2025-05-08 14:38:38.782 +07:00 [INF] Response: 200
2025-05-08 14:38:38.785 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:38.7853250Z"
2025-05-08 14:38:38.786 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:38.787 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 52.6241ms
2025-05-08 14:38:38.788 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:38.788 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.28ms
2025-05-08 14:38:38.792 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 37.9424ms
2025-05-08 14:38:38.794 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:38.795 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:38.796 +07:00 [INF] Response: 200
2025-05-08 14:38:38.797 +07:00 [INF] Response: 200
2025-05-08 14:38:38.797 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 63.2338ms
2025-05-08 14:38:38.798 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 63.8568ms
2025-05-08 14:38:40.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:40.257 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:40.256 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:40.260 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:40.262 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:40.265 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:40.266 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:40.266 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:40.267 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:40.268 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:40.269 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:40.269 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:40.270 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:40.272 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:40.273 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:40.275 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:40.277 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:40.281 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:40.285 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:40.286 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:40.287 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 7.5776ms
2025-05-08 14:38:40.294 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:40.2943012Z"
2025-05-08 14:38:40.297 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:40.298 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:40.299 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:40.302 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:40.3028428Z"
2025-05-08 14:38:40.304 +07:00 [INF] Response: 200
2025-05-08 14:38:40.305 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.5982ms
2025-05-08 14:38:40.306 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:40.307 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 50.7088ms
2025-05-08 14:38:40.308 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:40.310 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 32.5186ms
2025-05-08 14:38:40.315 +07:00 [INF] Response: 200
2025-05-08 14:38:40.316 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:40.317 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 60.6748ms
2025-05-08 14:38:40.318 +07:00 [INF] Response: 200
2025-05-08 14:38:40.322 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 65.0033ms
2025-05-08 14:38:41.263 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:41.263 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:41.263 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:41.267 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:41.271 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:41.273 +07:00 [INF] Incoming Request: OPTIONS /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:41.274 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:41.275 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:41.276 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:41.277 +07:00 [INF] Response: 204
2025-05-08 14:38:41.278 +07:00 [INF] Response: 204
2025-05-08 14:38:41.279 +07:00 [INF] Response: 204
2025-05-08 14:38:41.280 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 204 null null 16.4756ms
2025-05-08 14:38:41.281 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/huy260704@gmail.com - 204 null null 17.352ms
2025-05-08 14:38:41.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:41.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:41.281 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 204 null null 18.0748ms
2025-05-08 14:38:41.281 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:41.293 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:41.297 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:41.304 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:41.304 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:41.305 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:41.306 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:41.307 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:41.307 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:41.308 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:41.309 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:41.311 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:41.312 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:41.315 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:41.317 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:41.322 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:41.327 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:41.327 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:41.330 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 9.8862ms
2025-05-08 14:38:41.338 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:41.341 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:41.3414956Z"
2025-05-08 14:38:41.342 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:41.346 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:41.3464263Z"
2025-05-08 14:38:41.347 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:41.348 +07:00 [INF] Response: 200
2025-05-08 14:38:41.350 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:41.351 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 36.5758ms
2025-05-08 14:38:41.352 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 70.7808ms
2025-05-08 14:38:41.353 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 36.3351ms
2025-05-08 14:38:41.355 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:41.361 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:41.363 +07:00 [INF] Response: 200
2025-05-08 14:38:41.364 +07:00 [INF] Response: 200
2025-05-08 14:38:41.365 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 82.3947ms
2025-05-08 14:38:41.366 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 83.3517ms
2025-05-08 14:38:42.391 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - null null
2025-05-08 14:38:42.392 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:42.392 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:42.391 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - null null
2025-05-08 14:38:42.391 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:38:42.392 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:42.394 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/year
2025-05-08 14:38:42.396 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:42.399 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:42.402 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/language
2025-05-08 14:38:42.407 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:38:42.409 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:42.410 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.410 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.411 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.412 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.412 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.413 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.413 +07:00 [INF] Response: 204
2025-05-08 14:38:42.414 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:42.414 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:42.418 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:38:42.417 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:42.415 +07:00 [INF] Response: 204
2025-05-08 14:38:42.415 +07:00 [INF] Response: 204
2025-05-08 14:38:42.416 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:42.416 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/year - 204 null null 25.6809ms
2025-05-08 14:38:42.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:38:42.422 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:38:42.424 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:42.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:38:42.434 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:42.431 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:38:42.432 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.419 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:42.424 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/language - 204 null null 33.3476ms
2025-05-08 14:38:42.440 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:42.4405636Z"
2025-05-08 14:38:42.441 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.441 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:38:42.444 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:42.437 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:38:42.448 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:42.449 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:38:42.450 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:38:42.425 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 33.8998ms
2025-05-08 14:38:42.425 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:42.452 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 9.0085ms
2025-05-08 14:38:42.453 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.454 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.0444ms
2025-05-08 14:38:42.454 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:38:42.456 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:38:42.462 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:42.463 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:42.465 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:42.470 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:38:42.473 +07:00 [INF] Response: 200
2025-05-08 14:38:42.467 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:38:42.463 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:42.470 +07:00 [INF] Response: 200
2025-05-08 14:38:42.478 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:38:42.4785831Z"
2025-05-08 14:38:42.479 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 87.1475ms
2025-05-08 14:38:42.480 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:38:42.481 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:38:42.484 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:42.482 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 90.8804ms
2025-05-08 14:38:42.491 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:42.470 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:42.494 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:38:42.4941435Z"
2025-05-08 14:38:42.503 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:42.499 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 10.2299ms
2025-05-08 14:38:42.495 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 38.9207ms
2025-05-08 14:38:42.503 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:42.506 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:42.5063965Z"
2025-05-08 14:38:42.507 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:42.510 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:38:42.511 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 43.3787ms
2025-05-08 14:38:42.512 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:42.513 +07:00 [INF] Response: 200
2025-05-08 14:38:42.514 +07:00 [INF] Response: 200
2025-05-08 14:38:42.515 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:38:42.516 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 54.5333ms
2025-05-08 14:38:42.517 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 90.9189ms
2025-05-08 14:38:42.518 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 99.843ms
2025-05-08 14:38:42.518 +07:00 [INF] Response: 200
2025-05-08 14:38:42.520 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:42.528 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 102.3755ms
2025-05-08 14:38:42.529 +07:00 [INF] Response: 200
2025-05-08 14:38:42.534 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 142.0303ms
2025-05-08 14:38:42.977 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:38:42.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:42.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:42.978 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:42.981 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:38:42.983 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:42.985 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:42.987 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:42.988 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.989 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.989 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.990 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:42.991 +07:00 [INF] Response: 204
2025-05-08 14:38:42.993 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:42.994 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:42.996 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:42.996 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:38:42.995 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 204 null null 17.9314ms
2025-05-08 14:38:42.994 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:42.997 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:43.000 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:43.003 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:38:43.008 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:43.011 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:43.021 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:43.013 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:43.014 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:43.026 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:43.025 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:43.024 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 5.0237ms
2025-05-08 14:38:43.032 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:43.034 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:43.0344989Z"
2025-05-08 14:38:43.035 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:38:43.036 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:43.041 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:43.045 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:43.039 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:43.0398310Z"
2025-05-08 14:38:43.046 +07:00 [INF] Response: 200
2025-05-08 14:38:43.048 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 36.4056ms
2025-05-08 14:38:43.048 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 5.7486ms
2025-05-08 14:38:43.049 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:43.050 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 71.8546ms
2025-05-08 14:38:43.051 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:43.053 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:43.054 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 54.1849ms
2025-05-08 14:38:43.059 +07:00 [INF] Response: 200
2025-05-08 14:38:43.060 +07:00 [INF] Response: 200
2025-05-08 14:38:43.061 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:43.062 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 84.2391ms
2025-05-08 14:38:43.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 66.636ms
2025-05-08 14:38:43.064 +07:00 [INF] Response: 200
2025-05-08 14:38:43.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 94.2905ms
2025-05-08 14:38:43.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - null null
2025-05-08 14:38:43.735 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:38:43.735 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - null null
2025-05-08 14:38:43.735 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:38:43.735 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:38:43.734 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - null null
2025-05-08 14:38:43.738 +07:00 [INF] Incoming Request: GET /api/Account/email/huy260704@gmail.com
2025-05-08 14:38:43.740 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:38:43.742 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread/count
2025-05-08 14:38:43.745 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:38:43.749 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:38:43.752 +07:00 [INF] Incoming Request: GET /api/Notification/accounts/huy260704@gmail.com/notifications/unread
2025-05-08 14:38:43.752 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:43.753 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:43.754 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:43.754 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:43.755 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:43.756 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:43.757 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:43.757 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:43.758 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:43.759 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:38:43.760 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:38:43.760 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:43.762 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:43.763 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:38:43.763 +07:00 [INF] Route matched with {action = "CountUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CountUserNotificationUnReadAsync(System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:43.769 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:43.764 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:38:43.775 +07:00 [INF] CountNotificationUnRead API called.
2025-05-08 14:38:43.778 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:43.784 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:43.781 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:38:43.787 +07:00 [INF] ViewProfileByEmail completed successfully for Email huy260704@gmail.com at "2025-05-08T07:38:43.7870488Z"
2025-05-08 14:38:43.765 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:38:43.793 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:38:43.791 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:43.790 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Notifications] AS [n]
WHERE [n].[ReceiverId] = @__userId_0 AND [n].[Status] = CAST(0 AS bit)
2025-05-08 14:38:43.772 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:43.766 +07:00 [INF] Route matched with {action = "ViewUserNotificationUnRead", controller = "Notification"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewUserNotificationUnReadAsync(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.NotificationController (CinemaHub.API).
2025-05-08 14:38:43.797 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:38:43.808 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:43.799 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:38:43.7999770Z"
2025-05-08 14:38:43.801 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 32.3439ms
2025-05-08 14:38:43.813 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:43.813 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:38:43.804 +07:00 [INF] CountNotificationUnRead completed successfully at "2025-05-08T07:38:43.8040105Z"
2025-05-08 14:38:43.804 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 33.4798ms
2025-05-08 14:38:43.811 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API) in 5.1515ms
2025-05-08 14:38:43.816 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:43.818 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 36.9911ms
2025-05-08 14:38:43.820 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:38:43.8207297Z"
2025-05-08 14:38:43.821 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:43.822 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:43.824 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.ViewUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:43.825 +07:00 [INF] Response: 200
2025-05-08 14:38:43.826 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:38:43.827 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:43.829 +07:00 [INF] Executed action CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API) in 53.9668ms
2025-05-08 14:38:43.830 +07:00 [INF] Response: 200
2025-05-08 14:38:43.831 +07:00 [INF] Response: 200
2025-05-08 14:38:43.832 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/huy260704@gmail.com - 200 null application/json; charset=utf-8 98.1207ms
2025-05-08 14:38:43.833 +07:00 [INF] Response: 200
2025-05-08 14:38:43.834 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 37.5273ms
2025-05-08 14:38:43.836 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.NotificationController.CountUserNotificationUnReadAsync (CinemaHub.API)'
2025-05-08 14:38:43.836 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 101.8345ms
2025-05-08 14:38:43.837 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread?pageSize=5&notificationId=1000000 - 200 14174 application/json 103.2763ms
2025-05-08 14:38:43.841 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 106.3746ms
2025-05-08 14:38:43.842 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:38:43.843 +07:00 [INF] Response: 200
2025-05-08 14:38:43.856 +07:00 [INF] Response: 200
2025-05-08 14:38:43.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Notification/accounts/huy260704@gmail.com/notifications/unread/count - 200 null application/json; charset=utf-8 122.4583ms
2025-05-08 14:38:43.858 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 123.1699ms
2025-05-08 14:38:49.852 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - null null
2025-05-08 14:38:49.855 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:38:49.856 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:49.856 +07:00 [INF] Response: 204
2025-05-08 14:38:49.857 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 204 null null 4.8899ms
2025-05-08 14:38:49.859 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - application/json 2
2025-05-08 14:38:49.864 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/huy260704@gmail.com
2025-05-08 14:38:49.865 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:49.866 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:38:49.867 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:38:49.869 +07:00 [INF] SignOut API called.
2025-05-08 14:38:49.873 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:49.880 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:38:49.886 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 14:38:49.888 +07:00 [INF] SignOut completed successful for Email huy260704@gmail.com at "2025-05-08T07:38:49.8888671Z"
2025-05-08 14:38:49.890 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:49.891 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 22.1212ms
2025-05-08 14:38:49.893 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:38:49.894 +07:00 [INF] Response: 200
2025-05-08 14:38:49.895 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/huy260704@gmail.com - 200 null application/json; charset=utf-8 35.9134ms
2025-05-08 14:38:49.921 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:38:49.925 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:38:49.926 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:49.926 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:49.927 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:38:49.930 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:49.932 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 3.7347ms
2025-05-08 14:38:49.935 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:49.936 +07:00 [INF] Response: 200
2025-05-08 14:38:49.937 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 15.5567ms
2025-05-08 14:38:53.877 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - null null
2025-05-08 14:38:53.880 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-in
2025-05-08 14:38:53.881 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:53.882 +07:00 [INF] Response: 204
2025-05-08 14:38:53.883 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - 204 null null 6.009ms
2025-05-08 14:38:53.884 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 51
2025-05-08 14:38:53.890 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:38:53.891 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:53.892 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:38:53.893 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:38:53.895 +07:00 [INF] SignIn API called.
2025-05-08 14:38:53.899 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:38:53.992 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:38:53.998 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:38:54.001 +07:00 [INF] SignIn completed successfully for Email minh0412@gmail.com at "2025-05-08T07:38:54.0011054Z"
2025-05-08 14:38:54.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:54.003 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 107.7985ms
2025-05-08 14:38:54.004 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:38:54.005 +07:00 [INF] Response: 200
2025-05-08 14:38:54.006 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 122.1715ms
2025-05-08 14:38:54.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:38:54.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/payments/statistic-system - null null
2025-05-08 14:38:54.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=10&movieId=1000000 - null null
2025-05-08 14:38:54.117 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:38:54.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=4&movieId=1000000 - null null
2025-05-08 14:38:54.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/watch-history/total-view?search=today - null null
2025-05-08 14:38:54.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/watch-history/total-view?search=month - null null
2025-05-08 14:38:54.120 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/payments/statistic-system
2025-05-08 14:38:54.122 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:38:54.123 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.126 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:38:54.128 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/watch-history/total-view
2025-05-08 14:38:54.132 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/watch-history/total-view
2025-05-08 14:38:54.133 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.133 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.134 +07:00 [INF] Response: 204
2025-05-08 14:38:54.134 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.135 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.135 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.137 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 24.1359ms
2025-05-08 14:38:54.136 +07:00 [INF] Response: 204
2025-05-08 14:38:54.136 +07:00 [INF] Response: 204
2025-05-08 14:38:54.138 +07:00 [INF] Response: 204
2025-05-08 14:38:54.138 +07:00 [INF] Response: 204
2025-05-08 14:38:54.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/payments/statistic-system - null null
2025-05-08 14:38:54.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=10&movieId=1000000 - null null
2025-05-08 14:38:54.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=4&movieId=1000000 - null null
2025-05-08 14:38:54.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/watch-history/total-view?search=today - null null
2025-05-08 14:38:54.142 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/payments/statistic-system - 204 null null 29.4528ms
2025-05-08 14:38:54.143 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=10&movieId=1000000 - 204 null null 29.8751ms
2025-05-08 14:38:54.143 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=4&movieId=1000000 - 204 null null 30.5606ms
2025-05-08 14:38:54.144 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/watch-history/total-view?search=today - 204 null null 31.5396ms
2025-05-08 14:38:54.139 +07:00 [INF] Response: 204
2025-05-08 14:38:54.138 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:38:54.151 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:38:54.153 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:38:54.149 +07:00 [INF] Incoming Request: GET /api/Payment/payments/statistic-system
2025-05-08 14:38:54.157 +07:00 [INF] Incoming Request: GET /api/WatchHistory/watch-history/total-view
2025-05-08 14:38:54.173 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/watch-history/total-view?search=month - null null
2025-05-08 14:38:54.172 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/watch-history/total-view?search=month - 204 null null 58.9038ms
2025-05-08 14:38:54.175 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:38:54.176 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.176 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.177 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.177 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.180 +07:00 [INF] Incoming Request: GET /api/WatchHistory/watch-history/total-view
2025-05-08 14:38:54.184 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.185 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:54.185 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:38:54.186 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.GetStatisticSystem (CinemaHub.API)'
2025-05-08 14:38:54.187 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:54.188 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:54.188 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:54.189 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:38:54.190 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:38:54.195 +07:00 [INF] Route matched with {action = "GetStatisticSystem", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStatisticSystem() on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:38:54.202 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:38:54.196 +07:00 [INF] Route matched with {action = "ViewAllWatchHistoryTodayFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllWatchHistoryTodayFromAPIAsync(System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:54.207 +07:00 [INF] GetStatistics API called.
2025-05-08 14:38:54.209 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:38:54.198 +07:00 [INF] ViewRatingStatistic API called.
2025-05-08 14:38:54.193 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:54.212 +07:00 [INF] ViewTotalView API called.
2025-05-08 14:38:54.217 +07:00 [INF] Route matched with {action = "ViewAllWatchHistoryTodayFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllWatchHistoryTodayFromAPIAsync(System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:38:54.218 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:38:54.2186945Z"
2025-05-08 14:38:54.219 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:38:54.226 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
2025-05-08 14:38:54.223 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:54.221 +07:00 [INF] ViewTotalView API called.
2025-05-08 14:38:54.234 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 32.4352ms
2025-05-08 14:38:54.194 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:54.237 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.235 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:38:54.236 +07:00 [WRN] ViewTotalView attempt failed - Not found any history list
2025-05-08 14:38:54.237 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
2025-05-08 14:38:54.241 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:54.245 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.245 +07:00 [INF] Response: 200
2025-05-08 14:38:54.245 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:54.256 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.255 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=4&movieId=1000000 - 200 null application/json; charset=utf-8 110.5984ms
2025-05-08 14:38:54.256 +07:00 [WRN] ViewTotalView attempt failed - Not found any history list
2025-05-08 14:38:54.257 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API) in 46.7865ms
2025-05-08 14:38:54.251 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:54.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.264 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:54.265 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:54.268 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:38:54.2687323Z"
2025-05-08 14:38:54.273 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.274 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API) in 52.8139ms
2025-05-08 14:38:54.277 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], [t].[HistoryID], [t].[MovieID], [t].[Progress], [t].[UserID], [t].[WatchedAt]
FROM (
    SELECT [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], DATEPART(year, [w].[WatchedAt]) AS [Year], DATEPART(month, [w].[WatchedAt]) AS [Month]
    FROM [WatchHistory] AS [w]
    WHERE [w].[WatchedAt] IS NOT NULL
) AS [t]
ORDER BY [t].[Year], [t].[Month]
2025-05-08 14:38:54.275 +07:00 [INF] Response: 200
2025-05-08 14:38:54.276 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:54.280 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.281 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API)'
2025-05-08 14:38:54.285 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/watch-history/total-view?search=today - 200 null application/json; charset=utf-8 139.6195ms
2025-05-08 14:38:54.286 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 46.0153ms
2025-05-08 14:38:54.290 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.291 +07:00 [INF] Response: 200
2025-05-08 14:38:54.296 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:54.301 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.301 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/watch-history/total-view?search=month - 200 null application/json; charset=utf-8 127.3718ms
2025-05-08 14:38:54.302 +07:00 [INF] Response: 200
2025-05-08 14:38:54.306 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.307 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID]
FROM (
    SELECT [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], DATEPART(year, [p].[PaymentDate]) AS [Year], DATEPART(month, [p].[PaymentDate]) AS [Month]
    FROM [Payments] AS [p]
    WHERE [p].[PaymentDate] IS NOT NULL AND [p].[PaymentStatus] = N'Success'
) AS [t]
ORDER BY [t].[Year], [t].[Month]
2025-05-08 14:38:54.309 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 170.8413ms
2025-05-08 14:38:54.313 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:38:54.321 +07:00 [INF] ViewRatingStatistic completed successfully at "2025-05-08T07:38:54.3219612Z"
2025-05-08 14:38:54.325 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.ViewRatingStatisticResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:54.327 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 129.9677ms
2025-05-08 14:38:54.328 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:38:54.330 +07:00 [INF] Response: 200
2025-05-08 14:38:54.331 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=10&movieId=1000000 - 200 null application/json; charset=utf-8 186.1209ms
2025-05-08 14:38:54.339 +07:00 [INF] GetStatistics completed successfully at "2025-05-08T07:38:54.3391453Z"
2025-05-08 14:38:54.340 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.StatisticSystemResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:38:54.343 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.GetStatisticSystem (CinemaHub.API) in 137.59ms
2025-05-08 14:38:54.345 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.GetStatisticSystem (CinemaHub.API)'
2025-05-08 14:38:54.346 +07:00 [INF] Response: 200
2025-05-08 14:38:54.346 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/payments/statistic-system - 200 null application/json; charset=utf-8 202.3304ms
2025-05-08 14:38:59.858 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:38:59.858 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:38:59.862 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:38:59.865 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:38:59.865 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:59.866 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:59.867 +07:00 [INF] Response: 204
2025-05-08 14:38:59.868 +07:00 [INF] Response: 204
2025-05-08 14:38:59.869 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 10.8957ms
2025-05-08 14:38:59.869 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 11.6371ms
2025-05-08 14:38:59.871 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:38:59.871 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:38:59.878 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:38:59.880 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:38:59.881 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:59.881 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:59.882 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:59.883 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:59.883 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:38:59.884 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:38:59.887 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:59.891 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:38:59.891 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 5.1642ms
2025-05-08 14:38:59.893 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:59.895 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:38:59.898 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:38:59.897 +07:00 [INF] Response: 200
2025-05-08 14:38:59.900 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:38:59.9004937Z"
2025-05-08 14:38:59.903 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:38:59.903 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 32.7552ms
2025-05-08 14:38:59.904 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:38:59.904 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:38:59.909 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 18.1047ms
2025-05-08 14:38:59.909 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:59.910 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:38:59.911 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:38:59.912 +07:00 [INF] Response: 200
2025-05-08 14:38:59.917 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:38:59.918 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 47.2373ms
2025-05-08 14:38:59.919 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.9266ms
2025-05-08 14:38:59.925 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:38:59.926 +07:00 [INF] Response: 200
2025-05-08 14:38:59.926 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 28.8706ms
2025-05-08 14:39:09.670 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:39:09.672 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:39:49.595 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie - null null
2025-05-08 14:39:49.599 +07:00 [INF] Incoming Request: OPTIONS /api/Movie
2025-05-08 14:39:49.600 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:39:49.600 +07:00 [INF] Response: 204
2025-05-08 14:39:49.601 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie - 204 null null 5.9273ms
2025-05-08 14:39:49.603 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7182/api/Movie - application/json 783
2025-05-08 14:39:49.608 +07:00 [INF] Incoming Request: PUT /api/Movie
2025-05-08 14:39:49.609 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:39:49.609 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.UpdateMovie (CinemaHub.API)'
2025-05-08 14:39:49.613 +07:00 [INF] Route matched with {action = "UpdateMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMovie(CinemaHub.API.Models.MovieModel) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:39:49.633 +07:00 [INF] UpdateMovie API called.
2025-05-08 14:39:49.673 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:39:49.689 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[GenreID], [m].[GenreName]
FROM [MovieGenres] AS [m]
WHERE LOWER([m].[GenreName]) = @__ToLower_0
2025-05-08 14:39:49.695 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[GenreID], [m].[GenreName]
FROM [MovieGenres] AS [m]
WHERE LOWER([m].[GenreName]) = @__ToLower_0
2025-05-08 14:39:49.699 +07:00 [WRN] UpdateMovie attempt failed - No changes detected
2025-05-08 14:39:49.700 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:39:49.702 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.UpdateMovie (CinemaHub.API) in 86.4301ms
2025-05-08 14:39:49.704 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.UpdateMovie (CinemaHub.API)'
2025-05-08 14:39:49.704 +07:00 [INF] Response: 400
2025-05-08 14:39:49.705 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7182/api/Movie - 400 null application/json; charset=utf-8 102.4386ms
2025-05-08 14:39:49.828 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:39:49.828 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:39:49.830 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:39:49.833 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:39:49.834 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:39:49.834 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:39:49.835 +07:00 [INF] Response: 204
2025-05-08 14:39:49.836 +07:00 [INF] Response: 204
2025-05-08 14:39:49.836 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 204 null null 8.3296ms
2025-05-08 14:39:49.838 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:39:49.840 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:39:49.845 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:39:49.837 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 8.9805ms
2025-05-08 14:39:49.848 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:39:49.848 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:39:49.853 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:39:49.853 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:39:49.854 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:39:49.854 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:39:49.855 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:39:49.858 +07:00 [INF] ViewAllGenres API called.
2025-05-08 14:39:49.861 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:39:49.865 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:39:49.866 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[GenreID], [m].[GenreName], [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t].[MovieID0], [t].[GenreID]
FROM [MovieGenres] AS [m]
LEFT JOIN (
    SELECT [m1].[MovieID], [m1].[Description], [m1].[Director], [m1].[Duration], [m1].[Language], [m1].[ReleaseDate], [m1].[Status], [m1].[Thumbnail], [m1].[Title], [m1].[TrailerURL], [m1].[UploadedBy], [m1].[VideoURL], [m0].[MovieID] AS [MovieID0], [m0].[GenreID]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [Movies] AS [m1] ON [m0].[MovieID] = [m1].[MovieID]
) AS [t] ON [m].[GenreID] = [t].[GenreID]
ORDER BY [m].[GenreID], [t].[MovieID0], [t].[GenreID]
2025-05-08 14:39:49.874 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:39:49.8747231Z"
2025-05-08 14:39:49.876 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:39:49.879 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 19.3792ms
2025-05-08 14:39:49.881 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:39:49.882 +07:00 [INF] ViewAllGenres completed successfully at "2025-05-08T07:39:49.8821934Z"
2025-05-08 14:39:49.883 +07:00 [INF] Response: 200
2025-05-08 14:39:49.885 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 200 null application/json; charset=utf-8 45.1151ms
2025-05-08 14:39:49.885 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.MovieGenre, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:39:49.888 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 31.6103ms
2025-05-08 14:39:49.890 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:39:49.890 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:39:49.891 +07:00 [INF] Response: 200
2025-05-08 14:39:49.893 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:39:49.894 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 null application/json; charset=utf-8 55.9827ms
2025-05-08 14:39:49.894 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:39:49.898 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:39:49.899 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:39:49.902 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:39:49.903 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.069ms
2025-05-08 14:39:49.905 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:39:49.906 +07:00 [INF] Response: 200
2025-05-08 14:39:49.906 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 16.6857ms
2025-05-08 14:39:49.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:39:49.926 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:39:49.927 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:39:49.928 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:39:49.929 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:39:49.934 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:39:49.936 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.5294ms
2025-05-08 14:39:49.937 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:39:49.938 +07:00 [INF] Response: 200
2025-05-08 14:39:49.939 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 15.5761ms
2025-05-08 14:40:09.718 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:40:09.722 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:40:18.392 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie - null null
2025-05-08 14:40:18.396 +07:00 [INF] Incoming Request: OPTIONS /api/Movie
2025-05-08 14:40:18.397 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.397 +07:00 [INF] Response: 204
2025-05-08 14:40:18.398 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie - 204 null null 5.8889ms
2025-05-08 14:40:18.400 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7182/api/Movie - application/json 909
2025-05-08 14:40:18.405 +07:00 [INF] Incoming Request: PUT /api/Movie
2025-05-08 14:40:18.406 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.406 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.UpdateMovie (CinemaHub.API)'
2025-05-08 14:40:18.407 +07:00 [INF] Route matched with {action = "UpdateMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMovie(CinemaHub.API.Models.MovieModel) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:40:18.409 +07:00 [INF] UpdateMovie API called.
2025-05-08 14:40:18.414 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:40:18.421 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[GenreID], [m].[GenreName]
FROM [MovieGenres] AS [m]
WHERE LOWER([m].[GenreName]) = @__ToLower_0
2025-05-08 14:40:18.425 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[GenreID], [m].[GenreName]
FROM [MovieGenres] AS [m]
WHERE LOWER([m].[GenreName]) = @__ToLower_0
2025-05-08 14:40:18.429 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__ToLower_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[GenreID], [m].[GenreName]
FROM [MovieGenres] AS [m]
WHERE LOWER([m].[GenreName]) = @__ToLower_0
2025-05-08 14:40:18.438 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255), @p8='?' (Size = 255), @p9='?' (Size = 450), @p10='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Movies] SET [Description] = @p0, [Director] = @p1, [Duration] = @p2, [Language] = @p3, [ReleaseDate] = @p4, [Status] = @p5, [Thumbnail] = @p6, [Title] = @p7, [TrailerURL] = @p8, [UploadedBy] = @p9, [VideoURL] = @p10
OUTPUT 1
WHERE [MovieID] = @p11;
2025-05-08 14:40:18.445 +07:00 [INF] UpdateMovie successful for MovieId 134 at "2025-05-08T07:40:18.4453342Z"
2025-05-08 14:40:18.446 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:40:18.448 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.UpdateMovie (CinemaHub.API) in 39.3219ms
2025-05-08 14:40:18.449 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.UpdateMovie (CinemaHub.API)'
2025-05-08 14:40:18.450 +07:00 [INF] Response: 200
2025-05-08 14:40:18.451 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7182/api/Movie - 200 null application/json; charset=utf-8 51.4246ms
2025-05-08 14:40:18.503 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - null null
2025-05-08 14:40:18.507 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:40:18.508 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.509 +07:00 [INF] Response: 204
2025-05-08 14:40:18.509 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - 204 null null 6.4017ms
2025-05-08 14:40:18.512 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - null null
2025-05-08 14:40:18.516 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:40:18.516 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.517 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:40:18.518 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:40:18.521 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:40:18.526 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:40:18.531 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:40:18.5319615Z"
2025-05-08 14:40:18.534 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:40:18.537 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 16.2104ms
2025-05-08 14:40:18.538 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:40:18.539 +07:00 [INF] Response: 200
2025-05-08 14:40:18.540 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - 200 null application/json; charset=utf-8 28.5311ms
2025-05-08 14:40:18.563 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:40:18.563 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:40:18.566 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:40:18.569 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:40:18.569 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.570 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.571 +07:00 [INF] Response: 204
2025-05-08 14:40:18.572 +07:00 [INF] Response: 204
2025-05-08 14:40:18.572 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 9.2277ms
2025-05-08 14:40:18.574 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:40:18.573 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 204 null null 9.744ms
2025-05-08 14:40:18.574 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:40:18.577 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:40:18.583 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:40:18.583 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.584 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.585 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:40:18.586 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:18.587 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:40:18.587 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:40:18.591 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:40:18.595 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:40:18.597 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.2203ms
2025-05-08 14:40:18.598 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:40:18.599 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:18.600 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:40:18.603 +07:00 [INF] Response: 200
2025-05-08 14:40:18.605 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:40:18.6056566Z"
2025-05-08 14:40:18.605 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:40:18.606 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 32.0608ms
2025-05-08 14:40:18.608 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:40:18.608 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.613 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 23.0207ms
2025-05-08 14:40:18.613 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:18.614 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:40:18.615 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:40:18.616 +07:00 [INF] Response: 200
2025-05-08 14:40:18.619 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:40:18.620 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 200 null application/json; charset=utf-8 46.1164ms
2025-05-08 14:40:18.621 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 2.6138ms
2025-05-08 14:40:18.625 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:18.626 +07:00 [INF] Response: 200
2025-05-08 14:40:18.627 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 26.725ms
2025-05-08 14:40:18.667 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:40:18.671 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:40:18.672 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:18.672 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:18.673 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:40:18.676 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:40:18.678 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 2.8286ms
2025-05-08 14:40:18.679 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:18.680 +07:00 [INF] Response: 200
2025-05-08 14:40:18.680 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 13.0553ms
2025-05-08 14:40:20.480 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - null null
2025-05-08 14:40:20.483 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:40:20.484 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:20.485 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:40:20.486 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:40:20.489 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:40:20.492 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 3.8214ms
2025-05-08 14:40:20.493 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:40:20.494 +07:00 [INF] Response: 200
2025-05-08 14:40:20.495 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - 200 13580 application/json 15.0753ms
2025-05-08 14:40:20.496 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:40:20.502 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:40:20.503 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:20.503 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:20.504 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:40:20.508 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:40:20.510 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 2.6399ms
2025-05-08 14:40:20.510 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:20.511 +07:00 [INF] Response: 200
2025-05-08 14:40:20.512 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 15.856ms
2025-05-08 14:40:20.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:40:20.534 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:40:20.534 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:40:20.535 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:20.536 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:40:20.540 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:40:20.542 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.1595ms
2025-05-08 14:40:20.543 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:40:20.544 +07:00 [INF] Response: 200
2025-05-08 14:40:20.545 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 13.3993ms
2025-05-08 14:41:09.774 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:41:09.778 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:41:53.090 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/131 - null null
2025-05-08 14:41:53.092 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/131
2025-05-08 14:41:53.093 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.094 +07:00 [INF] Response: 204
2025-05-08 14:41:53.095 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/131 - 204 null null 4.7671ms
2025-05-08 14:41:53.096 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7182/api/Movie/131 - null null
2025-05-08 14:41:53.101 +07:00 [INF] Incoming Request: DELETE /api/Movie/131
2025-05-08 14:41:53.101 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.102 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.RemoveMovie (CinemaHub.API)'
2025-05-08 14:41:53.106 +07:00 [INF] Route matched with {action = "RemoveMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveMovie(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:41:53.111 +07:00 [INF] RemoveMovie API called.
2025-05-08 14:41:53.118 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:41:53.129 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255), @p8='?' (Size = 255), @p9='?' (Size = 450), @p10='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Movies] SET [Description] = @p0, [Director] = @p1, [Duration] = @p2, [Language] = @p3, [ReleaseDate] = @p4, [Status] = @p5, [Thumbnail] = @p6, [Title] = @p7, [TrailerURL] = @p8, [UploadedBy] = @p9, [VideoURL] = @p10
OUTPUT 1
WHERE [MovieID] = @p11;
2025-05-08 14:41:53.133 +07:00 [INF] RemoveMovie successful for MovieId 131 at "2025-05-08T07:41:53.1338140Z"
2025-05-08 14:41:53.135 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:41:53.136 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.RemoveMovie (CinemaHub.API) in 26.314ms
2025-05-08 14:41:53.138 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.RemoveMovie (CinemaHub.API)'
2025-05-08 14:41:53.139 +07:00 [INF] Response: 200
2025-05-08 14:41:53.140 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7182/api/Movie/131 - 200 null application/json; charset=utf-8 44.0269ms
2025-05-08 14:41:53.179 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=125 - null null
2025-05-08 14:41:53.182 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:41:53.182 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.183 +07:00 [INF] Response: 204
2025-05-08 14:41:53.183 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=125 - 204 null null 4.4085ms
2025-05-08 14:41:53.186 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=125 - null null
2025-05-08 14:41:53.189 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:41:53.190 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.191 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:53.192 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:41:53.195 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:41:53.199 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:41:53.200 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:41:53.200 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:53.204 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:41:53.209 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:41:53.2097357Z"
2025-05-08 14:41:53.210 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:41:53.211 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.212 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.212 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:41:53.214 +07:00 [INF] Response: 204
2025-05-08 14:41:53.213 +07:00 [INF] Response: 204
2025-05-08 14:41:53.216 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:53.217 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 17.3904ms
2025-05-08 14:41:53.224 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:41:53.219 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 204 null null 20.1427ms
2025-05-08 14:41:53.230 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.224 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:53.220 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 25.9583ms
2025-05-08 14:41:53.226 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:41:53.235 +07:00 [INF] Response: 204
2025-05-08 14:41:53.238 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:53.239 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:53.242 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:41:53.243 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 26.7076ms
2025-05-08 14:41:53.243 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.244 +07:00 [INF] Response: 200
2025-05-08 14:41:53.246 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.249 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:53.249 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=125 - 200 null application/json; charset=utf-8 63.7543ms
2025-05-08 14:41:53.250 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:53.251 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:53.256 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:41:53.260 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:53.263 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:41:53.265 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.8022ms
2025-05-08 14:41:53.266 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:53.268 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:41:53.267 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:53.270 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:53.274 +07:00 [INF] Response: 200
2025-05-08 14:41:53.275 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.276 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 52.1877ms
2025-05-08 14:41:53.276 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:41:53.2768833Z"
2025-05-08 14:41:53.276 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:53.282 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:41:53.282 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:53.285 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 22.9697ms
2025-05-08 14:41:53.287 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:53.289 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:53.290 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.4919ms
2025-05-08 14:41:53.291 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:53.290 +07:00 [INF] Response: 200
2025-05-08 14:41:53.292 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:53.294 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:53.295 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 200 null application/json; charset=utf-8 68.9421ms
2025-05-08 14:41:53.295 +07:00 [INF] Response: 200
2025-05-08 14:41:53.296 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.299 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 33.0254ms
2025-05-08 14:41:53.299 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:53.303 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:53.307 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:53.308 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.1155ms
2025-05-08 14:41:53.310 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:53.311 +07:00 [INF] Response: 200
2025-05-08 14:41:53.311 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 20.8718ms
2025-05-08 14:41:53.346 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:53.349 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:53.350 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:53.351 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:53.352 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:53.355 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:53.356 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 2.9281ms
2025-05-08 14:41:53.358 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:53.359 +07:00 [INF] Response: 200
2025-05-08 14:41:53.360 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 14.2524ms
2025-05-08 14:41:55.465 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:55.469 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:55.470 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.471 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.472 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:55.476 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:55.477 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.4338ms
2025-05-08 14:41:55.479 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.480 +07:00 [INF] Response: 200
2025-05-08 14:41:55.481 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 15.5085ms
2025-05-08 14:41:55.493 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - null null
2025-05-08 14:41:55.494 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:55.496 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:41:55.499 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:55.500 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.501 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.501 +07:00 [INF] Response: 204
2025-05-08 14:41:55.502 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.503 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - 204 null null 9.7257ms
2025-05-08 14:41:55.504 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:55.504 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - null null
2025-05-08 14:41:55.509 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:55.512 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:41:55.513 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.7512ms
2025-05-08 14:41:55.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:55.513 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.515 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.519 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:55.520 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:55.521 +07:00 [INF] Response: 200
2025-05-08 14:41:55.522 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.523 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:41:55.524 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 30.6643ms
2025-05-08 14:41:55.525 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.528 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:41:55.533 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:55.536 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:41:55.538 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=129 - null null
2025-05-08 14:41:55.539 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:55.545 +07:00 [INF] ViewAllMovies completed successfully for Status false at "2025-05-08T07:41:55.5454628Z"
2025-05-08 14:41:55.547 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:41:55.547 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 9.4288ms
2025-05-08 14:41:55.549 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:41:55.549 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.550 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.551 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 23.8763ms
2025-05-08 14:41:55.551 +07:00 [INF] Response: 204
2025-05-08 14:41:55.552 +07:00 [INF] Response: 200
2025-05-08 14:41:55.553 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:55.554 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=129 - 204 null null 16.1733ms
2025-05-08 14:41:55.555 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=129 - null null
2025-05-08 14:41:55.555 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 40.8427ms
2025-05-08 14:41:55.556 +07:00 [INF] Response: 200
2025-05-08 14:41:55.562 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:41:55.565 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - 200 null application/json; charset=utf-8 60.4234ms
2025-05-08 14:41:55.566 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.569 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:55.570 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:41:55.572 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:41:55.576 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:41:55.581 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:41:55.5811182Z"
2025-05-08 14:41:55.582 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:41:55.584 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 13.1856ms
2025-05-08 14:41:55.586 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:55.586 +07:00 [INF] Response: 200
2025-05-08 14:41:55.587 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=129 - 200 null application/json; charset=utf-8 32.1499ms
2025-05-08 14:41:55.592 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:55.594 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:55.595 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.596 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.597 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:55.600 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:55.602 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.3318ms
2025-05-08 14:41:55.603 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.604 +07:00 [INF] Response: 200
2025-05-08 14:41:55.605 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 13.3479ms
2025-05-08 14:41:55.627 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:55.630 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:55.630 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:55.631 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.632 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:55.635 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:55.637 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 2.6623ms
2025-05-08 14:41:55.637 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:55.638 +07:00 [INF] Response: 200
2025-05-08 14:41:55.639 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 12.5546ms
2025-05-08 14:41:56.757 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:56.761 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:56.762 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:56.762 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:56.763 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:56.767 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:56.769 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.6017ms
2025-05-08 14:41:56.770 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:56.771 +07:00 [INF] Response: 200
2025-05-08 14:41:56.771 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 14.2121ms
2025-05-08 14:41:56.788 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:56.788 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:41:56.793 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:56.796 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:41:56.797 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:56.797 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:56.798 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:56.798 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:56.800 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:56.801 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:41:56.805 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:56.809 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:56.811 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.9434ms
2025-05-08 14:41:56.812 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:56.813 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 5.4008ms
2025-05-08 14:41:56.814 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:56.817 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:56.818 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:56.819 +07:00 [INF] Response: 200
2025-05-08 14:41:56.820 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:56.821 +07:00 [INF] Response: 200
2025-05-08 14:41:56.822 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 33.3983ms
2025-05-08 14:41:56.822 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:56.823 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 200 20235 application/json 34.6966ms
2025-05-08 14:41:56.828 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:56.835 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:56.837 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.4609ms
2025-05-08 14:41:56.838 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:56.840 +07:00 [INF] Response: 200
2025-05-08 14:41:56.840 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 28.1188ms
2025-05-08 14:41:56.866 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:56.868 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:56.869 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:56.870 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:56.871 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:56.875 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:56.877 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.1865ms
2025-05-08 14:41:56.878 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:56.880 +07:00 [INF] Response: 200
2025-05-08 14:41:56.880 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 14.5547ms
2025-05-08 14:41:58.896 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:58.900 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:41:58.900 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:58.901 +07:00 [INF] Response: 204
2025-05-08 14:41:58.902 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 5.3787ms
2025-05-08 14:41:58.903 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:58.908 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:58.908 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:58.909 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:58.910 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:58.913 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:58.915 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.3456ms
2025-05-08 14:41:58.916 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:58.917 +07:00 [INF] Response: 200
2025-05-08 14:41:58.918 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 14.936ms
2025-05-08 14:41:58.927 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - null null
2025-05-08 14:41:58.927 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:58.929 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:41:58.932 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:58.932 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:58.933 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:58.933 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:58.934 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:58.934 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:41:58.935 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:58.939 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:58.943 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:58.945 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 7.2914ms
2025-05-08 14:41:58.945 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.7914ms
2025-05-08 14:41:58.946 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:58.947 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:41:58.948 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:58.950 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:58.951 +07:00 [INF] Response: 200
2025-05-08 14:41:58.952 +07:00 [INF] Response: 200
2025-05-08 14:41:58.953 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:58.953 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - 200 5676 application/json 26.585ms
2025-05-08 14:41:58.955 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 27.7579ms
2025-05-08 14:41:58.955 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:58.963 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:58.966 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:58.968 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.4398ms
2025-05-08 14:41:58.969 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:58.970 +07:00 [INF] Response: 200
2025-05-08 14:41:58.971 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 25.2941ms
2025-05-08 14:41:58.979 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:41:58.982 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:41:58.983 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:41:58.984 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:58.985 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:41:58.988 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:41:58.990 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 2.9269ms
2025-05-08 14:41:58.991 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:41:58.992 +07:00 [INF] Response: 200
2025-05-08 14:41:58.993 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 13.8905ms
2025-05-08 14:42:03.179 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=131 - null null
2025-05-08 14:42:03.183 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:42:03.184 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:03.184 +07:00 [INF] Response: 204
2025-05-08 14:42:03.185 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=131 - 204 null null 6.2958ms
2025-05-08 14:42:03.187 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=131 - null null
2025-05-08 14:42:03.189 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:03.194 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:03.196 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:03.197 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:03.198 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:03.198 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:03.199 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:03.200 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:03.201 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:03.204 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:42:03.209 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:03.211 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.5021ms
2025-05-08 14:42:03.213 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:42:03.214 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:03.218 +07:00 [WRN] ViewAllMovies attempt failed for Status false - Movie not found
2025-05-08 14:42:03.219 +07:00 [INF] Response: 200
2025-05-08 14:42:03.220 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:03.220 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 31.4311ms
2025-05-08 14:42:03.222 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 18.3805ms
2025-05-08 14:42:03.227 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:03.228 +07:00 [INF] Response: 400
2025-05-08 14:42:03.229 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=131 - 400 null application/json; charset=utf-8 41.9603ms
2025-05-08 14:42:06.625 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:06.628 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:42:06.629 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:06.630 +07:00 [INF] Response: 204
2025-05-08 14:42:06.630 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 5.0562ms
2025-05-08 14:42:06.631 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:06.637 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:06.638 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:06.638 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:06.640 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:06.643 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:06.645 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 2.9432ms
2025-05-08 14:42:06.646 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:06.647 +07:00 [INF] Response: 200
2025-05-08 14:42:06.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 16.4434ms
2025-05-08 14:42:06.656 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:06.656 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:06.659 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:42:06.661 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:06.661 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:06.662 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:06.662 +07:00 [INF] Response: 204
2025-05-08 14:42:06.663 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:06.664 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 204 null null 8.261ms
2025-05-08 14:42:06.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:06.664 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:06.670 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:06.673 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:06.675 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:06.675 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.2258ms
2025-05-08 14:42:06.677 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:06.676 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:06.678 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:06.680 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:06.681 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:06.682 +07:00 [INF] Response: 200
2025-05-08 14:42:06.686 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:06.682 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:06.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 30.5579ms
2025-05-08 14:42:06.688 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 3.7801ms
2025-05-08 14:42:06.689 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:06.692 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:06.693 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:06.694 +07:00 [INF] Response: 200
2025-05-08 14:42:06.698 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:06.698 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 200 20235 application/json 33.2959ms
2025-05-08 14:42:06.700 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.6037ms
2025-05-08 14:42:06.704 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:06.705 +07:00 [INF] Response: 200
2025-05-08 14:42:06.706 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 29.4286ms
2025-05-08 14:42:06.735 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:06.738 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:06.739 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:06.739 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:06.740 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:06.743 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:06.745 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 2.9065ms
2025-05-08 14:42:06.747 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:06.747 +07:00 [INF] Response: 200
2025-05-08 14:42:06.748 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 12.9461ms
2025-05-08 14:42:07.184 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:07.187 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:07.188 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.189 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.190 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:07.194 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:07.196 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.5662ms
2025-05-08 14:42:07.197 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.198 +07:00 [INF] Response: 200
2025-05-08 14:42:07.199 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 15.0736ms
2025-05-08 14:42:07.211 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies-pending?pageSize=2&movieId=1000000 - null null
2025-05-08 14:42:07.212 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:07.214 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies-pending
2025-05-08 14:42:07.217 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:07.217 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.218 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.219 +07:00 [INF] Response: 204
2025-05-08 14:42:07.220 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.220 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies-pending?pageSize=2&movieId=1000000 - 204 null null 9.1599ms
2025-05-08 14:42:07.221 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:07.222 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies-pending?pageSize=2&movieId=1000000 - null null
2025-05-08 14:42:07.228 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:07.231 +07:00 [INF] Incoming Request: GET /api/Movie/movies-pending
2025-05-08 14:42:07.232 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 6.221ms
2025-05-08 14:42:07.233 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:07.233 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.235 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.237 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:07.237 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMoviePending (CinemaHub.API)'
2025-05-08 14:42:07.238 +07:00 [INF] Response: 200
2025-05-08 14:42:07.238 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.240 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 28.2861ms
2025-05-08 14:42:07.241 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.244 +07:00 [INF] Route matched with {action = "ViewAllMoviePending", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMoviePending(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:07.245 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:07.252 +07:00 [INF] ViewAllMoviePending API called.
2025-05-08 14:42:07.253 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:07.255 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.3615ms
2025-05-08 14:42:07.257 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.258 +07:00 [INF] Response: 200
2025-05-08 14:42:07.258 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 24.9913ms
2025-05-08 14:42:07.269 +07:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2025-05-08 14:42:07.286 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_1='?' (DbType = Int32), @__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] IS NULL AND [m].[MovieID] < @__Parse_0
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:42:07.289 +07:00 [WRN] ViewAllMoviePending attempt failed for Status Pending - Movie not found
2025-05-08 14:42:07.291 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:07.293 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMoviePending (CinemaHub.API) in 45.2695ms
2025-05-08 14:42:07.294 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMoviePending (CinemaHub.API)'
2025-05-08 14:42:07.296 +07:00 [INF] Response: 400
2025-05-08 14:42:07.297 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies-pending?pageSize=2&movieId=1000000 - 400 null application/json; charset=utf-8 74.5404ms
2025-05-08 14:42:07.796 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:07.799 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:07.800 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.801 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.802 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:07.806 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:07.807 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.3692ms
2025-05-08 14:42:07.808 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.810 +07:00 [INF] Response: 200
2025-05-08 14:42:07.810 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 14.5434ms
2025-05-08 14:42:07.816 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:07.816 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:07.818 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:07.821 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:07.822 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.822 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.822 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:07.823 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.824 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:07.825 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:07.829 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:07.833 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:07.836 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 8.6611ms
2025-05-08 14:42:07.836 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.5464ms
2025-05-08 14:42:07.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:07.837 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:07.838 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.841 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:07.842 +07:00 [INF] Response: 200
2025-05-08 14:42:07.843 +07:00 [INF] Response: 200
2025-05-08 14:42:07.844 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.845 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 200 20235 application/json 29.1488ms
2025-05-08 14:42:07.846 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 29.8806ms
2025-05-08 14:42:07.846 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.854 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:07.858 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:07.860 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.6178ms
2025-05-08 14:42:07.861 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.862 +07:00 [INF] Response: 200
2025-05-08 14:42:07.862 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 25.4769ms
2025-05-08 14:42:07.877 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:07.879 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:07.880 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:07.881 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.882 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:07.886 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:07.888 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.2326ms
2025-05-08 14:42:07.889 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:07.890 +07:00 [INF] Response: 200
2025-05-08 14:42:07.890 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 13.2791ms
2025-05-08 14:42:08.965 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:08.968 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:08.969 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:08.970 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:08.971 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:08.975 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:08.977 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.3674ms
2025-05-08 14:42:08.979 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:08.980 +07:00 [INF] Response: 200
2025-05-08 14:42:08.980 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 15.4593ms
2025-05-08 14:42:08.990 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:08.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:08.993 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:42:08.996 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:08.997 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:08.998 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:08.998 +07:00 [INF] Response: 204
2025-05-08 14:42:08.999 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:09.000 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - 204 null null 10.411ms
2025-05-08 14:42:09.001 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:09.001 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:09.008 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:09.012 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:09.013 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:09.014 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.578ms
2025-05-08 14:42:09.015 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:09.015 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:09.016 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:09.017 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:09.020 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:09.024 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:09.020 +07:00 [INF] Response: 200
2025-05-08 14:42:09.026 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:09.027 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 4.5287ms
2025-05-08 14:42:09.028 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 37.7291ms
2025-05-08 14:42:09.028 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:09.029 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:09.034 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:09.035 +07:00 [INF] Response: 200
2025-05-08 14:42:09.039 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:09.040 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - 200 5676 application/json 39.4207ms
2025-05-08 14:42:09.041 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.8332ms
2025-05-08 14:42:09.046 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:09.047 +07:00 [INF] Response: 200
2025-05-08 14:42:09.048 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 32.9918ms
2025-05-08 14:42:09.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:09.072 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:09.072 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:09.073 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:09.074 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:09.078 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:09.080 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.652ms
2025-05-08 14:42:09.081 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:09.082 +07:00 [INF] Response: 200
2025-05-08 14:42:09.083 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 14.417ms
2025-05-08 14:42:09.854 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:42:09.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:42:11.441 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/131 - null null
2025-05-08 14:42:11.444 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/131
2025-05-08 14:42:11.445 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:11.446 +07:00 [INF] Response: 204
2025-05-08 14:42:11.446 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/131 - 204 null null 5.4685ms
2025-05-08 14:42:11.448 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7182/api/Movie/131 - null null
2025-05-08 14:42:11.453 +07:00 [INF] Incoming Request: DELETE /api/Movie/131
2025-05-08 14:42:11.454 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:11.455 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.RemoveMovie (CinemaHub.API)'
2025-05-08 14:42:11.456 +07:00 [INF] Route matched with {action = "RemoveMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveMovie(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:11.458 +07:00 [INF] RemoveMovie API called.
2025-05-08 14:42:11.463 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:42:11.472 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p11='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 255), @p2='?' (DbType = Int32), @p3='?' (Size = 50), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (Size = 255), @p7='?' (Size = 255), @p8='?' (Size = 255), @p9='?' (Size = 450), @p10='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Movies] SET [Description] = @p0, [Director] = @p1, [Duration] = @p2, [Language] = @p3, [ReleaseDate] = @p4, [Status] = @p5, [Thumbnail] = @p6, [Title] = @p7, [TrailerURL] = @p8, [UploadedBy] = @p9, [VideoURL] = @p10
OUTPUT 1
WHERE [MovieID] = @p11;
2025-05-08 14:42:11.478 +07:00 [INF] RemoveMovie successful for MovieId 131 at "2025-05-08T07:42:11.4780393Z"
2025-05-08 14:42:11.478 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:11.479 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.RemoveMovie (CinemaHub.API) in 21.0862ms
2025-05-08 14:42:11.481 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.RemoveMovie (CinemaHub.API)'
2025-05-08 14:42:11.482 +07:00 [INF] Response: 200
2025-05-08 14:42:11.483 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7182/api/Movie/131 - 200 null application/json; charset=utf-8 35.0861ms
2025-05-08 14:42:11.506 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=131 - null null
2025-05-08 14:42:11.509 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:42:11.510 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:11.511 +07:00 [INF] Response: 204
2025-05-08 14:42:11.511 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=131 - 204 null null 5.8277ms
2025-05-08 14:42:11.513 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=131 - null null
2025-05-08 14:42:11.518 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:11.519 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:11.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:11.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:11.520 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:11.523 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:11.526 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:11.527 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:11.528 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:11.532 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:42:11.533 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:11.528 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:11.535 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:11.538 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:42:11.536 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:11.541 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:11.545 +07:00 [WRN] ViewAllMovies attempt failed for Status false - Movie not found
2025-05-08 14:42:11.546 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:11.548 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:11.551 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:42:11.548 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:11.554 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 22.9792ms
2025-05-08 14:42:11.547 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 7.3638ms
2025-05-08 14:42:11.558 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:42:11.559 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:11.560 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:11.561 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:11.565 +07:00 [WRN] ViewAllMovies attempt failed for Status false - Movie not found
2025-05-08 14:42:11.566 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:11.567 +07:00 [INF] Response: 400
2025-05-08 14:42:11.568 +07:00 [INF] Response: 200
2025-05-08 14:42:11.569 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:11.570 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:11.571 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=131 - 400 null application/json; charset=utf-8 58.0958ms
2025-05-08 14:42:11.571 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 52.204ms
2025-05-08 14:42:11.573 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 22.9604ms
2025-05-08 14:42:11.575 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:11.583 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:11.586 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:11.588 +07:00 [INF] Response: 400
2025-05-08 14:42:11.588 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.5606ms
2025-05-08 14:42:11.589 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=false&pageSize=5&movieId=1000000 - 400 null application/json; charset=utf-8 69.9943ms
2025-05-08 14:42:11.591 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:11.595 +07:00 [INF] Response: 200
2025-05-08 14:42:11.596 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 47.3745ms
2025-05-08 14:42:12.608 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:12.611 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:42:12.611 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:12.612 +07:00 [INF] Response: 204
2025-05-08 14:42:12.613 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 5.2259ms
2025-05-08 14:42:12.614 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:12.620 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:12.621 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:12.621 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:12.623 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:12.626 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:12.627 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:12.628 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.821ms
2025-05-08 14:42:12.630 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:12.631 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:42:12.632 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:12.634 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:12.635 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:12.636 +07:00 [INF] Response: 200
2025-05-08 14:42:12.637 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:12.637 +07:00 [INF] Response: 204
2025-05-08 14:42:12.637 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 23.411ms
2025-05-08 14:42:12.638 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:12.640 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:12.639 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 204 null null 11.7571ms
2025-05-08 14:42:12.642 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:12.644 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:12.650 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:12.651 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:12.652 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.5983ms
2025-05-08 14:42:12.652 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:12.653 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:12.654 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:12.655 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:12.658 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:12.659 +07:00 [INF] Response: 200
2025-05-08 14:42:12.661 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:42:12.662 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:12.662 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 32.4157ms
2025-05-08 14:42:12.665 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:42:12.663 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:12.671 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:12.674 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:42:12.6740521Z"
2025-05-08 14:42:12.674 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:12.677 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:12.677 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.8836ms
2025-05-08 14:42:12.679 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 19.2876ms
2025-05-08 14:42:12.680 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:12.681 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:12.682 +07:00 [INF] Response: 200
2025-05-08 14:42:12.683 +07:00 [INF] Response: 200
2025-05-08 14:42:12.684 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 30.5101ms
2025-05-08 14:42:12.684 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=1000000 - 200 null application/json; charset=utf-8 44.2197ms
2025-05-08 14:42:12.714 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:12.716 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:12.717 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:12.717 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:12.719 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:12.723 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:12.724 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.5276ms
2025-05-08 14:42:12.726 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:12.726 +07:00 [INF] Response: 200
2025-05-08 14:42:12.727 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 13.2035ms
2025-05-08 14:42:15.268 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - null null
2025-05-08 14:42:15.271 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:42:15.272 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:15.273 +07:00 [INF] Response: 204
2025-05-08 14:42:15.274 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - 204 null null 6.4522ms
2025-05-08 14:42:15.276 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - null null
2025-05-08 14:42:15.280 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:15.281 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:15.282 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:15.282 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:15.283 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:15.286 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:15.290 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:42:15.291 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:15.292 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:15.294 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:15.295 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:42:15.300 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:15.305 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 7.352ms
2025-05-08 14:42:15.307 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:42:15.3075699Z"
2025-05-08 14:42:15.307 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:15.309 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:15.310 +07:00 [INF] Response: 200
2025-05-08 14:42:15.312 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 23.4074ms
2025-05-08 14:42:15.312 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 30.0988ms
2025-05-08 14:42:15.314 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:15.319 +07:00 [INF] Response: 200
2025-05-08 14:42:15.319 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=5&movieId=130 - 200 null application/json; charset=utf-8 44.1229ms
2025-05-08 14:42:15.361 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:15.365 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:15.366 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:15.367 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:15.369 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:15.372 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:15.374 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.1571ms
2025-05-08 14:42:15.375 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:15.376 +07:00 [INF] Response: 200
2025-05-08 14:42:15.377 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 15.2454ms
2025-05-08 14:42:23.109 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/minh0412@gmail.com - null null
2025-05-08 14:42:23.112 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-out/minh0412@gmail.com
2025-05-08 14:42:23.113 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:23.114 +07:00 [INF] Response: 204
2025-05-08 14:42:23.114 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/minh0412@gmail.com - 204 null null 5.4332ms
2025-05-08 14:42:23.116 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/minh0412@gmail.com - application/json 2
2025-05-08 14:42:23.121 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/minh0412@gmail.com
2025-05-08 14:42:23.121 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:23.122 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:42:23.123 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:42:23.126 +07:00 [INF] SignOut API called.
2025-05-08 14:42:23.130 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:42:23.136 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:42:23.139 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 14:42:23.141 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 14:42:23.143 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:42:23.147 +07:00 [INF] SignOut completed successful for Email minh0412@gmail.com at "2025-05-08T07:42:23.1472772Z"
2025-05-08 14:42:23.147 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:23.149 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:23.150 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:42:23.151 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 25.1504ms
2025-05-08 14:42:23.152 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:42:23.153 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 14:42:23.158 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:23.160 +07:00 [INF] Response: 200
2025-05-08 14:42:23.161 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 4.593ms
2025-05-08 14:42:23.162 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/minh0412@gmail.com - 200 null application/json; charset=utf-8 45.9328ms
2025-05-08 14:42:23.163 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:42:23.168 +07:00 [INF] Response: 200
2025-05-08 14:42:23.169 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 1593 application/json 30.4075ms
2025-05-08 14:42:24.037 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:42:24.037 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/year - null null
2025-05-08 14:42:24.037 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/language - null null
2025-05-08 14:42:24.039 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:42:24.042 +07:00 [INF] Incoming Request: GET /api/Movie/year
2025-05-08 14:42:24.044 +07:00 [INF] Incoming Request: GET /api/Movie/language
2025-05-08 14:42:24.045 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:24.046 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:24.046 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:24.047 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:24.048 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:42:24.048 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:42:24.049 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:42:24.050 +07:00 [INF] Route matched with {action = "ViewAllYearMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllYearMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:24.054 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:24.051 +07:00 [INF] Route matched with {action = "ViewAllLanguageMovie", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllLanguageMovie() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:24.056 +07:00 [INF] ViewAllYearMovie API called.
2025-05-08 14:42:24.057 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 3.9627ms
2025-05-08 14:42:24.058 +07:00 [INF] ViewAllLanguageMovie API called.
2025-05-08 14:42:24.060 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:42:24.061 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT DATEPART(year, [m].[ReleaseDate])
FROM [Movies] AS [m]
2025-05-08 14:42:24.064 +07:00 [INF] Response: 200
2025-05-08 14:42:24.070 +07:00 [INF] ViewAllYearMovie completed successfully for all year at "2025-05-08T07:42:24.0702301Z"
2025-05-08 14:42:24.072 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 35.8075ms
2025-05-08 14:42:24.074 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:24.067 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [m].[Language]
FROM [Movies] AS [m]
2025-05-08 14:42:24.080 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API) in 24.6345ms
2025-05-08 14:42:24.084 +07:00 [INF] ViewAllLanguageMovie completed successfully for all language at "2025-05-08T07:42:24.0840757Z"
2025-05-08 14:42:24.085 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllYearMovie (CinemaHub.API)'
2025-05-08 14:42:24.086 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:24.087 +07:00 [INF] Response: 200
2025-05-08 14:42:24.088 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API) in 30.2351ms
2025-05-08 14:42:24.090 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/year - 200 null application/json; charset=utf-8 53.0415ms
2025-05-08 14:42:24.091 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllLanguageMovie (CinemaHub.API)'
2025-05-08 14:42:24.096 +07:00 [INF] Response: 200
2025-05-08 14:42:24.097 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/language - 200 null application/json; charset=utf-8 60.2923ms
2025-05-08 14:42:26.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/131/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:42:26.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:42:26.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings/average - null null
2025-05-08 14:42:26.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/131 - null null
2025-05-08 14:42:26.147 +07:00 [INF] Incoming Request: GET /api/Comment/movies/131/comments
2025-05-08 14:42:26.149 +07:00 [INF] Incoming Request: GET /api/Rating/movies/131/ratings
2025-05-08 14:42:26.152 +07:00 [INF] Incoming Request: GET /api/Rating/movies/131/ratings/average
2025-05-08 14:42:26.154 +07:00 [INF] Incoming Request: GET /api/Movie/131
2025-05-08 14:42:26.154 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.155 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.156 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.156 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.157 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.157 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.158 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:42:26.159 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:42:26.160 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:42:26.161 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:42:26.162 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:42:26.169 +07:00 [INF] ViewAllRatingByMovieId API called.
2025-05-08 14:42:26.166 +07:00 [INF] ViewAllCommentByMovieId API called.
2025-05-08 14:42:26.163 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:26.172 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:42:26.176 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:42:26.178 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:42:26.180 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:42:26.186 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:42:26.193 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__rating_MovieId_0='?' (DbType = Int32), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_2) [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit) AND [r].[RatingID] < @__Parse_1
ORDER BY [r].[RatingID] DESC
2025-05-08 14:42:26.180 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:42:26.197 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:42:26.202 +07:00 [INF] ViewAllRatingByMovieId completed successfully for MovieId 131 at "2025-05-08T07:42:26.2025117Z"
2025-05-08 14:42:26.201 +07:00 [INF] ViewMovieById completed successfully for MovieId 131 at "2025-05-08T07:42:26.2019260Z"
2025-05-08 14:42:26.209 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_3='?' (DbType = Int32), @__comment_MovieId_0='?' (DbType = Int32), @__comment_Status_1='?' (DbType = Boolean), @__Parse_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_3) [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM [Comments] AS [c]
WHERE [c].[MovieID] = @__comment_MovieId_0 AND [c].[Status] = @__comment_Status_1 AND [c].[CommentID] < @__Parse_2
ORDER BY [c].[CommentID] DESC
2025-05-08 14:42:26.209 +07:00 [INF] GetMovieAverage completed successfully for MovieId 131 at "2025-05-08T07:42:26.2097541Z"
2025-05-08 14:42:26.211 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:42:26.213 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Rating, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:26.214 +07:00 [INF] ViewAllCommentByMovieId completed successfully for MovieId 131 at "2025-05-08T07:42:26.2148106Z"
2025-05-08 14:42:26.215 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:26.218 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 49.5233ms
2025-05-08 14:42:26.221 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 48.5884ms
2025-05-08 14:42:26.222 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings/average - null null
2025-05-08 14:42:26.219 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:42:26.221 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Comment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:26.217 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 41.2331ms
2025-05-08 14:42:26.224 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:42:26.231 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/131/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:42:26.222 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.226 +07:00 [INF] Incoming Request: GET /api/Rating/movies/131/ratings/average
2025-05-08 14:42:26.229 +07:00 [INF] Incoming Request: GET /api/Rating/movies/131/ratings
2025-05-08 14:42:26.230 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 65.3108ms
2025-05-08 14:42:26.232 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:42:26.233 +07:00 [INF] Response: 200
2025-05-08 14:42:26.236 +07:00 [INF] Incoming Request: GET /api/Comment/movies/131/comments
2025-05-08 14:42:26.241 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings/average - 200 null application/json; charset=utf-8 97.474ms
2025-05-08 14:42:26.242 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.237 +07:00 [INF] Response: 200
2025-05-08 14:42:26.237 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.248 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/131 - null null
2025-05-08 14:42:26.238 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.239 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.240 +07:00 [INF] Response: 200
2025-05-08 14:42:26.252 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.252 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings?pageSize=3&ratingId=1000000 - 200 null application/json; charset=utf-8 108.2563ms
2025-05-08 14:42:26.259 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:42:26.253 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:42:26.256 +07:00 [INF] Incoming Request: GET /api/Movie/131
2025-05-08 14:42:26.256 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.257 +07:00 [INF] Response: 200
2025-05-08 14:42:26.258 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/131 - 200 null application/json; charset=utf-8 114.0654ms
2025-05-08 14:42:26.262 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/131/genres/Comedy, Romance - null null
2025-05-08 14:42:26.269 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:42:26.269 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.270 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:42:26.271 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/131/comments?pageSize=3&commentId=1000000 - 200 null application/json; charset=utf-8 126.6272ms
2025-05-08 14:42:26.283 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:26.278 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:42:26.279 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:42:26.288 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 6.4194ms
2025-05-08 14:42:26.292 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:42:26.294 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.290 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:26.299 +07:00 [INF] Response: 200
2025-05-08 14:42:26.302 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:42:26.304 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 85.0547ms
2025-05-08 14:42:26.303 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:42:26.289 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings?pageSize=3&ratingId=1000000 - null null
2025-05-08 14:42:26.312 +07:00 [INF] GetMovieAverage completed successfully for MovieId 131 at "2025-05-08T07:42:26.3124547Z"
2025-05-08 14:42:26.319 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:42:26.274 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:42:26.276 +07:00 [INF] Incoming Request: GET /api/Movie/movies/131/genres/Comedy,%20Romance
2025-05-08 14:42:26.267 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:26.323 +07:00 [INF] Incoming Request: GET /api/Rating/movies/131/ratings
2025-05-08 14:42:26.324 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:26.333 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/movies/131/comments?pageSize=3&commentId=1000000 - null null
2025-05-08 14:42:26.335 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 56.44ms
2025-05-08 14:42:26.329 +07:00 [INF] ViewMovieById completed successfully for MovieId 131 at "2025-05-08T07:42:26.3297632Z"
2025-05-08 14:42:26.333 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.335 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings/average - null null
2025-05-08 14:42:26.330 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:42:26.331 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.332 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 66.548ms
2025-05-08 14:42:26.338 +07:00 [INF] Incoming Request: GET /api/Comment/movies/131/comments
2025-05-08 14:42:26.339 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:42:26.340 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:42:26.341 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.343 +07:00 [INF] Incoming Request: GET /api/Rating/movies/131/ratings/average
2025-05-08 14:42:26.344 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.345 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:42:26.346 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.346 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.347 +07:00 [INF] Response: 200
2025-05-08 14:42:26.349 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 45.9025ms
2025-05-08 14:42:26.351 +07:00 [INF] Route matched with {action = "ViewAllRatingByMovieId", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllRatingByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:42:26.351 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.355 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings/average - 200 null application/json; charset=utf-8 133.3671ms
2025-05-08 14:42:26.360 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:26.354 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.356 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:42:26.361 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:42:26.351 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:42:26.352 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:26.354 +07:00 [INF] Response: 200
2025-05-08 14:42:26.366 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API) in 7.3094ms
2025-05-08 14:42:26.367 +07:00 [INF] Route matched with {action = "ViewAllCommentByMovieId", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentByMovieIdAsync(Int32, Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:42:26.368 +07:00 [INF] Response: 200
2025-05-08 14:42:26.378 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:26.375 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewAllRatingByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.379 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/131 - 200 null application/json; charset=utf-8 130.9636ms
2025-05-08 14:42:26.369 +07:00 [INF] Route matched with {action = "GetMovieAverage", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMovieAverage(Int32) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:42:26.370 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:42:26.373 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:42:26.374 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/131/comments?pageSize=3&commentId=1000000 - 200 883 application/json 142.5189ms
2025-05-08 14:42:26.381 +07:00 [INF] Response: 200
2025-05-08 14:42:26.380 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API) in 3.6737ms
2025-05-08 14:42:26.393 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:42:26.387 +07:00 [INF] GetMovieAverage API called.
2025-05-08 14:42:26.397 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings?pageSize=3&ratingId=1000000 - 200 333 application/json 107.5772ms
2025-05-08 14:42:26.397 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentByMovieIdAsync (CinemaHub.API)'
2025-05-08 14:42:26.389 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:42:26.410 +07:00 [INF] Response: 200
2025-05-08 14:42:26.405 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:42:26.412 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/movies/131/comments?pageSize=3&commentId=1000000 - 200 883 application/json 79.2413ms
2025-05-08 14:42:26.413 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 131 and GenreName Comedy, Romance at "2025-05-08T07:42:26.4132375Z"
2025-05-08 14:42:26.414 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:42:26.422 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT AVG([r].[Rating])
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 14:42:26.424 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:26.427 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:42:26.4270237Z"
2025-05-08 14:42:26.428 +07:00 [INF] GetMovieAverage completed successfully for MovieId 131 at "2025-05-08T07:42:26.4289468Z"
2025-05-08 14:42:26.430 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 57.7969ms
2025-05-08 14:42:26.431 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:42:26.432 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies/131/genres/Comedy, Romance - null null
2025-05-08 14:42:26.433 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Double, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:26.434 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:42:26.436 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:42:26.435 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 46.4261ms
2025-05-08 14:42:26.439 +07:00 [INF] Incoming Request: GET /api/Movie/movies/131/genres/Comedy,%20Romance
2025-05-08 14:42:26.440 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API) in 52.9414ms
2025-05-08 14:42:26.441 +07:00 [INF] Response: 200
2025-05-08 14:42:26.443 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:42:26.444 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:42:26.445 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.446 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.GetMovieAverage (CinemaHub.API)'
2025-05-08 14:42:26.447 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/131/genres/Comedy, Romance - 200 null application/json; charset=utf-8 185.379ms
2025-05-08 14:42:26.448 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.449 +07:00 [INF] Response: 200
2025-05-08 14:42:26.449 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:42:26.450 +07:00 [INF] Response: 200
2025-05-08 14:42:26.453 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:42:26.454 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 180.2701ms
2025-05-08 14:42:26.455 +07:00 [INF] Route matched with {action = "SearchMovieByGenre", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SearchMovieByGenre(Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:26.456 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/movies/131/ratings/average - 200 null application/json; charset=utf-8 120.6655ms
2025-05-08 14:42:26.457 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:42:26.462 +07:00 [INF] SearchMovieByGenre API called.
2025-05-08 14:42:26.466 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:42:26.469 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:42:26.471 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__lowerGenres_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL], [t].[GenreID], [t].[GenreName], [t].[MovieID], [t].[GenreID0]
FROM [Movies] AS [m]
LEFT JOIN (
    SELECT [m3].[GenreID], [m3].[GenreName], [m2].[MovieID], [m2].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m2]
    INNER JOIN [MovieGenres] AS [m3] ON [m2].[GenreID] = [m3].[GenreID]
) AS [t] ON [m].[MovieID] = [t].[MovieID]
WHERE EXISTS (
    SELECT 1
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
    WHERE [m].[MovieID] = [m0].[MovieID] AND LOWER([m1].[GenreName]) IN (
        SELECT [l].[value]
        FROM OPENJSON(@__lowerGenres_0) WITH ([value] nvarchar(50) '$') AS [l]
    )) AND [m].[Status] = CAST(1 AS bit)
ORDER BY [m].[MovieID], [t].[MovieID], [t].[GenreID0]
2025-05-08 14:42:26.477 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:42:26.4778131Z"
2025-05-08 14:42:26.482 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:42:26.484 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 18.1417ms
2025-05-08 14:42:26.485 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:42:26.486 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:42:26.487 +07:00 [INF] SearchMovieByGenre completed successfully for MovieId 131 and GenreName Comedy, Romance at "2025-05-08T07:42:26.4879759Z"
2025-05-08 14:42:26.489 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:42:26.490 +07:00 [INF] Response: 200
2025-05-08 14:42:26.491 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:26.492 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:26.492 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 55.9902ms
2025-05-08 14:42:26.495 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API) in 33.2186ms
2025-05-08 14:42:26.495 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:42:26.499 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.SearchMovieByGenre (CinemaHub.API)'
2025-05-08 14:42:26.500 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:42:26.501 +07:00 [INF] Response: 200
2025-05-08 14:42:26.503 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:42:26.504 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies/131/genres/Comedy, Romance - 200 null application/json; charset=utf-8 72.3263ms
2025-05-08 14:42:26.506 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:42:26.511 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:42:26.5119434Z"
2025-05-08 14:42:26.513 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:42:26.514 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 10.9174ms
2025-05-08 14:42:26.515 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:42:26.516 +07:00 [INF] Response: 200
2025-05-08 14:42:26.516 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 30.98ms
2025-05-08 14:42:31.815 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - null null
2025-05-08 14:42:31.818 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-in
2025-05-08 14:42:31.819 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:31.820 +07:00 [INF] Response: 204
2025-05-08 14:42:31.820 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-in - 204 null null 5.4176ms
2025-05-08 14:42:31.822 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-in - application/json 51
2025-05-08 14:42:31.828 +07:00 [INF] Incoming Request: POST /api/Auth/sign-in
2025-05-08 14:42:31.829 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:31.829 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:42:31.830 +07:00 [INF] Route matched with {action = "SignIn", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignIn(CinemaHub.API.Models.SignInModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:42:31.833 +07:00 [INF] SignIn API called.
2025-05-08 14:42:31.836 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:42:31.923 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:42:31.929 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (DbType = Guid), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UserRefreshToken] ([Id], [CreatedAt], [ExpiresAt], [Token], [UserId])
OUTPUT INSERTED.[Revoked]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-05-08 14:42:31.933 +07:00 [INF] SignIn completed successfully for Email minh0412@gmail.com at "2025-05-08T07:42:31.9331673Z"
2025-05-08 14:42:31.934 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.SignInResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:42:31.935 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API) in 102.8405ms
2025-05-08 14:42:31.937 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignIn (CinemaHub.API)'
2025-05-08 14:42:31.938 +07:00 [INF] Response: 200
2025-05-08 14:42:31.939 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-in - 200 null application/json; charset=utf-8 117.4171ms
2025-05-08 14:42:32.004 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/payments/statistic-system - null null
2025-05-08 14:42:32.005 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=4&movieId=1000000 - null null
2025-05-08 14:42:32.005 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/watch-history/total-view?search=today - null null
2025-05-08 14:42:32.005 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=10&movieId=1000000 - null null
2025-05-08 14:42:32.004 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:42:32.005 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/watch-history/total-view?search=month - null null
2025-05-08 14:42:32.008 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/payments/statistic-system
2025-05-08 14:42:32.011 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies
2025-05-08 14:42:32.013 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/watch-history/total-view
2025-05-08 14:42:32.016 +07:00 [INF] Incoming Request: OPTIONS /api/Rating/ratings/statistic
2025-05-08 14:42:32.019 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:42:32.021 +07:00 [INF] Incoming Request: OPTIONS /api/WatchHistory/watch-history/total-view
2025-05-08 14:42:32.022 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.023 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.024 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.024 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.025 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.026 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.026 +07:00 [INF] Response: 204
2025-05-08 14:42:32.027 +07:00 [INF] Response: 204
2025-05-08 14:42:32.028 +07:00 [INF] Response: 204
2025-05-08 14:42:32.028 +07:00 [INF] Response: 204
2025-05-08 14:42:32.029 +07:00 [INF] Response: 204
2025-05-08 14:42:32.031 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies?status=true&pageSize=4&movieId=1000000 - 204 null null 26.3507ms
2025-05-08 14:42:32.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/watch-history/total-view?search=today - null null
2025-05-08 14:42:32.032 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/watch-history/total-view?search=today - 204 null null 27.0625ms
2025-05-08 14:42:32.031 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/payments/statistic-system - 204 null null 26.3373ms
2025-05-08 14:42:32.033 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=4&movieId=1000000 - null null
2025-05-08 14:42:32.033 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=10&movieId=1000000 - 204 null null 27.6889ms
2025-05-08 14:42:32.035 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 30.3686ms
2025-05-08 14:42:32.030 +07:00 [INF] Response: 204
2025-05-08 14:42:32.034 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=10&movieId=1000000 - null null
2025-05-08 14:42:32.049 +07:00 [INF] Incoming Request: GET /api/WatchHistory/watch-history/total-view
2025-05-08 14:42:32.059 +07:00 [INF] Incoming Request: GET /api/Movie/movies
2025-05-08 14:42:32.067 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/WatchHistory/watch-history/total-view?search=month - null null
2025-05-08 14:42:32.065 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/WatchHistory/watch-history/total-view?search=month - 204 null null 59.877ms
2025-05-08 14:42:32.033 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/payments/statistic-system - null null
2025-05-08 14:42:32.048 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:42:32.068 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 14:42:32.069 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.069 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.071 +07:00 [INF] Incoming Request: GET /api/WatchHistory/watch-history/total-view
2025-05-08 14:42:32.077 +07:00 [INF] Incoming Request: GET /api/Payment/payments/statistic-system
2025-05-08 14:42:32.080 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:42:32.080 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.081 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API)'
2025-05-08 14:42:32.081 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:32.082 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.083 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.083 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:32.084 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:42:32.085 +07:00 [INF] Route matched with {action = "ViewAllWatchHistoryTodayFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllWatchHistoryTodayFromAPIAsync(System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:42:32.085 +07:00 [INF] Route matched with {action = "ViewAllMovies", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovies(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:42:32.086 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API)'
2025-05-08 14:42:32.090 +07:00 [INF] ViewTotalView API called.
2025-05-08 14:42:32.092 +07:00 [INF] ViewAllMovies API called.
2025-05-08 14:42:32.088 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 14:42:32.094 +07:00 [INF] Route matched with {action = "ViewAllWatchHistoryTodayFromAPI", controller = "WatchHistory"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllWatchHistoryTodayFromAPIAsync(System.String) on controller CinemaHub.API.Controllers.WatchHistoryController (CinemaHub.API).
2025-05-08 14:42:32.098 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 14:42:32.102 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:42:32.087 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.GetStatisticSystem (CinemaHub.API)'
2025-05-08 14:42:32.108 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 9.9744ms
2025-05-08 14:42:32.105 +07:00 [INF] ViewTotalView API called.
2025-05-08 14:42:32.110 +07:00 [INF] Route matched with {action = "GetStatisticSystem", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStatisticSystem() on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:42:32.113 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
2025-05-08 14:42:32.110 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 14:42:32.110 +07:00 [INF] ViewAllMovies completed successfully for Status true at "2025-05-08T07:42:32.1108604Z"
2025-05-08 14:42:32.119 +07:00 [INF] Response: 200
2025-05-08 14:42:32.122 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:32.122 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=10&movieId=1000000 - 200 3178 application/json 87.4417ms
2025-05-08 14:42:32.123 +07:00 [WRN] ViewTotalView attempt failed - Not found any history list
2025-05-08 14:42:32.116 +07:00 [INF] GetStatistics API called.
2025-05-08 14:42:32.097 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM [WatchHistory] AS [w]
2025-05-08 14:42:32.087 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:42:32.124 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API) in 33.5423ms
2025-05-08 14:42:32.128 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:32.135 +07:00 [WRN] ViewTotalView attempt failed - Not found any history list
2025-05-08 14:42:32.133 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], [t].[HistoryID], [t].[MovieID], [t].[Progress], [t].[UserID], [t].[WatchedAt]
FROM (
    SELECT [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], DATEPART(year, [w].[WatchedAt]) AS [Year], DATEPART(month, [w].[WatchedAt]) AS [Month]
    FROM [WatchHistory] AS [w]
    WHERE [w].[WatchedAt] IS NOT NULL
) AS [t]
ORDER BY [t].[Year], [t].[Month]
2025-05-08 14:42:32.131 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:42:32.135 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API) in 30.5837ms
2025-05-08 14:42:32.133 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovies (CinemaHub.API)'
2025-05-08 14:42:32.136 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Int32, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:32.140 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:42:32.141 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API)'
2025-05-08 14:42:32.142 +07:00 [INF] Response: 200
2025-05-08 14:42:32.144 +07:00 [INF] Response: 200
2025-05-08 14:42:32.146 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies?status=true&pageSize=4&movieId=1000000 - 200 null application/json; charset=utf-8 112.865ms
2025-05-08 14:42:32.148 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/watch-history/total-view?search=month - 200 null application/json; charset=utf-8 81.2123ms
2025-05-08 14:42:32.143 +07:00 [INF] Executed action CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API) in 53.0337ms
2025-05-08 14:42:32.142 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Year], [t].[Month], [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID]
FROM (
    SELECT [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID], DATEPART(year, [p].[PaymentDate]) AS [Year], DATEPART(month, [p].[PaymentDate]) AS [Month]
    FROM [Payments] AS [p]
    WHERE [p].[PaymentDate] IS NOT NULL AND [p].[PaymentStatus] = N'Success'
) AS [t]
ORDER BY [t].[Year], [t].[Month]
2025-05-08 14:42:32.146 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:42:32.154 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.WatchHistoryController.ViewAllWatchHistoryTodayFromAPIAsync (CinemaHub.API)'
2025-05-08 14:42:32.157 +07:00 [INF] GetStatistics completed successfully at "2025-05-08T07:42:32.1574146Z"
2025-05-08 14:42:32.158 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:42:32.1587918Z"
2025-05-08 14:42:32.159 +07:00 [INF] Response: 200
2025-05-08 14:42:32.160 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.StatisticSystemResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:32.161 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:42:32.161 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/WatchHistory/watch-history/total-view?search=today - 200 null application/json; charset=utf-8 127.6649ms
2025-05-08 14:42:32.163 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.GetStatisticSystem (CinemaHub.API) in 47.4735ms
2025-05-08 14:42:32.164 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 24.1494ms
2025-05-08 14:42:32.169 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.GetStatisticSystem (CinemaHub.API)'
2025-05-08 14:42:32.170 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:42:32.171 +07:00 [INF] Response: 200
2025-05-08 14:42:32.172 +07:00 [INF] Response: 200
2025-05-08 14:42:32.173 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/payments/statistic-system - 200 null application/json; charset=utf-8 140.2155ms
2025-05-08 14:42:32.174 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 126.1525ms
2025-05-08 14:42:33.559 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:42:33.559 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:42:33.563 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:33.566 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:42:33.567 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:33.568 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:33.568 +07:00 [INF] Response: 204
2025-05-08 14:42:33.569 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:42:33.569 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 204 null null 9.8968ms
2025-05-08 14:42:33.571 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:42:33.570 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:42:33.575 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:33.577 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:42:33.577 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:33.578 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:33.580 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:42:33.584 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:42:33.5849580Z"
2025-05-08 14:42:33.586 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:42:33.586 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:33.587 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 10.3372ms
2025-05-08 14:42:33.592 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:42:33.593 +07:00 [INF] Response: 200
2025-05-08 14:42:33.593 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:42:33.594 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 34.3141ms
2025-05-08 14:42:33.600 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:42:33.606 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:42:33.6060371Z"
2025-05-08 14:42:33.608 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:33.609 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 20.543ms
2025-05-08 14:42:33.610 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:33.611 +07:00 [INF] Response: 200
2025-05-08 14:42:33.612 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 null application/json; charset=utf-8 41.2732ms
2025-05-08 14:42:34.436 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:42:34.440 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:34.441 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:34.441 +07:00 [INF] Response: 204
2025-05-08 14:42:34.442 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 204 null null 5.6782ms
2025-05-08 14:42:34.443 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:42:34.448 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:34.449 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:34.450 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:34.451 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:34.454 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:42:34.459 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:42:34.463 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:42:34.4631613Z"
2025-05-08 14:42:34.464 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:34.465 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 12.2487ms
2025-05-08 14:42:34.466 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:34.468 +07:00 [INF] Response: 200
2025-05-08 14:42:34.469 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 200 null application/json; charset=utf-8 25.4142ms
2025-05-08 14:42:41.504 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan - null null
2025-05-08 14:42:41.507 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan
2025-05-08 14:42:41.508 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:41.509 +07:00 [INF] Response: 204
2025-05-08 14:42:41.510 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan - 204 null null 5.6369ms
2025-05-08 14:42:41.511 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7182/api/SubscriptionPlan - application/json 127
2025-05-08 14:42:41.518 +07:00 [INF] Incoming Request: PUT /api/SubscriptionPlan
2025-05-08 14:42:41.519 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:41.520 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.UpdateSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:41.525 +07:00 [INF] Route matched with {action = "UpdateSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateSubscriptionPlanAsync(CinemaHub.API.Models.SubscriptionPlanModel) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:41.535 +07:00 [INF] UpdateSubscriptionPlan API called.
2025-05-08 14:42:41.547 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:42:41.580 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 255), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SubscriptionPlans] SET [CreatedAt] = @p0, [Description] = @p1, [Duration] = @p2, [IsActive] = @p3, [PlanName] = @p4, [Price] = @p5
OUTPUT 1
WHERE [PlanID] = @p6;
2025-05-08 14:42:41.586 +07:00 [INF] UpdateSubscriptionPlan completed successfully at "2025-05-08T07:42:41.5868413Z"
2025-05-08 14:42:41.587 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:41.589 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.UpdateSubscriptionPlanAsync (CinemaHub.API) in 61.3184ms
2025-05-08 14:42:41.590 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.UpdateSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:41.591 +07:00 [INF] Response: 200
2025-05-08 14:42:41.592 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7182/api/SubscriptionPlan - 200 null application/json; charset=utf-8 80.3139ms
2025-05-08 14:42:41.646 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:42:41.648 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:41.649 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:41.650 +07:00 [INF] Response: 204
2025-05-08 14:42:41.651 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 204 null null 5.531ms
2025-05-08 14:42:41.652 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:42:41.656 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:41.657 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:41.658 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:41.659 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:41.662 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:42:41.668 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:42:41.672 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:42:41.6728501Z"
2025-05-08 14:42:41.674 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:41.675 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 14.3737ms
2025-05-08 14:42:41.676 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:41.677 +07:00 [INF] Response: 200
2025-05-08 14:42:41.677 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 200 null application/json; charset=utf-8 25.2391ms
2025-05-08 14:42:50.059 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/3 - null null
2025-05-08 14:42:50.063 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/3
2025-05-08 14:42:50.063 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:50.064 +07:00 [INF] Response: 204
2025-05-08 14:42:50.065 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/3 - 204 null null 6.626ms
2025-05-08 14:42:50.069 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7182/api/SubscriptionPlan/3 - null null
2025-05-08 14:42:50.072 +07:00 [INF] Incoming Request: DELETE /api/SubscriptionPlan/3
2025-05-08 14:42:50.073 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:50.073 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.RemoveSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:50.078 +07:00 [INF] Route matched with {action = "RemoveSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveSubscriptionPlanAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:50.082 +07:00 [INF] RemoveSubscriptionPlan API called.
2025-05-08 14:42:50.088 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:42:50.097 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 255), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SubscriptionPlans] SET [CreatedAt] = @p0, [Description] = @p1, [Duration] = @p2, [IsActive] = @p3, [PlanName] = @p4, [Price] = @p5
OUTPUT 1
WHERE [PlanID] = @p6;
2025-05-08 14:42:50.102 +07:00 [INF] RemoveSubscriptionPlan completed successfully at "2025-05-08T07:42:50.1020043Z"
2025-05-08 14:42:50.103 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:50.104 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.RemoveSubscriptionPlanAsync (CinemaHub.API) in 23.8982ms
2025-05-08 14:42:50.105 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.RemoveSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:50.106 +07:00 [INF] Response: 200
2025-05-08 14:42:50.107 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7182/api/SubscriptionPlan/3 - 200 null application/json; charset=utf-8 38.6196ms
2025-05-08 14:42:50.150 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:42:50.153 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:50.154 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:50.154 +07:00 [INF] Response: 204
2025-05-08 14:42:50.155 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 204 null null 5.3266ms
2025-05-08 14:42:50.156 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:42:50.161 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:50.162 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:50.163 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:50.164 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:50.166 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:42:50.171 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:42:50.175 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:42:50.1755547Z"
2025-05-08 14:42:50.177 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:50.179 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 13.5248ms
2025-05-08 14:42:50.180 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:50.181 +07:00 [INF] Response: 200
2025-05-08 14:42:50.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 200 null application/json; charset=utf-8 25.4485ms
2025-05-08 14:42:51.262 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:42:51.264 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:51.265 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:51.265 +07:00 [INF] Response: 204
2025-05-08 14:42:51.266 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 204 null null 4.1342ms
2025-05-08 14:42:51.267 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:42:51.273 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:51.274 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:51.274 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:51.275 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:51.279 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:42:51.283 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:42:51.286 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:42:51.2864918Z"
2025-05-08 14:42:51.288 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:51.289 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 11.3328ms
2025-05-08 14:42:51.291 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:51.292 +07:00 [INF] Response: 200
2025-05-08 14:42:51.293 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 null application/json; charset=utf-8 25.7699ms
2025-05-08 14:42:58.674 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/3 - null null
2025-05-08 14:42:58.678 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/3
2025-05-08 14:42:58.679 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:58.680 +07:00 [INF] Response: 204
2025-05-08 14:42:58.680 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/3 - 204 null null 6.3232ms
2025-05-08 14:42:58.682 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7182/api/SubscriptionPlan/3 - null null
2025-05-08 14:42:58.688 +07:00 [INF] Incoming Request: DELETE /api/SubscriptionPlan/3
2025-05-08 14:42:58.689 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:58.689 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.RemoveSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:58.691 +07:00 [INF] Route matched with {action = "RemoveSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveSubscriptionPlanAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:58.693 +07:00 [INF] RemoveSubscriptionPlan API called.
2025-05-08 14:42:58.697 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:42:58.705 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 255), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SubscriptionPlans] SET [CreatedAt] = @p0, [Description] = @p1, [Duration] = @p2, [IsActive] = @p3, [PlanName] = @p4, [Price] = @p5
OUTPUT 1
WHERE [PlanID] = @p6;
2025-05-08 14:42:58.710 +07:00 [INF] RemoveSubscriptionPlan completed successfully at "2025-05-08T07:42:58.7101575Z"
2025-05-08 14:42:58.710 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:58.712 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.RemoveSubscriptionPlanAsync (CinemaHub.API) in 18.7373ms
2025-05-08 14:42:58.713 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.RemoveSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:58.715 +07:00 [INF] Response: 200
2025-05-08 14:42:58.716 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7182/api/SubscriptionPlan/3 - 200 null application/json; charset=utf-8 33.837ms
2025-05-08 14:42:58.753 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:42:58.757 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:58.758 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:58.759 +07:00 [INF] Response: 204
2025-05-08 14:42:58.760 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 204 null null 6.5841ms
2025-05-08 14:42:58.761 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:42:58.768 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:42:58.768 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:42:58.769 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:58.770 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:42:58.774 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:42:58.779 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:42:58.783 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:42:58.7838808Z"
2025-05-08 14:42:58.785 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:42:58.786 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 13.5747ms
2025-05-08 14:42:58.788 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:42:58.789 +07:00 [INF] Response: 200
2025-05-08 14:42:58.789 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 null application/json; charset=utf-8 28.1748ms
2025-05-08 14:43:00.529 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:43:00.532 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:00.533 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:00.534 +07:00 [INF] Response: 204
2025-05-08 14:43:00.535 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 204 null null 5.7496ms
2025-05-08 14:43:00.536 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:43:00.542 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:00.543 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:00.543 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:00.545 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:00.548 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:43:00.553 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:43:00.556 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:43:00.5563156Z"
2025-05-08 14:43:00.558 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:00.559 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 12.28ms
2025-05-08 14:43:00.561 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:00.562 +07:00 [INF] Response: 200
2025-05-08 14:43:00.562 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 200 null application/json; charset=utf-8 26.4992ms
2025-05-08 14:43:06.172 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Payment/payments?pageSize=8&paymentId=1000000000 - null null
2025-05-08 14:43:06.172 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:06.172 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:43:06.175 +07:00 [INF] Incoming Request: OPTIONS /api/Payment/payments
2025-05-08 14:43:06.178 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:06.180 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:06.181 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.181 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.183 +07:00 [INF] Response: 204
2025-05-08 14:43:06.183 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:43:06.186 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/payments?pageSize=8&paymentId=1000000000 - null null
2025-05-08 14:43:06.184 +07:00 [INF] Response: 204
2025-05-08 14:43:06.184 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Payment/payments?pageSize=8&paymentId=1000000000 - 204 null null 12.2724ms
2025-05-08 14:43:06.193 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:06.191 +07:00 [INF] Incoming Request: GET /api/Payment/payments
2025-05-08 14:43:06.192 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 19.4955ms
2025-05-08 14:43:06.188 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:06.182 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.199 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:06.200 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.204 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.204 +07:00 [INF] Response: 204
2025-05-08 14:43:06.204 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.205 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewAllPaymentAsync (CinemaHub.API)'
2025-05-08 14:43:06.206 +07:00 [INF] Response: 204
2025-05-08 14:43:06.208 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:06.209 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:43:06.207 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 204 null null 34.7367ms
2025-05-08 14:43:06.209 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 204 null null 26.5422ms
2025-05-08 14:43:06.210 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.212 +07:00 [INF] Route matched with {action = "ViewAllPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllPaymentAsync(Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:43:06.213 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:06.220 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:43:06.224 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.226 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:06.228 +07:00 [INF] ViewAllPayment API called.
2025-05-08 14:43:06.227 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:43:06.230 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.234 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:43:06.2346515Z"
2025-05-08 14:43:06.238 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:43:06.240 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.240 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 3.741ms
2025-05-08 14:43:06.242 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:43:06.244 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:06.243 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 22.5813ms
2025-05-08 14:43:06.249 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_1='?' (DbType = Int32), @__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[PaymentID], [t].[Amount], [t].[ExpiryDate], [t].[PaymentCode], [t].[PaymentDate], [t].[PaymentMethod], [t].[PaymentStatus], [t].[SubscriptionPlanID], [t].[UserID], [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM (
    SELECT TOP(@__p_1) [p].[PaymentID], [p].[Amount], [p].[ExpiryDate], [p].[PaymentCode], [p].[PaymentDate], [p].[PaymentMethod], [p].[PaymentStatus], [p].[SubscriptionPlanID], [p].[UserID]
    FROM [Payments] AS [p]
    WHERE [p].[PaymentID] < @__Parse_0
    ORDER BY [p].[PaymentID] DESC
) AS [t]
INNER JOIN [SubscriptionPlans] AS [s] ON [t].[SubscriptionPlanID] = [s].[PlanID]
ORDER BY [t].[PaymentID] DESC
2025-05-08 14:43:06.249 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:06.250 +07:00 [INF] Response: 200
2025-05-08 14:43:06.251 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:06.254 +07:00 [INF] ViewAllPayment completed successfully at "2025-05-08T07:43:06.2547766Z"
2025-05-08 14:43:06.254 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.255 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 1113 application/json 46.6285ms
2025-05-08 14:43:06.258 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:06.256 +07:00 [INF] Response: 200
2025-05-08 14:43:06.261 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Payment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:06.263 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.264 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 71.0712ms
2025-05-08 14:43:06.265 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewAllPaymentAsync (CinemaHub.API) in 43.6167ms
2025-05-08 14:43:06.268 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:43:06.273 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewAllPaymentAsync (CinemaHub.API)'
2025-05-08 14:43:06.274 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 7.4362ms
2025-05-08 14:43:06.276 +07:00 [INF] Response: 200
2025-05-08 14:43:06.277 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:06.277 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/payments?pageSize=8&paymentId=1000000000 - 200 null application/json; charset=utf-8 91.0838ms
2025-05-08 14:43:06.278 +07:00 [INF] Response: 200
2025-05-08 14:43:06.282 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 1113 application/json 40.1217ms
2025-05-08 14:43:06.289 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.290 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.291 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.290 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.308 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.291 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/2 - null null
2025-05-08 14:43:06.314 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.290 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.301 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/1
2025-05-08 14:43:06.293 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.290 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.289 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.290 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.290 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.289 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.290 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.290 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.299 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.308 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.316 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.316 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.319 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/2
2025-05-08 14:43:06.320 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.324 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/1
2025-05-08 14:43:06.324 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.325 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.328 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/1
2025-05-08 14:43:06.330 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/1
2025-05-08 14:43:06.333 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.335 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.338 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/1
2025-05-08 14:43:06.341 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.344 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/1
2025-05-08 14:43:06.347 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.349 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/1
2025-05-08 14:43:06.350 +07:00 [INF] Response: 204
2025-05-08 14:43:06.353 +07:00 [INF] Incoming Request: OPTIONS /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.353 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.354 +07:00 [INF] Response: 204
2025-05-08 14:43:06.354 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.355 +07:00 [INF] Response: 204
2025-05-08 14:43:06.356 +07:00 [INF] Response: 204
2025-05-08 14:43:06.357 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.357 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.358 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.359 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.359 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.360 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.361 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.361 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.362 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.363 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 72.113ms
2025-05-08 14:43:06.364 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.364 +07:00 [INF] Response: 204
2025-05-08 14:43:06.365 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 75.0215ms
2025-05-08 14:43:06.378 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/2 - 204 null null 87.7344ms
2025-05-08 14:43:06.381 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.366 +07:00 [INF] Response: 204
2025-05-08 14:43:06.367 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - 204 null null 76.4776ms
2025-05-08 14:43:06.367 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 78.0438ms
2025-05-08 14:43:06.388 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.382 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.385 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/2 - null null
2025-05-08 14:43:06.389 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - 204 null null 98.496ms
2025-05-08 14:43:06.368 +07:00 [INF] Response: 204
2025-05-08 14:43:06.369 +07:00 [INF] Response: 204
2025-05-08 14:43:06.369 +07:00 [INF] Response: 204
2025-05-08 14:43:06.370 +07:00 [INF] Response: 204
2025-05-08 14:43:06.371 +07:00 [INF] Response: 204
2025-05-08 14:43:06.372 +07:00 [INF] Response: 204
2025-05-08 14:43:06.372 +07:00 [INF] Response: 204
2025-05-08 14:43:06.373 +07:00 [INF] Response: 204
2025-05-08 14:43:06.374 +07:00 [INF] Response: 204
2025-05-08 14:43:06.378 +07:00 [INF] Response: 204
2025-05-08 14:43:06.402 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.404 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.407 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/2
2025-05-08 14:43:06.412 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - 204 null null 121.7368ms
2025-05-08 14:43:06.413 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - 204 null null 123.4157ms
2025-05-08 14:43:06.413 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 123.2814ms
2025-05-08 14:43:06.414 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 124.0777ms
2025-05-08 14:43:06.415 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - 204 null null 125.7152ms
2025-05-08 14:43:06.415 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 125.3218ms
2025-05-08 14:43:06.416 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - 204 null null 126.0422ms
2025-05-08 14:43:06.417 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 117.6989ms
2025-05-08 14:43:06.418 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/1 - 204 null null 109.4952ms
2025-05-08 14:43:06.418 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 204 null null 101.9048ms
2025-05-08 14:43:06.419 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.420 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.421 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.451 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.451 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.451 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.454 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.459 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.462 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.463 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.465 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.4651466Z"
2025-05-08 14:43:06.468 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.470 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.471 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.474 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 20.0102ms
2025-05-08 14:43:06.475 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.478 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.478 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.484 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.476 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.488 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 2 at "2025-05-08T07:43:06.4887764Z"
2025-05-08 14:43:06.490 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.4904692Z"
2025-05-08 14:43:06.491 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.492 +07:00 [INF] Response: 200
2025-05-08 14:43:06.493 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.494 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.495 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.496 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 114.9397ms
2025-05-08 14:43:06.501 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.499 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 29.2126ms
2025-05-08 14:43:06.499 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 32.3543ms
2025-05-08 14:43:06.500 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.506 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.507 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.509 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.511 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.512 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.512 +07:00 [INF] Response: 200
2025-05-08 14:43:06.514 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.516 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/2 - 200 null application/json; charset=utf-8 131.1197ms
2025-05-08 14:43:06.518 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.516 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.513 +07:00 [INF] Response: 200
2025-05-08 14:43:06.525 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.527 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.5279386Z"
2025-05-08 14:43:06.528 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 145.5563ms
2025-05-08 14:43:06.532 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.529 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.538 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.5380744Z"
2025-05-08 14:43:06.539 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 27.8062ms
2025-05-08 14:43:06.540 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.541 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.542 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.544 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.545 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 20.0906ms
2025-05-08 14:43:06.546 +07:00 [INF] Response: 200
2025-05-08 14:43:06.546 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.547 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.548 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.548 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 73.2705ms
2025-05-08 14:43:06.550 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.550 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.551 +07:00 [INF] Response: 200
2025-05-08 14:43:06.555 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.555 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.556 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 55.3104ms
2025-05-08 14:43:06.556 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.558 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.562 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.566 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.568 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.570 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.5705977Z"
2025-05-08 14:43:06.572 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.573 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.577 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 18.9562ms
2025-05-08 14:43:06.578 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.579 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.5797497Z"
2025-05-08 14:43:06.580 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.583 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.584 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.585 +07:00 [INF] Response: 200
2025-05-08 14:43:06.586 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.587 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 19.1346ms
2025-05-08 14:43:06.588 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.588 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 47.9534ms
2025-05-08 14:43:06.588 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.590 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.592 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.596 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.596 +07:00 [INF] Response: 200
2025-05-08 14:43:06.597 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.600 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.600 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 53.9233ms
2025-05-08 14:43:06.601 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.604 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.608 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.610 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.6108791Z"
2025-05-08 14:43:06.612 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.613 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.614 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 14.8741ms
2025-05-08 14:43:06.615 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.618 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.616 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.621 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.6216214Z"
2025-05-08 14:43:06.622 +07:00 [INF] Response: 200
2025-05-08 14:43:06.625 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.626 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.626 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 47.9055ms
2025-05-08 14:43:06.628 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 15.9343ms
2025-05-08 14:43:06.629 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.627 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.632 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.634 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.635 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.636 +07:00 [INF] Response: 200
2025-05-08 14:43:06.637 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.638 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.638 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 50.1389ms
2025-05-08 14:43:06.639 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.641 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.644 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.647 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.648 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.652 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.6523899Z"
2025-05-08 14:43:06.653 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.655 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.657 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 15.5894ms
2025-05-08 14:43:06.658 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.659 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.6598714Z"
2025-05-08 14:43:06.660 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.663 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.664 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.664 +07:00 [INF] Response: 200
2025-05-08 14:43:06.665 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.667 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 50.9557ms
2025-05-08 14:43:06.666 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 18.0297ms
2025-05-08 14:43:06.667 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.668 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.672 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.674 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.675 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.676 +07:00 [INF] Response: 200
2025-05-08 14:43:06.676 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.678 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.679 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 49.6633ms
2025-05-08 14:43:06.682 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.680 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.689 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.6893965Z"
2025-05-08 14:43:06.690 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Payment/payments?pageSize=8&paymentId=1000000000 - null null
2025-05-08 14:43:06.690 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.691 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.693 +07:00 [INF] Incoming Request: GET /api/Payment/payments
2025-05-08 14:43:06.695 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.696 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 17.9297ms
2025-05-08 14:43:06.697 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.698 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.697 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.700 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.704 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.704 +07:00 [INF] Response: 200
2025-05-08 14:43:06.705 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.PaymentController.ViewAllPaymentAsync (CinemaHub.API)'
2025-05-08 14:43:06.707 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.7073996Z"
2025-05-08 14:43:06.708 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.708 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 50.3311ms
2025-05-08 14:43:06.709 +07:00 [INF] Route matched with {action = "ViewAllPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllPaymentAsync(Int32, System.String) on controller CinemaHub.API.Controllers.PaymentController (CinemaHub.API).
2025-05-08 14:43:06.710 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.711 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.718 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:43:06.721 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.721 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.720 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 25.178ms
2025-05-08 14:43:06.722 +07:00 [INF] Executed action CinemaHub.API.Controllers.PaymentController.ViewAllPaymentAsync (CinemaHub.API) in 6.2698ms
2025-05-08 14:43:06.724 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.726 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.727 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.732 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.731 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.729 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.PaymentController.ViewAllPaymentAsync (CinemaHub.API)'
2025-05-08 14:43:06.735 +07:00 [INF] Response: 200
2025-05-08 14:43:06.737 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.7375277Z"
2025-05-08 14:43:06.737 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.738 +07:00 [INF] Response: 200
2025-05-08 14:43:06.739 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 71.8128ms
2025-05-08 14:43:06.740 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.741 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.746 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 22.055ms
2025-05-08 14:43:06.741 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Payment/payments?pageSize=8&paymentId=1000000000 - 200 5605 application/json 51.5406ms
2025-05-08 14:43:06.747 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.748 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.749 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.756 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.758 +07:00 [INF] Response: 200
2025-05-08 14:43:06.759 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.762 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 64.4809ms
2025-05-08 14:43:06.760 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.764 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/2 - null null
2025-05-08 14:43:06.764 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.7649627Z"
2025-05-08 14:43:06.767 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.769 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/2
2025-05-08 14:43:06.771 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.771 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.774 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.772 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.773 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 25.2027ms
2025-05-08 14:43:06.775 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.777 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.778 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.780 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.782 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.785 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.782 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.779 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.788 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.7883949Z"
2025-05-08 14:43:06.789 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.791 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.792 +07:00 [INF] Response: 200
2025-05-08 14:43:06.793 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.798 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.800 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 24.5131ms
2025-05-08 14:43:06.796 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.801 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.808 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.805 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.804 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 2 at "2025-05-08T07:43:06.8045042Z"
2025-05-08 14:43:06.797 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 76.0069ms
2025-05-08 14:43:06.812 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.814 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.8146946Z"
2025-05-08 14:43:06.815 +07:00 [INF] Response: 200
2025-05-08 14:43:06.816 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.820 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.821 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.821 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 74.4028ms
2025-05-08 14:43:06.824 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 28.3213ms
2025-05-08 14:43:06.822 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 31.0858ms
2025-05-08 14:43:06.823 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.825 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.829 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.831 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.832 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.834 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.834 +07:00 [INF] Response: 200
2025-05-08 14:43:06.835 +07:00 [INF] Response: 200
2025-05-08 14:43:06.837 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.838 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.839 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 64.5792ms
2025-05-08 14:43:06.842 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.839 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/2 - 200 null application/json; charset=utf-8 75.9704ms
2025-05-08 14:43:06.840 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.848 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.8488980Z"
2025-05-08 14:43:06.852 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.853 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.855 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.856 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 18.9907ms
2025-05-08 14:43:06.857 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.858 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.859 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.864 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.865 +07:00 [INF] Response: 200
2025-05-08 14:43:06.867 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.8678181Z"
2025-05-08 14:43:06.868 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.868 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 67.3598ms
2025-05-08 14:43:06.869 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.870 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.873 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 17.7936ms
2025-05-08 14:43:06.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.874 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.876 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.878 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.880 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.881 +07:00 [INF] Response: 200
2025-05-08 14:43:06.881 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.882 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 57.5052ms
2025-05-08 14:43:06.883 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.884 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.889 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.891 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.8918613Z"
2025-05-08 14:43:06.893 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.894 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.897 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.897 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 17.3066ms
2025-05-08 14:43:06.899 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.903 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.9029983Z"
2025-05-08 14:43:06.904 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.907 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.907 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.908 +07:00 [INF] Response: 200
2025-05-08 14:43:06.909 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.911 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 53.8978ms
2025-05-08 14:43:06.910 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 17.0476ms
2025-05-08 14:43:06.911 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.912 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.917 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.919 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.920 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.921 +07:00 [INF] Response: 200
2025-05-08 14:43:06.922 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.924 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.924 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 49.8795ms
2025-05-08 14:43:06.928 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.925 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.936 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.9363440Z"
2025-05-08 14:43:06.937 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.938 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.940 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.942 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 18.176ms
2025-05-08 14:43:06.943 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.944 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.945 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.950 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.951 +07:00 [INF] Response: 200
2025-05-08 14:43:06.953 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.9539588Z"
2025-05-08 14:43:06.954 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.955 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 55.9224ms
2025-05-08 14:43:06.956 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.956 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.962 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 21.148ms
2025-05-08 14:43:06.963 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:06.963 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:06.964 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.966 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:06.968 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:06.968 +07:00 [INF] Response: 200
2025-05-08 14:43:06.969 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.971 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 59.202ms
2025-05-08 14:43:06.971 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:06.973 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:06.978 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:06.980 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:06.9807392Z"
2025-05-08 14:43:06.982 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:06.984 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.985 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 17.5575ms
2025-05-08 14:43:06.986 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:06.987 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:06.989 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:06.992 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:06.9920831Z"
2025-05-08 14:43:06.995 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:06.996 +07:00 [INF] Response: 200
2025-05-08 14:43:06.997 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:06.998 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:06.998 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 55.4095ms
2025-05-08 14:43:07.000 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 17.3829ms
2025-05-08 14:43:07.000 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:07.001 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:07.004 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:07.005 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:07.007 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:07.008 +07:00 [INF] Response: 200
2025-05-08 14:43:07.010 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:07.011 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.011 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 48.8202ms
2025-05-08 14:43:07.015 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:07.013 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:07.021 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:07.0212451Z"
2025-05-08 14:43:07.021 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:07.022 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:07.024 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:07.025 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 15.0642ms
2025-05-08 14:43:07.026 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:07.028 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:07.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:07.033 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:07.034 +07:00 [INF] Response: 200
2025-05-08 14:43:07.036 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:07.0366240Z"
2025-05-08 14:43:07.037 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.038 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 50.9179ms
2025-05-08 14:43:07.039 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:07.039 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:07.044 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 20.7688ms
2025-05-08 14:43:07.046 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:07.046 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - null null
2025-05-08 14:43:07.047 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:07.049 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:07.051 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/1
2025-05-08 14:43:07.052 +07:00 [INF] Response: 200
2025-05-08 14:43:07.054 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.055 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:07.057 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:07.055 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 54.2894ms
2025-05-08 14:43:07.061 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:07.0610533Z"
2025-05-08 14:43:07.061 +07:00 [INF] Route matched with {action = "ViewSubscriptionPlanById", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewSubscriptionPlanByIdAsync(Int32) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:07.065 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:07.067 +07:00 [INF] ViewSubscriptionPlanById API called.
2025-05-08 14:43:07.068 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 19.2467ms
2025-05-08 14:43:07.069 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:07.070 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:07.071 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:43:07.076 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:07.076 +07:00 [INF] Response: 200
2025-05-08 14:43:07.078 +07:00 [INF] ViewSubscriptionPlanById completed successfully for SubscriptionPlanId 1 at "2025-05-08T07:43:07.0787290Z"
2025-05-08 14:43:07.079 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.080 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 53.2391ms
2025-05-08 14:43:07.081 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:07.081 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:07.086 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:07.085 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API) in 17.889ms
2025-05-08 14:43:07.088 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:07.090 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewSubscriptionPlanByIdAsync (CinemaHub.API)'
2025-05-08 14:43:07.091 +07:00 [INF] Response: 200
2025-05-08 14:43:07.092 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/1 - 200 null application/json; charset=utf-8 46.7109ms
2025-05-08 14:43:07.093 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:07.099 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:07.0996896Z"
2025-05-08 14:43:07.100 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:07.101 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 12.7096ms
2025-05-08 14:43:07.102 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:07.102 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:07.103 +07:00 [INF] Response: 200
2025-05-08 14:43:07.107 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 37.6181ms
2025-05-08 14:43:07.107 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:07.110 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.110 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:07.111 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:07.113 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:07.116 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:07.121 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:07.1212594Z"
2025-05-08 14:43:07.122 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:07.123 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 10.0584ms
2025-05-08 14:43:07.124 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:07.125 +07:00 [INF] Response: 200
2025-05-08 14:43:07.126 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 23.8592ms
2025-05-08 14:43:07.613 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:43:07.613 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:07.616 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:07.619 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:07.620 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.620 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.620 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:07.621 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:07.622 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:07.623 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:07.627 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:43:07.630 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:43:07.631 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 5.917ms
2025-05-08 14:43:07.633 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:07.636 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:43:07.637 +07:00 [INF] Response: 200
2025-05-08 14:43:07.640 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:43:07.6406439Z"
2025-05-08 14:43:07.640 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 1113 application/json 27.7365ms
2025-05-08 14:43:07.642 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:07.646 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 15.6985ms
2025-05-08 14:43:07.647 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:07.648 +07:00 [INF] Response: 200
2025-05-08 14:43:07.649 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 36.0401ms
2025-05-08 14:43:07.972 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies-title - null null
2025-05-08 14:43:07.972 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:07.972 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Comment/comments?pageSize=8&commentId=1000000 - null null
2025-05-08 14:43:07.976 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies-title
2025-05-08 14:43:07.978 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:07.981 +07:00 [INF] Incoming Request: OPTIONS /api/Comment/comments
2025-05-08 14:43:07.982 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.983 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.983 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:07.984 +07:00 [INF] Response: 204
2025-05-08 14:43:07.985 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies-title - null null
2025-05-08 14:43:07.990 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies-title - null null
2025-05-08 14:43:07.987 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies-title - 204 null null 15.5299ms
2025-05-08 14:43:07.985 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:07.986 +07:00 [INF] Response: 204
2025-05-08 14:43:07.991 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/movies-title
2025-05-08 14:43:07.995 +07:00 [INF] Incoming Request: GET /api/Movie/movies-title
2025-05-08 14:43:07.999 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.002 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Comment/comments?pageSize=8&commentId=1000000 - null null
2025-05-08 14:43:08.002 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.001 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.000 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Comment/comments?pageSize=8&commentId=1000000 - 204 null null 28.17ms
2025-05-08 14:43:08.004 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:43:08.008 +07:00 [INF] Incoming Request: GET /api/Comment/comments
2025-05-08 14:43:08.009 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API)'
2025-05-08 14:43:08.015 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:43:08.015 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.009 +07:00 [INF] Response: 204
2025-05-08 14:43:08.022 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:43:08.0227758Z"
2025-05-08 14:43:08.023 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentsAsync (CinemaHub.API)'
2025-05-08 14:43:08.023 +07:00 [INF] Route matched with {action = "ViewAllMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovieTitle() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.024 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/movies-title - 204 null null 38.53ms
2025-05-08 14:43:08.026 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.030 +07:00 [INF] ViewAllMovieTitle API called.
2025-05-08 14:43:08.030 +07:00 [INF] Route matched with {action = "ViewAllComments", controller = "Comment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllCommentsAsync(Int32, System.String) on controller CinemaHub.API.Controllers.CommentController (CinemaHub.API).
2025-05-08 14:43:08.034 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 29.6128ms
2025-05-08 14:43:08.040 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:08.041 +07:00 [INF] ViewAllComments API called.
2025-05-08 14:43:08.041 +07:00 [INF] Response: 200
2025-05-08 14:43:08.042 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 70.2984ms
2025-05-08 14:43:08.045 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Title]
FROM [Movies] AS [m]
2025-05-08 14:43:08.051 +07:00 [INF] ViewAllMovieTitle completed successfully at "2025-05-08T07:43:08.0516172Z"
2025-05-08 14:43:08.052 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:08.053 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API) in 24.7523ms
2025-05-08 14:43:08.055 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies-title - null null
2025-05-08 14:43:08.056 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_1='?' (DbType = Int32), @__Parse_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(@__p_1) [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM [Comments] AS [c]
WHERE [c].[CommentID] < @__Parse_0
ORDER BY [c].[CommentID] DESC
2025-05-08 14:43:08.056 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API)'
2025-05-08 14:43:08.059 +07:00 [INF] Incoming Request: GET /api/Movie/movies-title
2025-05-08 14:43:08.062 +07:00 [INF] ViewAllComments completed successfully at "2025-05-08T07:43:08.0620354Z"
2025-05-08 14:43:08.062 +07:00 [INF] Response: 200
2025-05-08 14:43:08.063 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.064 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.Comment, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:08.065 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies-title - 200 null application/json; charset=utf-8 74.9165ms
2025-05-08 14:43:08.065 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API)'
2025-05-08 14:43:08.066 +07:00 [INF] Executed action CinemaHub.API.Controllers.CommentController.ViewAllCommentsAsync (CinemaHub.API) in 29.5574ms
2025-05-08 14:43:08.071 +07:00 [INF] Route matched with {action = "ViewAllMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovieTitle() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.072 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.CommentController.ViewAllCommentsAsync (CinemaHub.API)'
2025-05-08 14:43:08.074 +07:00 [INF] ViewAllMovieTitle API called.
2025-05-08 14:43:08.075 +07:00 [INF] Response: 200
2025-05-08 14:43:08.076 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Comment/comments?pageSize=8&commentId=1000000 - 200 null application/json; charset=utf-8 74.5055ms
2025-05-08 14:43:08.079 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Title]
FROM [Movies] AS [m]
2025-05-08 14:43:08.085 +07:00 [INF] ViewAllMovieTitle completed successfully at "2025-05-08T07:43:08.0859161Z"
2025-05-08 14:43:08.086 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:08.087 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API) in 13.0345ms
2025-05-08 14:43:08.087 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:43:08.090 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/134 - null null
2025-05-08 14:43:08.090 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/133 - null null
2025-05-08 14:43:08.090 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:43:08.090 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/114 - null null
2025-05-08 14:43:08.090 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.090 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:43:08.089 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API)'
2025-05-08 14:43:08.090 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:43:08.090 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Movie/121 - null null
2025-05-08 14:43:08.093 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/134
2025-05-08 14:43:08.095 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/133
2025-05-08 14:43:08.097 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/135
2025-05-08 14:43:08.100 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/114
2025-05-08 14:43:08.091 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/135
2025-05-08 14:43:08.107 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/movies-title - null null
2025-05-08 14:43:08.102 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.104 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/135
2025-05-08 14:43:08.105 +07:00 [INF] Response: 200
2025-05-08 14:43:08.107 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/135
2025-05-08 14:43:08.110 +07:00 [INF] Incoming Request: OPTIONS /api/Movie/121
2025-05-08 14:43:08.110 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.111 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.111 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.112 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.112 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.115 +07:00 [INF] Incoming Request: GET /api/Movie/movies-title
2025-05-08 14:43:08.115 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.115 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.116 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies-title - 200 null application/json; charset=utf-8 61.7763ms
2025-05-08 14:43:08.117 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.117 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.118 +07:00 [INF] Response: 204
2025-05-08 14:43:08.118 +07:00 [INF] Response: 204
2025-05-08 14:43:08.119 +07:00 [INF] Response: 204
2025-05-08 14:43:08.120 +07:00 [INF] Response: 204
2025-05-08 14:43:08.120 +07:00 [INF] Response: 204
2025-05-08 14:43:08.120 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.126 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/134 - 204 null null 35.6464ms
2025-05-08 14:43:08.130 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/114 - null null
2025-05-08 14:43:08.129 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:43:08.127 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/133 - 204 null null 36.9505ms
2025-05-08 14:43:08.129 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/134 - null null
2025-05-08 14:43:08.127 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - 204 null null 37.6997ms
2025-05-08 14:43:08.128 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/114 - 204 null null 37.9345ms
2025-05-08 14:43:08.129 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - 204 null null 41.7295ms
2025-05-08 14:43:08.121 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.121 +07:00 [INF] Response: 204
2025-05-08 14:43:08.129 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/133 - null null
2025-05-08 14:43:08.125 +07:00 [INF] Response: 204
2025-05-08 14:43:08.125 +07:00 [INF] Response: 204
2025-05-08 14:43:08.130 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API)'
2025-05-08 14:43:08.135 +07:00 [INF] Incoming Request: GET /api/Movie/114
2025-05-08 14:43:08.137 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:43:08.142 +07:00 [INF] Incoming Request: GET /api/Movie/134
2025-05-08 14:43:08.159 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/121 - null null
2025-05-08 14:43:08.158 +07:00 [INF] Route matched with {action = "ViewAllMovieTitle", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllMovieTitle() on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.153 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.154 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - 204 null null 63.7869ms
2025-05-08 14:43:08.156 +07:00 [INF] Incoming Request: GET /api/Movie/133
2025-05-08 14:43:08.157 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/135 - 204 null null 66.8715ms
2025-05-08 14:43:08.157 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Movie/121 - 204 null null 67.1238ms
2025-05-08 14:43:08.160 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.160 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.161 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.163 +07:00 [INF] Incoming Request: GET /api/Movie/121
2025-05-08 14:43:08.165 +07:00 [INF] ViewAllMovieTitle API called.
2025-05-08 14:43:08.168 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.171 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.178 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.183 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[Title]
FROM [Movies] AS [m]
2025-05-08 14:43:08.184 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.178 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.179 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.179 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.183 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.181 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.190 +07:00 [INF] ViewAllMovieTitle completed successfully at "2025-05-08T07:43:08.1903443Z"
2025-05-08 14:43:08.191 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:43:08.192 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.198 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:08.202 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:43:08.193 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.204 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API) in 38.8042ms
2025-05-08 14:43:08.208 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:43:08.194 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.201 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:43:08.211 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewAllMovieTitle (CinemaHub.API)'
2025-05-08 14:43:08.212 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.197 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.1972091Z"
2025-05-08 14:43:08.197 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.214 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:43:08.208 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:43:08.219 +07:00 [INF] Response: 200
2025-05-08 14:43:08.219 +07:00 [INF] ViewMovieById completed successfully for MovieId 114 at "2025-05-08T07:43:08.2198825Z"
2025-05-08 14:43:08.222 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:43:08.223 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.225 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:43:08.240 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:43:08.234 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/movies-title - 200 null application/json; charset=utf-8 127.0199ms
2025-05-08 14:43:08.245 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:43:08.235 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.230 +07:00 [INF] ViewMovieById completed successfully for MovieId 134 at "2025-05-08T07:43:08.2304536Z"
2025-05-08 14:43:08.238 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 70.6673ms
2025-05-08 14:43:08.240 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.240 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:43:08.2400560Z"
2025-05-08 14:43:08.249 +07:00 [INF] ViewMovieById completed successfully for MovieId 121 at "2025-05-08T07:43:08.2492775Z"
2025-05-08 14:43:08.259 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 67.9366ms
2025-05-08 14:43:08.260 +07:00 [INF] ViewMovieById completed successfully for MovieId 133 at "2025-05-08T07:43:08.2605249Z"
2025-05-08 14:43:08.260 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.262 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.266 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.268 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.270 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.272 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.271 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.275 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 67.2765ms
2025-05-08 14:43:08.275 +07:00 [INF] Response: 200
2025-05-08 14:43:08.278 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 76.1914ms
2025-05-08 14:43:08.276 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.279 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:43:08.280 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 58.1326ms
2025-05-08 14:43:08.281 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 56.0191ms
2025-05-08 14:43:08.282 +07:00 [INF] Response: 200
2025-05-08 14:43:08.283 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.284 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 193.7177ms
2025-05-08 14:43:08.286 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.287 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.291 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:43:08.292 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.293 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.294 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/114 - 200 null application/json; charset=utf-8 164.3415ms
2025-05-08 14:43:08.295 +07:00 [INF] Response: 200
2025-05-08 14:43:08.300 +07:00 [INF] Response: 200
2025-05-08 14:43:08.301 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.302 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.303 +07:00 [INF] Response: 200
2025-05-08 14:43:08.304 +07:00 [INF] Response: 200
2025-05-08 14:43:08.308 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/134 - 200 null application/json; charset=utf-8 179.3726ms
2025-05-08 14:43:08.309 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 179.8932ms
2025-05-08 14:43:08.311 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.311 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.312 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/121 - 200 null application/json; charset=utf-8 153.2745ms
2025-05-08 14:43:08.312 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/133 - 200 null application/json; charset=utf-8 182.93ms
2025-05-08 14:43:08.323 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.324 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.336 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:43:08.339 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.3392817Z"
2025-05-08 14:43:08.341 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.342 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:43:08.347 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.346 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 35.163ms
2025-05-08 14:43:08.354 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.355 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:43:08.3558086Z"
2025-05-08 14:43:08.355 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.356 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.358 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.359 +07:00 [INF] Response: 200
2025-05-08 14:43:08.360 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.364 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 124.0771ms
2025-05-08 14:43:08.365 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:43:08.363 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 27.2676ms
2025-05-08 14:43:08.365 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.372 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:43:08.373 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.375 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.375 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.377 +07:00 [INF] Response: 200
2025-05-08 14:43:08.379 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.380 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.380 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 101.4315ms
2025-05-08 14:43:08.384 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.386 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.3861914Z"
2025-05-08 14:43:08.392 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:43:08.393 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.395 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 20.487ms
2025-05-08 14:43:08.397 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.397 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:43:08.400 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.402 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.406 +07:00 [INF] Response: 200
2025-05-08 14:43:08.407 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.407 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 60.2638ms
2025-05-08 14:43:08.408 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.410 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:43:08.4101235Z"
2025-05-08 14:43:08.411 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.412 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.414 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.416 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 24.3097ms
2025-05-08 14:43:08.417 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Movie/135 - null null
2025-05-08 14:43:08.418 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.419 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.424 +07:00 [INF] Incoming Request: GET /api/Movie/135
2025-05-08 14:43:08.424 +07:00 [INF] Response: 200
2025-05-08 14:43:08.427 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.4275228Z"
2025-05-08 14:43:08.427 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.428 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 63.5327ms
2025-05-08 14:43:08.429 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.430 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.434 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 20.2194ms
2025-05-08 14:43:08.435 +07:00 [INF] Route matched with {action = "ViewMovieByIdFromAPI", controller = "Movie"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewMovieByIdFromAPIAsync(Int32) on controller CinemaHub.API.Controllers.MovieController (CinemaHub.API).
2025-05-08 14:43:08.435 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.437 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.439 +07:00 [INF] ViewMovieById API called.
2025-05-08 14:43:08.442 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.442 +07:00 [INF] Response: 200
2025-05-08 14:43:08.444 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.446 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt], [c].[CommentID], [c].[Content], [c].[CreatedAt], [c].[MovieID], [c].[Status], [c].[UserID]
FROM (
    SELECT TOP(1) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[MovieID] = @__id_0
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
LEFT JOIN [Comments] AS [c] ON [t].[MovieID] = [c].[MovieID]
ORDER BY [t].[MovieID], [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID], [w].[HistoryID]
2025-05-08 14:43:08.447 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.445 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 47.6641ms
2025-05-08 14:43:08.452 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.457 +07:00 [INF] ViewMovieById completed successfully for MovieId 135 at "2025-05-08T07:43:08.4572430Z"
2025-05-08 14:43:08.458 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.459 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Domain.Entities.Movie, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.463 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.464 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API) in 25.0882ms
2025-05-08 14:43:08.466 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.4669790Z"
2025-05-08 14:43:08.467 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieController.ViewMovieByIdFromAPIAsync (CinemaHub.API)'
2025-05-08 14:43:08.468 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.469 +07:00 [INF] Response: 200
2025-05-08 14:43:08.470 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 11.358ms
2025-05-08 14:43:08.470 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Movie/135 - 200 null application/json; charset=utf-8 53.2139ms
2025-05-08 14:43:08.471 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.475 +07:00 [INF] Response: 200
2025-05-08 14:43:08.477 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.477 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 42.0621ms
2025-05-08 14:43:08.478 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.482 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.483 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.485 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.488 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.493 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.4939437Z"
2025-05-08 14:43:08.495 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.496 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 10.4064ms
2025-05-08 14:43:08.497 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.497 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.500 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.501 +07:00 [INF] Response: 200
2025-05-08 14:43:08.501 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 30.9588ms
2025-05-08 14:43:08.503 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.506 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.508 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.511 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.516 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.5161063Z"
2025-05-08 14:43:08.517 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.518 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 10.3527ms
2025-05-08 14:43:08.519 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.520 +07:00 [INF] Response: 200
2025-05-08 14:43:08.523 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.524 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 27.2758ms
2025-05-08 14:43:08.524 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.527 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.528 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.530 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.533 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.537 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.5376995Z"
2025-05-08 14:43:08.538 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.540 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 9.906ms
2025-05-08 14:43:08.541 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.541 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.542 +07:00 [INF] Response: 200
2025-05-08 14:43:08.545 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.546 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 26.4473ms
2025-05-08 14:43:08.546 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.550 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.551 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.553 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.556 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.561 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.5615852Z"
2025-05-08 14:43:08.562 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.564 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 10.8367ms
2025-05-08 14:43:08.565 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.566 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.568 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.569 +07:00 [INF] Response: 200
2025-05-08 14:43:08.570 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.570 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 29.1697ms
2025-05-08 14:43:08.571 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.575 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.577 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.579 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.584 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.5844241Z"
2025-05-08 14:43:08.585 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.586 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 9.6256ms
2025-05-08 14:43:08.587 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.587 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.588 +07:00 [INF] Response: 200
2025-05-08 14:43:08.591 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 26.3834ms
2025-05-08 14:43:08.592 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.596 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.597 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.599 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.602 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.606 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.6069831Z"
2025-05-08 14:43:08.608 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.609 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 10.1715ms
2025-05-08 14:43:08.610 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.611 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.613 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.614 +07:00 [INF] Response: 200
2025-05-08 14:43:08.615 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.616 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 28.843ms
2025-05-08 14:43:08.616 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.620 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.622 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.625 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.630 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.6301578Z"
2025-05-08 14:43:08.631 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.632 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 9.8953ms
2025-05-08 14:43:08.633 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.633 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.634 +07:00 [INF] Response: 200
2025-05-08 14:43:08.636 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.637 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 27.2025ms
2025-05-08 14:43:08.638 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.641 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.641 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.644 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.647 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.652 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.6523543Z"
2025-05-08 14:43:08.653 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.656 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 11.7545ms
2025-05-08 14:43:08.657 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.658 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.662 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.663 +07:00 [INF] Response: 200
2025-05-08 14:43:08.664 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.665 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 31.5972ms
2025-05-08 14:43:08.666 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.670 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.673 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.677 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.683 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.6829967Z"
2025-05-08 14:43:08.684 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.686 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 12.7445ms
2025-05-08 14:43:08.687 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.688 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.693 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.694 +07:00 [INF] Response: 200
2025-05-08 14:43:08.695 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.696 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 38.8821ms
2025-05-08 14:43:08.697 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.701 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.704 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.708 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.712 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.7124800Z"
2025-05-08 14:43:08.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.715 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 11.0785ms
2025-05-08 14:43:08.717 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - null null
2025-05-08 14:43:08.718 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.720 +07:00 [INF] Incoming Request: GET /api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb
2025-05-08 14:43:08.722 +07:00 [INF] Response: 200
2025-05-08 14:43:08.723 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.723 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 35.9073ms
2025-05-08 14:43:08.724 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.730 +07:00 [INF] Route matched with {action = "ViewProfileById", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileById(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.732 +07:00 [INF] ViewProfileById API called.
2025-05-08 14:43:08.736 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__id_0
2025-05-08 14:43:08.742 +07:00 [INF] ViewProfileById completed successfully for UserId 65a15ea3-a2c7-4554-a280-2ffc0555e2fb at "2025-05-08T07:43:08.7422500Z"
2025-05-08 14:43:08.743 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.745 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API) in 13.089ms
2025-05-08 14:43:08.747 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileById (CinemaHub.API)'
2025-05-08 14:43:08.748 +07:00 [INF] Response: 200
2025-05-08 14:43:08.748 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/65a15ea3-a2c7-4554-a280-2ffc0555e2fb - 200 null application/json; charset=utf-8 31.5036ms
2025-05-08 14:43:08.962 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:43:08.962 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:08.965 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:43:08.969 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:08.969 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.970 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.971 +07:00 [INF] Response: 204
2025-05-08 14:43:08.972 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:08.973 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 10.7966ms
2025-05-08 14:43:08.974 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:08.974 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:43:08.980 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:43:08.983 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:43:08.984 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:08.985 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:08.986 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:43:08.990 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:43:08.992 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:43:08.9929702Z"
2025-05-08 14:43:08.996 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:43:08.998 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:08.999 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.1446ms
2025-05-08 14:43:09.000 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 19.9087ms
2025-05-08 14:43:09.002 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:09.003 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:09.004 +07:00 [INF] Response: 200
2025-05-08 14:43:09.005 +07:00 [INF] Response: 200
2025-05-08 14:43:09.006 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 31.8211ms
2025-05-08 14:43:09.007 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 44.7897ms
2025-05-08 14:43:09.736 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:09.738 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:09.739 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:09.740 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:09.741 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:09.743 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:43:09.747 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:43:09.752 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:43:09.7528152Z"
2025-05-08 14:43:09.754 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:09.755 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 12.3101ms
2025-05-08 14:43:09.757 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:09.758 +07:00 [INF] Response: 200
2025-05-08 14:43:09.759 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 23.6248ms
2025-05-08 14:43:10.031 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:43:10.035 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:43:10.234 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:43:10.234 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:10.238 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:43:10.241 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:10.242 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:10.243 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:10.243 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:10.245 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:10.246 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:43:10.247 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:10.252 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:43:10.256 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:43:10.257 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 7.1506ms
2025-05-08 14:43:10.260 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:10.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:43:10.265 +07:00 [INF] Response: 200
2025-05-08 14:43:10.269 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:43:10.2692980Z"
2025-05-08 14:43:10.270 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 35.3779ms
2025-05-08 14:43:10.271 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:10.276 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 20.3538ms
2025-05-08 14:43:10.278 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:10.280 +07:00 [INF] Response: 200
2025-05-08 14:43:10.281 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 46.4248ms
2025-05-08 14:43:19.249 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre - null null
2025-05-08 14:43:19.252 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre
2025-05-08 14:43:19.253 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:19.254 +07:00 [INF] Response: 204
2025-05-08 14:43:19.254 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre - 204 null null 5.8158ms
2025-05-08 14:43:19.256 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/MovieGenre - application/json 37
2025-05-08 14:43:19.261 +07:00 [INF] Incoming Request: POST /api/MovieGenre
2025-05-08 14:43:19.262 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:19.263 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.CreateNewGenre (CinemaHub.API)'
2025-05-08 14:43:19.268 +07:00 [INF] Route matched with {action = "CreateNewGenre", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewGenre(CinemaHub.Domain.Entities.MovieGenre) on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:43:19.274 +07:00 [INF] CreateNewGenre API called.
2025-05-08 14:43:19.284 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [MovieGenres] ([GenreName])
OUTPUT INSERTED.[GenreID]
VALUES (@p0);
2025-05-08 14:43:19.294 +07:00 [INF] CreateNewGenre completed successfully at "2025-05-08T07:43:19.2940567Z"
2025-05-08 14:43:19.294 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:19.296 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.CreateNewGenre (CinemaHub.API) in 26.4292ms
2025-05-08 14:43:19.297 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.CreateNewGenre (CinemaHub.API)'
2025-05-08 14:43:19.299 +07:00 [INF] Response: 200
2025-05-08 14:43:19.299 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/MovieGenre - 200 null application/json; charset=utf-8 43.5508ms
2025-05-08 14:43:19.326 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:43:19.329 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:43:19.330 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:19.331 +07:00 [INF] Response: 204
2025-05-08 14:43:19.332 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 6.1767ms
2025-05-08 14:43:19.333 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:43:19.339 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:43:19.340 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:19.341 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:19.343 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:43:19.347 +07:00 [INF] ViewAllGenres API called.
2025-05-08 14:43:19.353 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[GenreID], [m].[GenreName], [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t].[MovieID0], [t].[GenreID]
FROM [MovieGenres] AS [m]
LEFT JOIN (
    SELECT [m1].[MovieID], [m1].[Description], [m1].[Director], [m1].[Duration], [m1].[Language], [m1].[ReleaseDate], [m1].[Status], [m1].[Thumbnail], [m1].[Title], [m1].[TrailerURL], [m1].[UploadedBy], [m1].[VideoURL], [m0].[MovieID] AS [MovieID0], [m0].[GenreID]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [Movies] AS [m1] ON [m0].[MovieID] = [m1].[MovieID]
) AS [t] ON [m].[GenreID] = [t].[GenreID]
ORDER BY [m].[GenreID], [t].[MovieID0], [t].[GenreID]
2025-05-08 14:43:19.365 +07:00 [INF] ViewAllGenres completed successfully at "2025-05-08T07:43:19.3650868Z"
2025-05-08 14:43:19.366 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.MovieGenre, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:19.368 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 22.7ms
2025-05-08 14:43:19.369 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:19.371 +07:00 [INF] Response: 200
2025-05-08 14:43:19.372 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 null application/json; charset=utf-8 38.2822ms
2025-05-08 14:43:25.191 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre - null null
2025-05-08 14:43:25.194 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre
2025-05-08 14:43:25.195 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:25.195 +07:00 [INF] Response: 204
2025-05-08 14:43:25.196 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre - 204 null null 4.9239ms
2025-05-08 14:43:25.198 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7182/api/MovieGenre - application/json 44
2025-05-08 14:43:25.204 +07:00 [INF] Incoming Request: PUT /api/MovieGenre
2025-05-08 14:43:25.205 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:25.206 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.UpdateGenre (CinemaHub.API)'
2025-05-08 14:43:25.210 +07:00 [INF] Route matched with {action = "UpdateGenre", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateGenre(CinemaHub.Domain.Entities.MovieGenre) on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:43:25.215 +07:00 [INF] UpdateGenre API called.
2025-05-08 14:43:25.225 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[GenreID], [m].[GenreName]
FROM [MovieGenres] AS [m]
WHERE [m].[GenreID] = @__id_0
2025-05-08 14:43:25.235 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [MovieGenres] SET [GenreName] = @p0
OUTPUT 1
WHERE [GenreID] = @p1;
2025-05-08 14:43:25.239 +07:00 [INF] UpdateGenre completed successfully for GenreId 33 at "2025-05-08T07:43:25.2392781Z"
2025-05-08 14:43:25.240 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:25.241 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.UpdateGenre (CinemaHub.API) in 28.6964ms
2025-05-08 14:43:25.243 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.UpdateGenre (CinemaHub.API)'
2025-05-08 14:43:25.244 +07:00 [INF] Response: 200
2025-05-08 14:43:25.245 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7182/api/MovieGenre - 200 null application/json; charset=utf-8 47.2419ms
2025-05-08 14:43:25.272 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:43:25.275 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:43:25.275 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:25.276 +07:00 [INF] Response: 204
2025-05-08 14:43:25.277 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 5.4479ms
2025-05-08 14:43:25.278 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:43:25.284 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:43:25.285 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:25.285 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:25.286 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:43:25.289 +07:00 [INF] ViewAllGenres API called.
2025-05-08 14:43:25.295 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[GenreID], [m].[GenreName], [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t].[MovieID0], [t].[GenreID]
FROM [MovieGenres] AS [m]
LEFT JOIN (
    SELECT [m1].[MovieID], [m1].[Description], [m1].[Director], [m1].[Duration], [m1].[Language], [m1].[ReleaseDate], [m1].[Status], [m1].[Thumbnail], [m1].[Title], [m1].[TrailerURL], [m1].[UploadedBy], [m1].[VideoURL], [m0].[MovieID] AS [MovieID0], [m0].[GenreID]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [Movies] AS [m1] ON [m0].[MovieID] = [m1].[MovieID]
) AS [t] ON [m].[GenreID] = [t].[GenreID]
ORDER BY [m].[GenreID], [t].[MovieID0], [t].[GenreID]
2025-05-08 14:43:25.307 +07:00 [INF] ViewAllGenres completed successfully at "2025-05-08T07:43:25.3071583Z"
2025-05-08 14:43:25.308 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.MovieGenre, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:25.310 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 21.3756ms
2025-05-08 14:43:25.311 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:25.312 +07:00 [INF] Response: 200
2025-05-08 14:43:25.313 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 null application/json; charset=utf-8 34.9339ms
2025-05-08 14:43:27.298 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/33 - null null
2025-05-08 14:43:27.301 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/33
2025-05-08 14:43:27.302 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:27.303 +07:00 [INF] Response: 204
2025-05-08 14:43:27.304 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/33 - 204 null null 5.4719ms
2025-05-08 14:43:27.305 +07:00 [INF] Request starting HTTP/2 DELETE https://localhost:7182/api/MovieGenre/33 - null null
2025-05-08 14:43:27.310 +07:00 [INF] Incoming Request: DELETE /api/MovieGenre/33
2025-05-08 14:43:27.311 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:27.312 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.DeleteGenre (CinemaHub.API)'
2025-05-08 14:43:27.317 +07:00 [INF] Route matched with {action = "DeleteGenre", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DeleteGenre(Int32) on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:43:27.321 +07:00 [INF] RemoveGenre API called.
2025-05-08 14:43:27.327 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [m].[GenreID], [m].[GenreName]
FROM [MovieGenres] AS [m]
WHERE [m].[GenreID] = @__id_0
2025-05-08 14:43:27.344 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [MovieGenres]
OUTPUT 1
WHERE [GenreID] = @p0;
2025-05-08 14:43:27.352 +07:00 [INF] RemoveGenre completed successfully for GenreId 33 at "2025-05-08T07:43:27.3526027Z"
2025-05-08 14:43:27.354 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:27.355 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.DeleteGenre (CinemaHub.API) in 35.2114ms
2025-05-08 14:43:27.356 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.DeleteGenre (CinemaHub.API)'
2025-05-08 14:43:27.357 +07:00 [INF] Response: 200
2025-05-08 14:43:27.358 +07:00 [INF] Request finished HTTP/2 DELETE https://localhost:7182/api/MovieGenre/33 - 200 null application/json; charset=utf-8 52.5943ms
2025-05-08 14:43:27.382 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:43:27.386 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:43:27.387 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:27.388 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:27.389 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:43:27.392 +07:00 [INF] ViewAllGenres API called.
2025-05-08 14:43:27.397 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [m].[GenreID], [m].[GenreName], [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t].[MovieID0], [t].[GenreID]
FROM [MovieGenres] AS [m]
LEFT JOIN (
    SELECT [m1].[MovieID], [m1].[Description], [m1].[Director], [m1].[Duration], [m1].[Language], [m1].[ReleaseDate], [m1].[Status], [m1].[Thumbnail], [m1].[Title], [m1].[TrailerURL], [m1].[UploadedBy], [m1].[VideoURL], [m0].[MovieID] AS [MovieID0], [m0].[GenreID]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [Movies] AS [m1] ON [m0].[MovieID] = [m1].[MovieID]
) AS [t] ON [m].[GenreID] = [t].[GenreID]
ORDER BY [m].[GenreID], [t].[MovieID0], [t].[GenreID]
2025-05-08 14:43:27.409 +07:00 [INF] ViewAllGenres completed successfully at "2025-05-08T07:43:27.4090624Z"
2025-05-08 14:43:27.410 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.MovieGenre, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:27.412 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 21.2894ms
2025-05-08 14:43:27.413 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:43:27.415 +07:00 [INF] Response: 200
2025-05-08 14:43:27.415 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 null application/json; charset=utf-8 32.8605ms
2025-05-08 14:43:35.748 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 14:43:35.748 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:35.748 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:43:35.751 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:43:35.754 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:35.757 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:35.758 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:35.759 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:35.760 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:35.761 +07:00 [INF] Response: 204
2025-05-08 14:43:35.761 +07:00 [INF] Response: 204
2025-05-08 14:43:35.762 +07:00 [INF] Response: 204
2025-05-08 14:43:35.762 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 14.5364ms
2025-05-08 14:43:35.765 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:43:35.763 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 15.2075ms
2025-05-08 14:43:35.764 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 14:43:35.764 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 204 null null 15.9741ms
2025-05-08 14:43:35.765 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:43:35.772 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:43:35.778 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:43:35.784 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:43:35.785 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:35.785 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:35.786 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:43:35.787 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:35.787 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:43:35.788 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:35.789 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:43:35.790 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:43:35.795 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:43:35.791 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:43:35.799 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 5.8935ms
2025-05-08 14:43:35.798 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:43:35.801 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:43:35.803 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:43:35.805 +07:00 [INF] Response: 200
2025-05-08 14:43:35.807 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:43:35.809 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 1113 application/json 43.6243ms
2025-05-08 14:43:35.807 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:43:35.815 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:43:35.8153355Z"
2025-05-08 14:43:35.822 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:43:35.822 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:43:35.827 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:43:35.828 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 26.4046ms
2025-05-08 14:43:35.831 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T07:43:35.8313209Z"
2025-05-08 14:43:35.832 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:43:35.833 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:43:35.834 +07:00 [INF] Response: 200
2025-05-08 14:43:35.836 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 37.894ms
2025-05-08 14:43:35.837 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 71.3795ms
2025-05-08 14:43:35.838 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:43:35.841 +07:00 [INF] Response: 200
2025-05-08 14:43:35.842 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 78.0778ms
2025-05-08 14:44:10.096 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:44:10.099 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:44:18.660 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan - null null
2025-05-08 14:44:18.664 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan
2025-05-08 14:44:18.664 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:18.666 +07:00 [INF] Response: 204
2025-05-08 14:44:18.667 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan - 204 null null 6.7434ms
2025-05-08 14:44:18.668 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/SubscriptionPlan - application/json 108
2025-05-08 14:44:18.672 +07:00 [INF] Incoming Request: POST /api/SubscriptionPlan
2025-05-08 14:44:18.673 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:18.674 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.CreateNewSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:44:18.679 +07:00 [INF] Route matched with {action = "CreateNewSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateNewSubscriptionPlanAsync(CinemaHub.API.Models.SubscriptionPlanModel) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:44:18.684 +07:00 [INF] CreateNewSubscriptionPlan API called.
2025-05-08 14:44:18.697 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 255), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [SubscriptionPlans] ([CreatedAt], [Description], [Duration], [IsActive], [PlanName], [Price])
OUTPUT INSERTED.[PlanID]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-05-08 14:44:18.704 +07:00 [INF] CreateNewSubscriptionPlan completed successfully at "2025-05-08T07:44:18.7044458Z"
2025-05-08 14:44:18.705 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:18.706 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.CreateNewSubscriptionPlanAsync (CinemaHub.API) in 24.2517ms
2025-05-08 14:44:18.708 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.CreateNewSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:44:18.709 +07:00 [INF] Response: 200
2025-05-08 14:44:18.711 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/SubscriptionPlan - 200 null application/json; charset=utf-8 42.5066ms
2025-05-08 14:44:18.758 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:44:18.761 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:44:18.762 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:18.763 +07:00 [INF] Response: 204
2025-05-08 14:44:18.764 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 204 null null 6.1721ms
2025-05-08 14:44:18.765 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:44:18.771 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:44:18.772 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:18.773 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:44:18.774 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:44:18.778 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:44:18.782 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:44:18.786 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:44:18.7861454Z"
2025-05-08 14:44:18.787 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:18.789 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 12.3863ms
2025-05-08 14:44:18.790 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:44:18.791 +07:00 [INF] Response: 200
2025-05-08 14:44:18.791 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 null application/json; charset=utf-8 26.3786ms
2025-05-08 14:44:19.834 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plan-pending - null null
2025-05-08 14:44:19.838 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plan-pending
2025-05-08 14:44:19.838 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:19.839 +07:00 [INF] Response: 204
2025-05-08 14:44:19.840 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plan-pending - 204 null null 6.6987ms
2025-05-08 14:44:19.842 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plan-pending - null null
2025-05-08 14:44:19.846 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plan-pending
2025-05-08 14:44:19.847 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:19.848 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanPendingAsync (CinemaHub.API)'
2025-05-08 14:44:19.851 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlanPending", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanPendingAsync() on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:44:19.858 +07:00 [INF] ViewAllSubscriptionPlanPending API called.
2025-05-08 14:44:19.868 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] IS NULL
2025-05-08 14:44:19.871 +07:00 [INF] ViewAllSubscriptionPlanPending completed successfully at "2025-05-08T07:44:19.8711246Z"
2025-05-08 14:44:19.873 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:19.875 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanPendingAsync (CinemaHub.API) in 20.3899ms
2025-05-08 14:44:19.876 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanPendingAsync (CinemaHub.API)'
2025-05-08 14:44:19.877 +07:00 [INF] Response: 200
2025-05-08 14:44:19.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plan-pending - 200 null application/json; charset=utf-8 35.6278ms
2025-05-08 14:44:32.924 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/moderation/25 - null null
2025-05-08 14:44:32.928 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/moderation/25
2025-05-08 14:44:32.929 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:32.929 +07:00 [INF] Response: 204
2025-05-08 14:44:32.930 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/moderation/25 - 204 null null 6.5116ms
2025-05-08 14:44:32.931 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7182/api/SubscriptionPlan/moderation/25 - application/json 27
2025-05-08 14:44:32.937 +07:00 [INF] Incoming Request: PUT /api/SubscriptionPlan/moderation/25
2025-05-08 14:44:32.938 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:32.938 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.CheckSubscriptionPlanAfterCreateAsync (CinemaHub.API)'
2025-05-08 14:44:32.942 +07:00 [INF] Route matched with {action = "CheckSubscriptionPlanAfterCreate", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CheckSubscriptionPlanAfterCreateAsync(Int32, Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:44:32.946 +07:00 [INF] CheckSubscriptionPlanAfterCreate API called.
2025-05-08 14:44:32.952 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__plainId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[PlanID] = @__plainId_0
2025-05-08 14:44:32.959 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = 4000), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (Size = 255), @p5='?' (Precision = 10) (Scale = 2) (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [SubscriptionPlans] SET [CreatedAt] = @p0, [Description] = @p1, [Duration] = @p2, [IsActive] = @p3, [PlanName] = @p4, [Price] = @p5
OUTPUT 1
WHERE [PlanID] = @p6;
2025-05-08 14:44:32.964 +07:00 [INF] CheckSubscriptionPlanAfterCreate completed successfully at "2025-05-08T07:44:32.9645650Z"
2025-05-08 14:44:32.965 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:32.966 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.CheckSubscriptionPlanAfterCreateAsync (CinemaHub.API) in 21.6638ms
2025-05-08 14:44:32.968 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.CheckSubscriptionPlanAfterCreateAsync (CinemaHub.API)'
2025-05-08 14:44:32.969 +07:00 [INF] Response: 200
2025-05-08 14:44:32.970 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7182/api/SubscriptionPlan/moderation/25 - 200 null application/json; charset=utf-8 38.2559ms
2025-05-08 14:44:33.004 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plan-pending - null null
2025-05-08 14:44:33.009 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plan-pending
2025-05-08 14:44:33.010 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:33.011 +07:00 [INF] Response: 204
2025-05-08 14:44:33.012 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plan-pending - 204 null null 7.4101ms
2025-05-08 14:44:33.013 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plan-pending - null null
2025-05-08 14:44:33.019 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plan-pending
2025-05-08 14:44:33.020 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:33.021 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanPendingAsync (CinemaHub.API)'
2025-05-08 14:44:33.022 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlanPending", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanPendingAsync() on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:44:33.025 +07:00 [INF] ViewAllSubscriptionPlanPending API called.
2025-05-08 14:44:33.029 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] IS NULL
2025-05-08 14:44:33.034 +07:00 [WRN] ViewAllSubscriptionPlanPending attempt failed - SubscriptionPlan not found
2025-05-08 14:44:33.035 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:33.036 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanPendingAsync (CinemaHub.API) in 13.169ms
2025-05-08 14:44:33.037 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanPendingAsync (CinemaHub.API)'
2025-05-08 14:44:33.039 +07:00 [INF] Response: 400
2025-05-08 14:44:33.039 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plan-pending - 400 null application/json; charset=utf-8 26.3149ms
2025-05-08 14:44:34.285 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:44:34.289 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:44:34.289 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:34.290 +07:00 [INF] Response: 204
2025-05-08 14:44:34.291 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 204 null null 6.388ms
2025-05-08 14:44:34.292 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - null null
2025-05-08 14:44:34.298 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:44:34.299 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:34.299 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:44:34.300 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:44:34.304 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:44:34.308 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:44:34.311 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:44:34.3115236Z"
2025-05-08 14:44:34.313 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:34.314 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 11.0077ms
2025-05-08 14:44:34.315 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:44:34.316 +07:00 [INF] Response: 200
2025-05-08 14:44:34.317 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=false - 200 null application/json; charset=utf-8 24.9035ms
2025-05-08 14:44:41.871 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:44:41.874 +07:00 [INF] Incoming Request: OPTIONS /api/SubscriptionPlan/subscription-plans
2025-05-08 14:44:41.875 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:41.875 +07:00 [INF] Response: 204
2025-05-08 14:44:41.876 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 204 null null 4.5485ms
2025-05-08 14:44:41.877 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - null null
2025-05-08 14:44:41.883 +07:00 [INF] Incoming Request: GET /api/SubscriptionPlan/subscription-plans
2025-05-08 14:44:41.884 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:41.884 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:44:41.885 +07:00 [INF] Route matched with {action = "ViewAllSubscriptionPlan", controller = "SubscriptionPlan"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllSubscriptionPlanAsync(Boolean) on controller CinemaHub.API.Controllers.SubscriptionPlanController (CinemaHub.API).
2025-05-08 14:44:41.887 +07:00 [INF] ViewAllSubscriptionPlan API called.
2025-05-08 14:44:41.891 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__status_0='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[PlanID], [s].[CreatedAt], [s].[Description], [s].[Duration], [s].[IsActive], [s].[PlanName], [s].[Price]
FROM [SubscriptionPlans] AS [s]
WHERE [s].[IsActive] = @__status_0
ORDER BY [s].[Duration]
2025-05-08 14:44:41.894 +07:00 [INF] ViewAllSubscriptionPlan completed successfully at "2025-05-08T07:44:41.8946414Z"
2025-05-08 14:44:41.895 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Domain.Entities.SubscriptionPlan, CinemaHub.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:41.897 +07:00 [INF] Executed action CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API) in 10.0456ms
2025-05-08 14:44:41.898 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.SubscriptionPlanController.ViewAllSubscriptionPlanAsync (CinemaHub.API)'
2025-05-08 14:44:41.899 +07:00 [INF] Response: 200
2025-05-08 14:44:41.900 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/SubscriptionPlan/subscription-plans?status=true - 200 null application/json; charset=utf-8 22.6072ms
2025-05-08 14:44:43.242 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:44:43.242 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 14:44:43.242 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:44:43.245 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:44:43.248 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:44:43.251 +07:00 [INF] Incoming Request: OPTIONS /api/MovieGenre/genres
2025-05-08 14:44:43.252 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:43.253 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:43.253 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:43.254 +07:00 [INF] Response: 204
2025-05-08 14:44:43.255 +07:00 [INF] Response: 204
2025-05-08 14:44:43.256 +07:00 [INF] Response: 204
2025-05-08 14:44:43.256 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 14.9663ms
2025-05-08 14:44:43.257 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 15.5664ms
2025-05-08 14:44:43.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:44:43.259 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 14:44:43.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:44:43.258 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/MovieGenre/genres - 204 null null 16.2271ms
2025-05-08 14:44:43.273 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:44:43.275 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:44:43.278 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:44:43.282 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:43.283 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:43.283 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:43.284 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:44:43.284 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:44:43.285 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:44:43.286 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:44:43.287 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:44:43.288 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:44:43.290 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:44:43.294 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:44:43.297 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:44:43.300 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 4.1821ms
2025-05-08 14:44:43.303 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:44:43.301 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:44:43.302 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - null null
2025-05-08 14:44:43.304 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:44:43.313 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:44:43.316 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:44:43.3165977Z"
2025-05-08 14:44:43.318 +07:00 [INF] Incoming Request: GET /api/MovieGenre/genres
2025-05-08 14:44:43.319 +07:00 [INF] Response: 200
2025-05-08 14:44:43.323 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:44:43.323 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:44:43.323 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:43.324 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 63.8103ms
2025-05-08 14:44:43.325 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 35.4011ms
2025-05-08 14:44:43.328 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T07:44:43.3281627Z"
2025-05-08 14:44:43.328 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:44:43.334 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:44:43.335 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:43.336 +07:00 [INF] Route matched with {action = "ViewAllGenres", controller = "MovieGenre"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAllGenres() on controller CinemaHub.API.Controllers.MovieGenreController (CinemaHub.API).
2025-05-08 14:44:43.337 +07:00 [INF] Response: 200
2025-05-08 14:44:43.339 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 45.7607ms
2025-05-08 14:44:43.343 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 83.1424ms
2025-05-08 14:44:43.343 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:44:43.345 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:44:43.349 +07:00 [INF] Executed action CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API) in 7.3804ms
2025-05-08 14:44:43.350 +07:00 [INF] Response: 200
2025-05-08 14:44:43.351 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.MovieGenreController.ViewAllGenres (CinemaHub.API)'
2025-05-08 14:44:43.352 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 93.3918ms
2025-05-08 14:44:43.353 +07:00 [INF] Response: 200
2025-05-08 14:44:43.358 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/MovieGenre/genres - 200 970 application/json 56.674ms
2025-05-08 14:44:45.243 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:44:45.243 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:44:45.246 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:44:45.249 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:44:45.250 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.251 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.251 +07:00 [INF] Response: 204
2025-05-08 14:44:45.252 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:44:45.253 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 9.4922ms
2025-05-08 14:44:45.255 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:44:45.254 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:44:45.260 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:44:45.262 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:44:45.262 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.263 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:45.265 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:44:45.270 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:44:45.2702672Z"
2025-05-08 14:44:45.270 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:44:45.271 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:44:45.275 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 12.9433ms
2025-05-08 14:44:45.278 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:44:45.279 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:44:45.279 +07:00 [INF] Response: 200
2025-05-08 14:44:45.281 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 37.3296ms
2025-05-08 14:44:45.287 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:44:45.292 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:44:45.297 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:44:45.2978229Z"
2025-05-08 14:44:45.302 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:45.304 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 30.7493ms
2025-05-08 14:44:45.305 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:45.306 +07:00 [INF] Response: 200
2025-05-08 14:44:45.307 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 51.6826ms
2025-05-08 14:44:45.341 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:44:45.344 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:44:45.345 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.345 +07:00 [INF] Response: 204
2025-05-08 14:44:45.346 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 4.8835ms
2025-05-08 14:44:45.348 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:44:45.353 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:44:45.354 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.354 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:45.355 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:44:45.358 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:44:45.363 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:44:45.367 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:44:45.370 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:44:45.3702491Z"
2025-05-08 14:44:45.372 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:45.373 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.7891ms
2025-05-08 14:44:45.374 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:45.375 +07:00 [INF] Response: 200
2025-05-08 14:44:45.375 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 27.6483ms
2025-05-08 14:44:45.414 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:44:45.416 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:44:45.417 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.417 +07:00 [INF] Response: 204
2025-05-08 14:44:45.418 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 4.8664ms
2025-05-08 14:44:45.419 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:44:45.424 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:44:45.425 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.425 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:45.427 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:44:45.429 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:44:45.434 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:44:45.438 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:44:45.440 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:44:45.4406413Z"
2025-05-08 14:44:45.442 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:45.443 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.8001ms
2025-05-08 14:44:45.444 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:45.445 +07:00 [INF] Response: 200
2025-05-08 14:44:45.446 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 26.1364ms
2025-05-08 14:44:45.484 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:44:45.486 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:44:45.487 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.487 +07:00 [INF] Response: 204
2025-05-08 14:44:45.488 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 4.5477ms
2025-05-08 14:44:45.489 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:44:45.494 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:44:45.495 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:45.496 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:45.497 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:44:45.500 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:44:45.506 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:44:45.510 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:44:45.513 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:44:45.514 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:45.515 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.474ms
2025-05-08 14:44:45.516 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:45.517 +07:00 [INF] Response: 400
2025-05-08 14:44:45.518 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 28.8451ms
2025-05-08 14:44:47.135 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:44:47.138 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:44:47.139 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:47.140 +07:00 [INF] Response: 204
2025-05-08 14:44:47.141 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.6279ms
2025-05-08 14:44:47.144 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:44:47.148 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:44:47.149 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:47.150 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:47.151 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:44:47.155 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:44:47.160 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:44:47.165 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:44:47.168 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:44:47.1684196Z"
2025-05-08 14:44:47.170 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:47.172 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.1912ms
2025-05-08 14:44:47.173 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:47.174 +07:00 [INF] Response: 200
2025-05-08 14:44:47.175 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 31.1847ms
2025-05-08 14:44:47.210 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:44:47.214 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:44:47.214 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:47.215 +07:00 [INF] Response: 204
2025-05-08 14:44:47.216 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.2541ms
2025-05-08 14:44:47.217 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:44:47.223 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:44:47.224 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:44:47.224 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:47.226 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:44:47.229 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:44:47.234 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:44:47.238 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:44:47.242 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:44:47.244 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:44:47.245 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.8245ms
2025-05-08 14:44:47.246 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:44:47.247 +07:00 [INF] Response: 400
2025-05-08 14:44:47.248 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 30.5955ms
2025-05-08 14:45:10.156 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:45:10.161 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:45:34.989 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:45:34.993 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:45:34.994 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:45:34.995 +07:00 [INF] Response: 204
2025-05-08 14:45:34.996 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 6.3583ms
2025-05-08 14:45:34.997 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 14:45:35.004 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:45:35.005 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:45:35.005 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:45:35.009 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:45:35.019 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:45:35.026 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:45:35.151 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 14:45:35.160 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:45:35.177 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 256), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AccountLockUntil], [Balance], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [OtpCode], [OtpExpiration], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfilePicture], [SecurityStamp], [Status], [TwoFactorEnabled], [UserName], [ViolationCount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-05-08 14:45:35.196 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-08 14:45:35.204 +07:00 [WRN] Role 6e5519ba-490d-4d96-bb72-34e994c45ff1 validation failed: DuplicateRoleName.
2025-05-08 14:45:35.210 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:45:35.229 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-05-08 14:45:35.235 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:45:35.245 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 14:45:35.251 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:45:35.277 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p25='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 4000), @p26='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (Size = 256), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [AccountLockUntil] = @p3, [Balance] = @p4, [ConcurrencyStamp] = @p5, [CreatedAt] = @p6, [Email] = @p7, [EmailConfirmed] = @p8, [FullName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [OtpCode] = @p14, [OtpExpiration] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [ProfilePicture] = @p19, [SecurityStamp] = @p20, [Status] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23, [ViolationCount] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2025-05-08 14:45:35.289 +07:00 [INF] SignUpStaff completed successfully for Email hongthu6262@gmail.com at "2025-05-08T07:45:35.2895257Z"
2025-05-08 14:45:35.290 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[Microsoft.AspNetCore.Identity.IdentityResult, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-05-08 14:45:35.294 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 282.9175ms
2025-05-08 14:45:35.295 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:45:35.296 +07:00 [INF] Response: 200
2025-05-08 14:45:35.297 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 200 null application/json; charset=utf-8 299.7351ms
2025-05-08 14:45:37.566 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 14:45:37.570 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:45:37.571 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:45:37.572 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:45:37.573 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:45:37.576 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:45:37.580 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:45:37.586 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 14:45:37.587 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:45:37.589 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 13.2462ms
2025-05-08 14:45:37.590 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:45:37.591 +07:00 [INF] Response: 400
2025-05-08 14:45:37.592 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 26.7042ms
2025-05-08 14:45:45.785 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:45:45.789 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:45:45.789 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:45:45.790 +07:00 [INF] Response: 204
2025-05-08 14:45:45.791 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 6.1238ms
2025-05-08 14:45:45.792 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 14:45:45.798 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:45:45.799 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:45:45.800 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:45:45.801 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:45:45.804 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:45:45.808 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:45:45.816 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 14:45:45.819 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:45:45.821 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 17.1954ms
2025-05-08 14:45:45.822 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:45:45.824 +07:00 [INF] Response: 400
2025-05-08 14:45:45.824 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 32.0386ms
2025-05-08 14:46:10.215 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:46:10.218 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:02.620 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:47:02.623 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:47:02.623 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:02.624 +07:00 [INF] Response: 204
2025-05-08 14:47:02.625 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 4.9814ms
2025-05-08 14:47:02.626 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 14:47:02.632 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:47:02.633 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:02.634 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:47:02.635 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:47:02.637 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:47:02.641 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:47:02.645 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 14:47:02.646 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:02.647 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 10.368ms
2025-05-08 14:47:02.649 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:47:02.650 +07:00 [INF] Response: 400
2025-05-08 14:47:02.651 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 24.6707ms
2025-05-08 14:47:10.277 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:47:10.281 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:31.423 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:47:31.427 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:47:31.428 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:31.428 +07:00 [INF] Response: 204
2025-05-08 14:47:31.429 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.3264ms
2025-05-08 14:47:31.431 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:47:31.436 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:47:31.436 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:31.437 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:31.439 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:47:31.442 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:47:31.446 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:47:31.451 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:31.454 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:47:31.4548159Z"
2025-05-08 14:47:31.456 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:31.458 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.78ms
2025-05-08 14:47:31.459 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:31.460 +07:00 [INF] Response: 200
2025-05-08 14:47:31.461 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 29.7685ms
2025-05-08 14:47:31.524 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:47:31.526 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:47:31.527 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:31.528 +07:00 [INF] Response: 204
2025-05-08 14:47:31.528 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 4.4925ms
2025-05-08 14:47:31.529 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:47:31.533 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:47:31.534 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:31.535 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:31.536 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:47:31.539 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:47:31.542 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:47:31.546 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:31.548 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:47:31.5485080Z"
2025-05-08 14:47:31.549 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:31.551 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 12.8735ms
2025-05-08 14:47:31.552 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:31.553 +07:00 [INF] Response: 200
2025-05-08 14:47:31.553 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 24.0509ms
2025-05-08 14:47:31.721 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:47:31.723 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:47:31.724 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:31.724 +07:00 [INF] Response: 204
2025-05-08 14:47:31.725 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 4.3109ms
2025-05-08 14:47:31.727 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:47:31.731 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:47:31.732 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:31.733 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:31.734 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:47:31.738 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:47:31.741 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:47:31.745 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:31.748 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:47:31.749 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:31.750 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.031ms
2025-05-08 14:47:31.752 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:31.752 +07:00 [INF] Response: 400
2025-05-08 14:47:31.753 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 26.5614ms
2025-05-08 14:47:34.176 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:47:34.180 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:47:34.181 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:34.181 +07:00 [INF] Response: 204
2025-05-08 14:47:34.182 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 6.1461ms
2025-05-08 14:47:34.183 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 14:47:34.186 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:47:34.187 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:34.187 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:47:34.188 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:47:34.190 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:47:34.194 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:47:34.201 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 14:47:34.203 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:34.205 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 15.0241ms
2025-05-08 14:47:34.206 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:47:34.207 +07:00 [INF] Response: 400
2025-05-08 14:47:34.208 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 24.6321ms
2025-05-08 14:47:35.348 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 14:47:35.351 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:47:35.353 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:35.354 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:47:35.355 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:47:35.357 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:47:35.361 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:47:35.365 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 14:47:35.367 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:35.368 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 11.2769ms
2025-05-08 14:47:35.370 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:47:35.370 +07:00 [INF] Response: 400
2025-05-08 14:47:35.372 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 23.7284ms
2025-05-08 14:47:38.201 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 14:47:38.204 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:47:38.204 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:38.205 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:47:38.206 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:47:38.208 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:47:38.212 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:47:38.216 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 14:47:38.217 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:38.219 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 10.8039ms
2025-05-08 14:47:38.220 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:47:38.221 +07:00 [INF] Response: 400
2025-05-08 14:47:38.222 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 21.8292ms
2025-05-08 14:47:58.565 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 14:47:58.566 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:47:58.569 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:47:58.572 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:47:58.573 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:47:58.573 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.574 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.581 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:47:58.581 +07:00 [INF] Response: 204
2025-05-08 14:47:58.582 +07:00 [INF] Response: 204
2025-05-08 14:47:58.583 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.583 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 17.7354ms
2025-05-08 14:47:58.584 +07:00 [INF] Response: 204
2025-05-08 14:47:58.586 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:47:58.593 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 20.7706ms
2025-05-08 14:47:58.584 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 17.7403ms
2025-05-08 14:47:58.585 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 14:47:58.595 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:47:58.597 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:47:58.611 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:47:58.614 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:47:58.614 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.615 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.617 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.618 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:47:58.619 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:47:58.619 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:58.620 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:47:58.621 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:47:58.622 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:47:58.625 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:47:58.626 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:47:58.630 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:47:58.634 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:47:58.636 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:47:58.643 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:47:58.6433681Z"
2025-05-08 14:47:58.651 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:47:58.651 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:47:58.655 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.7151ms
2025-05-08 14:47:58.657 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:47:58.665 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:47:58.665 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:58.669 +07:00 [INF] Response: 200
2025-05-08 14:47:58.670 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:47:58.672 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 86.5469ms
2025-05-08 14:47:58.673 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:47:58.6731737Z"
2025-05-08 14:47:58.674 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T07:47:58.6749019Z"
2025-05-08 14:47:58.678 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:58.679 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:58.680 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 51.5111ms
2025-05-08 14:47:58.681 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 54.4017ms
2025-05-08 14:47:58.682 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:58.682 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:47:58.683 +07:00 [INF] Response: 200
2025-05-08 14:47:58.684 +07:00 [INF] Response: 200
2025-05-08 14:47:58.685 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 90.0093ms
2025-05-08 14:47:58.686 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 100.6136ms
2025-05-08 14:47:58.854 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:47:58.856 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:47:58.857 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.858 +07:00 [INF] Response: 204
2025-05-08 14:47:58.858 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 4.5581ms
2025-05-08 14:47:58.861 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:47:58.864 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:47:58.864 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.865 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:58.866 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:47:58.869 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:47:58.873 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:47:58.877 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:58.880 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:47:58.8802373Z"
2025-05-08 14:47:58.881 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:58.883 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.8846ms
2025-05-08 14:47:58.884 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:58.885 +07:00 [INF] Response: 200
2025-05-08 14:47:58.886 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 24.7396ms
2025-05-08 14:47:58.957 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:47:58.960 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:47:58.961 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.961 +07:00 [INF] Response: 204
2025-05-08 14:47:58.962 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 4.5833ms
2025-05-08 14:47:58.964 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:47:58.967 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:47:58.968 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:58.969 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:58.971 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:47:58.974 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:47:58.980 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:47:58.984 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:58.986 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:47:58.9869101Z"
2025-05-08 14:47:58.988 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:58.989 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.3298ms
2025-05-08 14:47:58.991 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:58.991 +07:00 [INF] Response: 200
2025-05-08 14:47:58.992 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 28.1704ms
2025-05-08 14:47:59.059 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:47:59.062 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:47:59.063 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:59.064 +07:00 [INF] Response: 204
2025-05-08 14:47:59.064 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 5.6643ms
2025-05-08 14:47:59.066 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:47:59.070 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:47:59.070 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:47:59.071 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:59.072 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:47:59.075 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:47:59.079 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:47:59.083 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:47:59.086 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:47:59.088 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:47:59.089 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.5394ms
2025-05-08 14:47:59.091 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:47:59.092 +07:00 [INF] Response: 400
2025-05-08 14:47:59.092 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 26.3845ms
2025-05-08 14:48:06.511 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:48:06.514 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:48:06.514 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:48:06.515 +07:00 [INF] Response: 204
2025-05-08 14:48:06.516 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.0111ms
2025-05-08 14:48:06.517 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:48:06.523 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:48:06.524 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:48:06.525 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:48:06.526 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:48:06.530 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:48:06.531 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.1888ms
2025-05-08 14:48:06.533 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:48:06.534 +07:00 [INF] Response: 200
2025-05-08 14:48:06.535 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1663 application/json 18.2051ms
2025-05-08 14:48:06.588 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:48:06.592 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:48:06.593 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:48:06.593 +07:00 [INF] Response: 204
2025-05-08 14:48:06.594 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.8522ms
2025-05-08 14:48:06.596 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:48:06.602 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:48:06.602 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:48:06.603 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:48:06.605 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:48:06.609 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:48:06.610 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.3059ms
2025-05-08 14:48:06.612 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:48:06.613 +07:00 [INF] Response: 200
2025-05-08 14:48:06.614 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 658 application/json 18.2522ms
2025-05-08 14:48:06.666 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:48:06.670 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:48:06.670 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:48:06.671 +07:00 [INF] Response: 204
2025-05-08 14:48:06.672 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.1917ms
2025-05-08 14:48:06.673 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:48:06.677 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:48:06.678 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:48:06.679 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:48:06.680 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:48:06.684 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:48:06.690 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:48:06.696 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:48:06.699 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:48:06.700 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:48:06.702 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 19.2644ms
2025-05-08 14:48:06.703 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:48:06.704 +07:00 [INF] Response: 400
2025-05-08 14:48:06.704 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 31.3028ms
2025-05-08 14:48:10.371 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:48:10.377 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:49:02.310 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 14:49:02.310 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:49:02.310 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:49:02.312 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:49:02.314 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:49:02.316 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:49:02.317 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.317 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.318 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.319 +07:00 [INF] Response: 204
2025-05-08 14:49:02.319 +07:00 [INF] Response: 204
2025-05-08 14:49:02.320 +07:00 [INF] Response: 204
2025-05-08 14:49:02.320 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 10.8196ms
2025-05-08 14:49:02.323 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 14:49:02.324 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:49:02.321 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 11.2401ms
2025-05-08 14:49:02.321 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 11.7792ms
2025-05-08 14:49:02.324 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:49:02.331 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:49:02.333 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:49:02.341 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:49:02.341 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.342 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.342 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.343 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:49:02.344 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:02.344 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:49:02.345 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:49:02.346 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:49:02.347 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:49:02.349 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:49:02.351 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:49:02.354 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:49:02.358 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:49:02.361 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:49:02.366 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:49:02.372 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:49:02.373 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:49:02.376 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:49:02.3760604Z"
2025-05-08 14:49:02.379 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:49:02.3796077Z"
2025-05-08 14:49:02.379 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:49:02.381 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:49:02.381 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:49:02.384 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T07:49:02.3841261Z"
2025-05-08 14:49:02.385 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 34.6916ms
2025-05-08 14:49:02.386 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 31.7287ms
2025-05-08 14:49:02.387 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:49:02.388 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:02.389 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:49:02.390 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 42.0608ms
2025-05-08 14:49:02.391 +07:00 [INF] Response: 200
2025-05-08 14:49:02.392 +07:00 [INF] Response: 200
2025-05-08 14:49:02.393 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:49:02.393 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 69.8172ms
2025-05-08 14:49:02.394 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 70.2156ms
2025-05-08 14:49:02.395 +07:00 [INF] Response: 200
2025-05-08 14:49:02.403 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 80.0944ms
2025-05-08 14:49:02.450 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:49:02.453 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:49:02.453 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.454 +07:00 [INF] Response: 204
2025-05-08 14:49:02.455 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 4.8004ms
2025-05-08 14:49:02.456 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:49:02.461 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:49:02.462 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.463 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:02.463 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:49:02.466 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:49:02.471 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:49:02.475 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:49:02.478 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:49:02.4786061Z"
2025-05-08 14:49:02.480 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:49:02.481 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.6366ms
2025-05-08 14:49:02.483 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:02.484 +07:00 [INF] Response: 200
2025-05-08 14:49:02.485 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 28.7837ms
2025-05-08 14:49:02.534 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:49:02.537 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:49:02.538 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.538 +07:00 [INF] Response: 204
2025-05-08 14:49:02.539 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 5.4282ms
2025-05-08 14:49:02.540 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:49:02.546 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:49:02.547 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.548 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:02.549 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:49:02.552 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:49:02.556 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:49:02.559 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:49:02.563 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:49:02.5632952Z"
2025-05-08 14:49:02.565 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:49:02.566 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.6206ms
2025-05-08 14:49:02.567 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:02.568 +07:00 [INF] Response: 200
2025-05-08 14:49:02.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 28.3898ms
2025-05-08 14:49:02.619 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:49:02.622 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:49:02.623 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.624 +07:00 [INF] Response: 204
2025-05-08 14:49:02.624 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 5.4239ms
2025-05-08 14:49:02.625 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:49:02.630 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:49:02.630 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:02.631 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:02.631 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:49:02.634 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:49:02.639 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:49:02.643 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:49:02.645 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:49:02.646 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:49:02.647 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 13.9601ms
2025-05-08 14:49:02.649 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:02.649 +07:00 [INF] Response: 400
2025-05-08 14:49:02.650 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 24.7157ms
2025-05-08 14:49:03.596 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:49:03.599 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:49:03.600 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:03.600 +07:00 [INF] Response: 204
2025-05-08 14:49:03.601 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.1162ms
2025-05-08 14:49:03.603 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:49:03.608 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:49:03.609 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:03.610 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:03.611 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:49:03.614 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:49:03.620 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:49:03.625 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:49:03.629 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:49:03.6289925Z"
2025-05-08 14:49:03.630 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:49:03.632 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.5053ms
2025-05-08 14:49:03.633 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:03.634 +07:00 [INF] Response: 200
2025-05-08 14:49:03.635 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 32.0749ms
2025-05-08 14:49:03.673 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:49:03.676 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:49:03.676 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:03.677 +07:00 [INF] Response: 204
2025-05-08 14:49:03.677 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 4.5753ms
2025-05-08 14:49:03.679 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:49:03.685 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:49:03.686 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:03.687 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:03.688 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:49:03.691 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:49:03.696 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:49:03.700 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:49:03.703 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:49:03.705 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:49:03.706 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.8388ms
2025-05-08 14:49:03.707 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:49:03.708 +07:00 [INF] Response: 400
2025-05-08 14:49:03.709 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 29.9797ms
2025-05-08 14:49:10.423 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:49:10.427 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:49:19.458 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:49:19.461 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:49:19.462 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:19.463 +07:00 [INF] Response: 204
2025-05-08 14:49:19.464 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.5548ms
2025-05-08 14:49:19.465 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 14:49:19.471 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:49:19.472 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:49:19.473 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:49:19.474 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:49:19.479 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 14:49:19.496 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 19.8541ms
2025-05-08 14:49:19.498 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:49:19.499 +07:00 [INF] Response: 400
2025-05-08 14:49:19.500 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 34.7621ms
2025-05-08 14:50:10.462 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:50:10.467 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:51:04.612 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 155
2025-05-08 14:51:04.616 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:51:04.619 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-05-08 14:51:04.633 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 14:51:04.634 +07:00 [INF] Response: 401
2025-05-08 14:51:04.635 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 401 null application/json 22.4769ms
2025-05-08 14:51:10.513 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:51:10.516 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:51:29.576 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 155
2025-05-08 14:51:29.580 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:51:29.581 +07:00 [INF] CORS policy execution failed.
2025-05-08 14:51:29.582 +07:00 [INF] Request origin https://localhost:7182 does not have permission to access the resource.
2025-05-08 14:51:29.582 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:51:29.583 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:51:29.585 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:51:29.589 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:51:29.685 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 14:51:29.691 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:51:29.698 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 256), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AccountLockUntil], [Balance], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [OtpCode], [OtpExpiration], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfilePicture], [SecurityStamp], [Status], [TwoFactorEnabled], [UserName], [ViolationCount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-05-08 14:51:29.705 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-08 14:51:29.708 +07:00 [WRN] Role 92592965-9dfb-4208-995f-f4132e72d23e validation failed: DuplicateRoleName.
2025-05-08 14:51:29.710 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:51:29.715 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-05-08 14:51:29.719 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:51:29.725 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 14:51:29.729 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:51:29.740 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p25='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 4000), @p26='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (Size = 256), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [AccountLockUntil] = @p3, [Balance] = @p4, [ConcurrencyStamp] = @p5, [CreatedAt] = @p6, [Email] = @p7, [EmailConfirmed] = @p8, [FullName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [OtpCode] = @p14, [OtpExpiration] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [ProfilePicture] = @p19, [SecurityStamp] = @p20, [Status] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23, [ViolationCount] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2025-05-08 14:51:29.744 +07:00 [INF] SignUpStaff completed successfully for Email hongthu6262@gmail.com at "2025-05-08T07:51:29.7449533Z"
2025-05-08 14:51:29.746 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[Microsoft.AspNetCore.Identity.IdentityResult, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-05-08 14:51:29.747 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 162.128ms
2025-05-08 14:51:29.748 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:51:29.750 +07:00 [INF] Response: 200
2025-05-08 14:51:29.751 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 200 null application/json; charset=utf-8 175.0766ms
2025-05-08 14:52:00.420 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 14:52:00.421 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:52:00.422 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:00.427 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:52:00.430 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:52:00.433 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:00.433 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.434 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.434 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.435 +07:00 [INF] Response: 204
2025-05-08 14:52:00.435 +07:00 [INF] Response: 204
2025-05-08 14:52:00.436 +07:00 [INF] Response: 204
2025-05-08 14:52:00.436 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 15.7681ms
2025-05-08 14:52:00.437 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 15.6866ms
2025-05-08 14:52:00.441 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:52:00.440 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 14:52:00.437 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 15.7278ms
2025-05-08 14:52:00.441 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:00.449 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:52:00.452 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:52:00.457 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:00.457 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.457 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.458 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.459 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:52:00.459 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:52:00.460 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:00.461 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:00.462 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:52:00.463 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:00.465 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:52:00.470 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:00.468 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:52:00.475 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:00.481 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:52:00.475 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:52:00.485 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:00.488 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:52:00.490 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:52:00.4907883Z"
2025-05-08 14:52:00.494 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:52:00.4946394Z"
2025-05-08 14:52:00.498 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:52:00.498 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:52:00.500 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:00.502 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T07:52:00.5028067Z"
2025-05-08 14:52:00.503 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 38.1852ms
2025-05-08 14:52:00.505 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 35.9374ms
2025-05-08 14:52:00.507 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:00.508 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:52:00.509 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:00.511 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 43.3336ms
2025-05-08 14:52:00.513 +07:00 [INF] Response: 200
2025-05-08 14:52:00.512 +07:00 [INF] Response: 200
2025-05-08 14:52:00.515 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:52:00.515 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 74.5445ms
2025-05-08 14:52:00.516 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 75.9392ms
2025-05-08 14:52:00.517 +07:00 [INF] Response: 200
2025-05-08 14:52:00.526 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 86.2516ms
2025-05-08 14:52:00.705 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:00.708 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:00.709 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.710 +07:00 [INF] Response: 204
2025-05-08 14:52:00.710 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 5.3921ms
2025-05-08 14:52:00.712 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:00.718 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:00.720 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.720 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:00.722 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:00.725 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:00.731 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:00.735 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:00.739 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:52:00.7392230Z"
2025-05-08 14:52:00.741 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:00.742 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.3593ms
2025-05-08 14:52:00.744 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:00.745 +07:00 [INF] Response: 200
2025-05-08 14:52:00.746 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 33.6592ms
2025-05-08 14:52:00.942 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:00.944 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:00.945 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.946 +07:00 [INF] Response: 204
2025-05-08 14:52:00.947 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 5.3672ms
2025-05-08 14:52:00.948 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:00.952 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:00.952 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:00.953 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:00.954 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:00.957 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:00.961 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:00.966 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:00.969 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:52:00.9694114Z"
2025-05-08 14:52:00.971 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:00.972 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.1145ms
2025-05-08 14:52:00.973 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:00.974 +07:00 [INF] Response: 200
2025-05-08 14:52:00.975 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 26.6081ms
2025-05-08 14:52:01.107 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:01.110 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:01.110 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:01.111 +07:00 [INF] Response: 204
2025-05-08 14:52:01.111 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 5.0527ms
2025-05-08 14:52:01.113 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:01.117 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:01.118 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:01.118 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:01.119 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:01.123 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:01.128 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:01.132 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:01.136 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:52:01.137 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:01.138 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.2317ms
2025-05-08 14:52:01.140 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:01.140 +07:00 [INF] Response: 400
2025-05-08 14:52:01.141 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 28.6254ms
2025-05-08 14:52:10.551 +07:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:10.555 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:13.743 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:13.746 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:13.747 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:13.748 +07:00 [INF] Response: 204
2025-05-08 14:52:13.748 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.3396ms
2025-05-08 14:52:13.750 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:13.755 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:13.755 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:13.756 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:13.756 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:13.760 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:13.764 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:13.768 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:13.771 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:52:13.7713105Z"
2025-05-08 14:52:13.772 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:13.773 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.5358ms
2025-05-08 14:52:13.775 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:13.776 +07:00 [INF] Response: 200
2025-05-08 14:52:13.777 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 27.2045ms
2025-05-08 14:52:13.821 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:52:13.824 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:13.825 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:13.825 +07:00 [INF] Response: 204
2025-05-08 14:52:13.826 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.2507ms
2025-05-08 14:52:13.828 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:52:13.832 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:13.832 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:13.833 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:13.834 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:13.837 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:13.841 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:13.845 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:13.848 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:52:13.8488111Z"
2025-05-08 14:52:13.850 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:13.852 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.3776ms
2025-05-08 14:52:13.853 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:13.854 +07:00 [INF] Response: 200
2025-05-08 14:52:13.855 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 27.0502ms
2025-05-08 14:52:13.894 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:52:13.896 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:13.898 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:13.898 +07:00 [INF] Response: 204
2025-05-08 14:52:13.899 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.3482ms
2025-05-08 14:52:13.900 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:52:13.906 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:13.906 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:13.907 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:13.908 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:13.911 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:13.916 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:13.920 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:13.923 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:52:13.924 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:13.925 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.8509ms
2025-05-08 14:52:13.927 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:13.928 +07:00 [INF] Response: 400
2025-05-08 14:52:13.929 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 28.6268ms
2025-05-08 14:52:14.509 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:14.513 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:14.513 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:14.514 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:14.515 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:14.519 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:14.522 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.1643ms
2025-05-08 14:52:14.523 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:14.524 +07:00 [INF] Response: 200
2025-05-08 14:52:14.525 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1665 application/json 15.6608ms
2025-05-08 14:52:27.149 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:52:27.150 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:27.153 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:52:27.156 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:27.157 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.157 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.158 +07:00 [INF] Response: 204
2025-05-08 14:52:27.158 +07:00 [INF] Response: 204
2025-05-08 14:52:27.159 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 9.4473ms
2025-05-08 14:52:27.160 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:27.160 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:52:27.159 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 9.3949ms
2025-05-08 14:52:27.164 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:27.166 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:52:27.170 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.171 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.171 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:27.171 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:52:27.172 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:27.173 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:27.176 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:27.178 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:52:27.181 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:27.183 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:52:27.187 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:27.188 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:52:27.1882865Z"
2025-05-08 14:52:27.191 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:52:27.1912445Z"
2025-05-08 14:52:27.191 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:52:27.192 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:27.193 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 15.1815ms
2025-05-08 14:52:27.195 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 19.6591ms
2025-05-08 14:52:27.195 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:52:27.196 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:27.197 +07:00 [INF] Response: 200
2025-05-08 14:52:27.197 +07:00 [INF] Response: 200
2025-05-08 14:52:27.198 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 37.4781ms
2025-05-08 14:52:27.198 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 38.01ms
2025-05-08 14:52:27.271 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:27.275 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:27.275 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.276 +07:00 [INF] Response: 204
2025-05-08 14:52:27.276 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 5.0284ms
2025-05-08 14:52:27.277 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:27.282 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:27.283 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.283 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:27.284 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:27.288 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:27.291 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:27.296 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:27.299 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:52:27.2993231Z"
2025-05-08 14:52:27.301 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:27.302 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.1703ms
2025-05-08 14:52:27.303 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:27.304 +07:00 [INF] Response: 200
2025-05-08 14:52:27.305 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 27.5765ms
2025-05-08 14:52:27.351 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:27.354 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:27.354 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.355 +07:00 [INF] Response: 204
2025-05-08 14:52:27.356 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 5.1054ms
2025-05-08 14:52:27.357 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:27.362 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:27.363 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.364 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:27.365 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:27.368 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:27.372 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:27.377 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:27.380 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:52:27.3802604Z"
2025-05-08 14:52:27.382 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:27.384 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.1538ms
2025-05-08 14:52:27.385 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:27.386 +07:00 [INF] Response: 200
2025-05-08 14:52:27.387 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 29.8443ms
2025-05-08 14:52:27.434 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:27.437 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:27.438 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.439 +07:00 [INF] Response: 204
2025-05-08 14:52:27.439 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 5.4441ms
2025-05-08 14:52:27.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:27.446 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:27.446 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:27.447 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:27.448 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:27.452 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:27.457 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:27.460 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:27.464 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:52:27.465 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:27.467 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.1021ms
2025-05-08 14:52:27.468 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:27.469 +07:00 [INF] Response: 400
2025-05-08 14:52:27.470 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 29.1848ms
2025-05-08 14:52:29.750 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:29.753 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:29.754 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:29.755 +07:00 [INF] Response: 204
2025-05-08 14:52:29.755 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.3524ms
2025-05-08 14:52:29.757 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:29.761 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:29.762 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:29.762 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:29.764 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:29.767 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:29.768 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 2.9846ms
2025-05-08 14:52:29.770 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:29.771 +07:00 [INF] Response: 200
2025-05-08 14:52:29.772 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1665 application/json 15.2807ms
2025-05-08 14:52:29.808 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:52:29.811 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:29.812 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:29.813 +07:00 [INF] Response: 204
2025-05-08 14:52:29.814 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.6983ms
2025-05-08 14:52:29.815 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:52:29.820 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:29.821 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:29.822 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:29.823 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:29.826 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:29.828 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.0895ms
2025-05-08 14:52:29.829 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:29.830 +07:00 [INF] Response: 200
2025-05-08 14:52:29.831 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 658 application/json 16.147ms
2025-05-08 14:52:29.869 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:52:29.872 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:29.873 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:29.873 +07:00 [INF] Response: 204
2025-05-08 14:52:29.874 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.4101ms
2025-05-08 14:52:29.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:52:29.879 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:29.880 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:29.881 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:29.882 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:29.885 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:29.890 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:29.895 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:29.898 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:52:29.900 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:29.902 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.8915ms
2025-05-08 14:52:29.903 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:29.904 +07:00 [INF] Response: 400
2025-05-08 14:52:29.905 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 30.1261ms
2025-05-08 14:52:33.432 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:33.436 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:33.436 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:33.437 +07:00 [INF] Response: 204
2025-05-08 14:52:33.438 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.8382ms
2025-05-08 14:52:33.440 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:33.446 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:33.447 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:33.448 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:33.449 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:33.454 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:33.457 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.6539ms
2025-05-08 14:52:33.459 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:33.460 +07:00 [INF] Response: 200
2025-05-08 14:52:33.461 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1501 application/json 21.6369ms
2025-05-08 14:52:33.496 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:33.499 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:33.500 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:33.501 +07:00 [INF] Response: 204
2025-05-08 14:52:33.501 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 5.5759ms
2025-05-08 14:52:33.503 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:33.507 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:33.508 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:33.509 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:33.510 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:33.514 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:33.516 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.7766ms
2025-05-08 14:52:33.518 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:33.519 +07:00 [INF] Response: 200
2025-05-08 14:52:33.519 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 1674 application/json 16.3101ms
2025-05-08 14:52:33.572 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:33.575 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:33.575 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:33.576 +07:00 [INF] Response: 204
2025-05-08 14:52:33.576 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 4.732ms
2025-05-08 14:52:33.578 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:33.581 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:33.582 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:33.582 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:33.583 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:33.587 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:33.589 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.029ms
2025-05-08 14:52:33.590 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:33.590 +07:00 [INF] Response: 200
2025-05-08 14:52:33.591 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 1697 application/json 13.0621ms
2025-05-08 14:52:33.642 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:33.644 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:33.645 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:33.646 +07:00 [INF] Response: 204
2025-05-08 14:52:33.646 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 4.8264ms
2025-05-08 14:52:33.647 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:33.652 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:33.653 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:33.654 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:33.655 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:33.658 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:33.662 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:33.666 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:33.668 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:52:33.670 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:33.671 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 13.8481ms
2025-05-08 14:52:33.672 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:33.673 +07:00 [INF] Response: 400
2025-05-08 14:52:33.673 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 26.0301ms
2025-05-08 14:52:34.836 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:34.839 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:34.840 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:34.841 +07:00 [INF] Response: 204
2025-05-08 14:52:34.841 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.184ms
2025-05-08 14:52:34.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:34.847 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:34.848 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:34.849 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:34.849 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:34.852 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:34.854 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.2868ms
2025-05-08 14:52:34.856 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:34.857 +07:00 [INF] Response: 200
2025-05-08 14:52:34.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1665 application/json 14.6469ms
2025-05-08 14:52:34.893 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:52:34.896 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:34.897 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:34.897 +07:00 [INF] Response: 204
2025-05-08 14:52:34.898 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.2795ms
2025-05-08 14:52:34.899 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:52:34.903 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:34.904 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:34.905 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:34.905 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:34.908 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:34.910 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 2.7833ms
2025-05-08 14:52:34.911 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:34.912 +07:00 [INF] Response: 200
2025-05-08 14:52:34.912 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 658 application/json 13.0484ms
2025-05-08 14:52:34.951 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:52:34.954 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:34.955 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:34.955 +07:00 [INF] Response: 204
2025-05-08 14:52:34.956 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.1712ms
2025-05-08 14:52:34.957 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:52:34.961 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:34.962 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:34.962 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:34.963 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:34.966 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:34.972 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:34.975 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:34.978 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:52:34.979 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:34.981 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.1856ms
2025-05-08 14:52:34.982 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:34.983 +07:00 [INF] Response: 400
2025-05-08 14:52:34.984 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 27.1925ms
2025-05-08 14:52:45.917 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:52:45.918 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:45.920 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:52:45.922 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:45.922 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:45.923 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:45.923 +07:00 [INF] Response: 204
2025-05-08 14:52:45.924 +07:00 [INF] Response: 204
2025-05-08 14:52:45.925 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 8.2047ms
2025-05-08 14:52:45.927 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:52:45.926 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 8.0876ms
2025-05-08 14:52:45.928 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:45.933 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:52:45.939 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:45.939 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:45.940 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:45.941 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:52:45.941 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:45.942 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:45.943 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:45.945 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:52:45.949 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:45.951 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.6166ms
2025-05-08 14:52:45.953 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:52:45.954 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:45.957 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:52:45.9573396Z"
2025-05-08 14:52:45.957 +07:00 [INF] Response: 200
2025-05-08 14:52:45.959 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:52:45.960 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1501 application/json 32.3041ms
2025-05-08 14:52:45.962 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 16.485ms
2025-05-08 14:52:45.966 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:52:45.968 +07:00 [INF] Response: 200
2025-05-08 14:52:45.968 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 41.2232ms
2025-05-08 14:52:46.072 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:46.076 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:46.076 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:46.077 +07:00 [INF] Response: 204
2025-05-08 14:52:46.078 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 6.2249ms
2025-05-08 14:52:46.080 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:46.083 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:46.084 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:46.085 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:46.086 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:46.089 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:46.091 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.2824ms
2025-05-08 14:52:46.093 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:46.094 +07:00 [INF] Response: 200
2025-05-08 14:52:46.095 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 1674 application/json 14.868ms
2025-05-08 14:52:46.164 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:46.167 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:46.168 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:46.169 +07:00 [INF] Response: 204
2025-05-08 14:52:46.169 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 5.1263ms
2025-05-08 14:52:46.171 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:46.175 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:46.175 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:46.176 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:46.178 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:46.182 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:46.184 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.7973ms
2025-05-08 14:52:46.185 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:46.186 +07:00 [INF] Response: 200
2025-05-08 14:52:46.187 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 1697 application/json 16.3314ms
2025-05-08 14:52:46.286 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:46.289 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:46.289 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:46.290 +07:00 [INF] Response: 204
2025-05-08 14:52:46.291 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 4.8713ms
2025-05-08 14:52:46.292 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:46.298 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:46.298 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:46.299 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:46.300 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:46.303 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:46.308 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:46.313 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:46.316 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:52:46.317 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:46.318 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.3546ms
2025-05-08 14:52:46.319 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:46.320 +07:00 [INF] Response: 400
2025-05-08 14:52:46.321 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 28.6529ms
2025-05-08 14:52:57.673 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:52:57.673 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:57.676 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:52:57.678 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:57.679 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:57.680 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:57.680 +07:00 [INF] Response: 204
2025-05-08 14:52:57.681 +07:00 [INF] Response: 204
2025-05-08 14:52:57.682 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 8.3991ms
2025-05-08 14:52:57.685 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:52:57.686 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:52:57.682 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 8.96ms
2025-05-08 14:52:57.692 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:52:57.695 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:57.699 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:57.700 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:57.700 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:52:57.701 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:57.702 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:57.703 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:57.705 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:52:57.708 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:57.710 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.7154ms
2025-05-08 14:52:57.712 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:52:57.713 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:57.716 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:52:57.7167174Z"
2025-05-08 14:52:57.717 +07:00 [INF] Response: 200
2025-05-08 14:52:57.719 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:52:57.720 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1501 application/json 33.9816ms
2025-05-08 14:52:57.721 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 16.1602ms
2025-05-08 14:52:57.724 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:52:57.725 +07:00 [INF] Response: 200
2025-05-08 14:52:57.725 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 40.5404ms
2025-05-08 14:52:57.830 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:57.834 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:57.834 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:57.835 +07:00 [INF] Response: 204
2025-05-08 14:52:57.835 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 4.9892ms
2025-05-08 14:52:57.837 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:52:57.841 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:57.842 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:57.843 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:57.844 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:57.848 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:57.849 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.4708ms
2025-05-08 14:52:57.851 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:57.852 +07:00 [INF] Response: 200
2025-05-08 14:52:57.852 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 1674 application/json 15.4283ms
2025-05-08 14:52:57.914 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:57.917 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:57.917 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:57.918 +07:00 [INF] Response: 204
2025-05-08 14:52:57.918 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 4.8249ms
2025-05-08 14:52:57.920 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:52:57.923 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:57.924 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:57.925 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:57.925 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:57.929 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:52:57.931 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.8505ms
2025-05-08 14:52:57.932 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:57.933 +07:00 [INF] Response: 200
2025-05-08 14:52:57.934 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 1697 application/json 14.7285ms
2025-05-08 14:52:58.127 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:58.130 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:52:58.131 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:58.132 +07:00 [INF] Response: 204
2025-05-08 14:52:58.133 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 6.0613ms
2025-05-08 14:52:58.134 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:52:58.139 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:52:58.140 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:52:58.141 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:58.142 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:52:58.145 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:52:58.150 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:52:58.154 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:52:58.157 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:52:58.159 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:52:58.160 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.01ms
2025-05-08 14:52:58.162 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:52:58.163 +07:00 [INF] Response: 400
2025-05-08 14:52:58.163 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 29.3352ms
2025-05-08 14:53:10.622 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:10.629 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:33.478 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=user&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:53:33.484 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:33.486 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:33.487 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:33.490 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:33.495 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:33.500 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:33.503 +07:00 [WRN] ViewAccountsByRole attempt failed for Role user - Account not found
2025-05-08 14:53:33.504 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:33.505 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.6121ms
2025-05-08 14:53:33.507 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:33.508 +07:00 [INF] Response: 400
2025-05-08 14:53:33.508 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=user&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 31.0207ms
2025-05-08 14:53:50.751 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:53:50.754 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:50.755 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:50.756 +07:00 [INF] Response: 204
2025-05-08 14:53:50.757 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.6612ms
2025-05-08 14:53:50.759 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:53:50.763 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:50.764 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:50.765 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:50.766 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:50.769 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:50.773 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:50.777 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:50.780 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:53:50.7801975Z"
2025-05-08 14:53:50.785 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:50.786 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.7225ms
2025-05-08 14:53:50.788 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:50.789 +07:00 [INF] Response: 200
2025-05-08 14:53:50.789 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 30.7069ms
2025-05-08 14:53:50.837 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:53:50.840 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:50.841 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:50.841 +07:00 [INF] Response: 204
2025-05-08 14:53:50.842 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 4.8763ms
2025-05-08 14:53:50.845 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:53:50.849 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:50.849 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:50.850 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:50.851 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:50.855 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:50.858 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:50.863 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:50.865 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:53:50.8658183Z"
2025-05-08 14:53:50.867 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:50.868 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.2806ms
2025-05-08 14:53:50.869 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:50.870 +07:00 [INF] Response: 200
2025-05-08 14:53:50.871 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 26.1925ms
2025-05-08 14:53:50.917 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:53:50.920 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:50.920 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:50.921 +07:00 [INF] Response: 204
2025-05-08 14:53:50.922 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.3014ms
2025-05-08 14:53:50.923 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:53:50.928 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:50.929 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:50.929 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:50.930 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:50.934 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:50.938 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:50.943 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:50.946 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:53:50.947 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:50.948 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.5176ms
2025-05-08 14:53:50.950 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:50.951 +07:00 [INF] Response: 400
2025-05-08 14:53:50.951 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 28.3781ms
2025-05-08 14:53:56.277 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 14:53:56.277 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:53:56.277 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:53:56.280 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:53:56.286 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.286 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:56.284 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 14:53:56.287 +07:00 [INF] Response: 204
2025-05-08 14:53:56.288 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.289 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.289 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 12.5829ms
2025-05-08 14:53:56.290 +07:00 [INF] Response: 204
2025-05-08 14:53:56.290 +07:00 [INF] Response: 204
2025-05-08 14:53:56.302 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 25.2962ms
2025-05-08 14:53:56.305 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 28.0498ms
2025-05-08 14:53:56.291 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 14:53:56.305 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 14:53:56.308 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:53:56.320 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 14:53:56.323 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 14:53:56.326 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:56.326 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.327 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.328 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.329 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:53:56.329 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:53:56.330 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:56.330 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:53:56.331 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:56.332 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:56.333 +07:00 [INF] RenewAccessToken API called.
2025-05-08 14:53:56.337 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:56.335 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 14:53:56.342 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:56.347 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:53:56.346 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:53:56.352 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:56.357 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T07:53:56.3573924Z"
2025-05-08 14:53:56.358 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 14:53:56.360 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:53:56.3605670Z"
2025-05-08 14:53:56.360 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 14:53:56.364 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:56.365 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 29.704ms
2025-05-08 14:53:56.366 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 14:53:56.366 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 29.5817ms
2025-05-08 14:53:56.367 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 14:53:56.369 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T07:53:56.3695914Z"
2025-05-08 14:53:56.370 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:56.370 +07:00 [INF] Response: 200
2025-05-08 14:53:56.371 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:56.372 +07:00 [INF] Response: 200
2025-05-08 14:53:56.373 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 68.2112ms
2025-05-08 14:53:56.374 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 40.6224ms
2025-05-08 14:53:56.375 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 66.7912ms
2025-05-08 14:53:56.378 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 14:53:56.382 +07:00 [INF] Response: 200
2025-05-08 14:53:56.383 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 91.2944ms
2025-05-08 14:53:56.460 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:53:56.463 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:56.464 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.464 +07:00 [INF] Response: 204
2025-05-08 14:53:56.465 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 4.9443ms
2025-05-08 14:53:56.467 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 14:53:56.470 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:56.471 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.472 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:56.473 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:56.477 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:56.481 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:56.485 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:56.489 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:53:56.4892661Z"
2025-05-08 14:53:56.491 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:56.492 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.8228ms
2025-05-08 14:53:56.493 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:56.494 +07:00 [INF] Response: 200
2025-05-08 14:53:56.494 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 27.6904ms
2025-05-08 14:53:56.568 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:53:56.572 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:56.572 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.573 +07:00 [INF] Response: 204
2025-05-08 14:53:56.573 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 6.0842ms
2025-05-08 14:53:56.575 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 14:53:56.579 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:56.580 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.580 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:56.581 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:56.584 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:56.590 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:56.594 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:56.596 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T07:53:56.5969561Z"
2025-05-08 14:53:56.598 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:56.599 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.8324ms
2025-05-08 14:53:56.601 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:56.601 +07:00 [INF] Response: 200
2025-05-08 14:53:56.602 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 27.1783ms
2025-05-08 14:53:56.660 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:53:56.662 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:56.663 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.663 +07:00 [INF] Response: 204
2025-05-08 14:53:56.664 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 4.2457ms
2025-05-08 14:53:56.666 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 14:53:56.671 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:56.671 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:56.672 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:56.673 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:56.676 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:56.681 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:56.686 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:56.690 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 14:53:56.691 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:56.693 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.5387ms
2025-05-08 14:53:56.694 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:56.695 +07:00 [INF] Response: 400
2025-05-08 14:53:56.695 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 29.9665ms
2025-05-08 14:53:58.213 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:53:58.216 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:58.217 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:58.218 +07:00 [INF] Response: 204
2025-05-08 14:53:58.219 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.7694ms
2025-05-08 14:53:58.221 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:53:58.226 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:58.226 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:58.227 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:58.228 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:58.231 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:53:58.233 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.7323ms
2025-05-08 14:53:58.235 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:58.236 +07:00 [INF] Response: 200
2025-05-08 14:53:58.237 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1665 application/json 16.1673ms
2025-05-08 14:53:58.280 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:53:58.283 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:58.284 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:58.285 +07:00 [INF] Response: 204
2025-05-08 14:53:58.285 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.7148ms
2025-05-08 14:53:58.287 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:53:58.293 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:58.294 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:58.295 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:58.296 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:58.300 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:53:58.301 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.0578ms
2025-05-08 14:53:58.303 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:58.304 +07:00 [INF] Response: 200
2025-05-08 14:53:58.305 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 658 application/json 18.0936ms
2025-05-08 14:53:58.349 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:53:58.352 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:53:58.353 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:58.354 +07:00 [INF] Response: 204
2025-05-08 14:53:58.355 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.2544ms
2025-05-08 14:53:58.356 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:53:58.362 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:53:58.363 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:53:58.364 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:58.365 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:53:58.368 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:53:58.372 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:53:58.376 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:53:58.380 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:53:58.380 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:53:58.382 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.9349ms
2025-05-08 14:53:58.384 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:53:58.384 +07:00 [INF] Response: 400
2025-05-08 14:53:58.385 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 28.7459ms
2025-05-08 14:54:10.702 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:54:10.709 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:54:35.468 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:54:35.471 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:54:35.472 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:54:35.473 +07:00 [INF] Response: 204
2025-05-08 14:54:35.473 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.2656ms
2025-05-08 14:54:35.475 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:54:35.479 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:54:35.480 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:54:35.481 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:54:35.482 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:54:35.485 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:54:35.489 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:54:35.492 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:54:35.495 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:54:35.4953151Z"
2025-05-08 14:54:35.497 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:54:35.498 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.5265ms
2025-05-08 14:54:35.500 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:54:35.501 +07:00 [INF] Response: 200
2025-05-08 14:54:35.502 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 26.9334ms
2025-05-08 14:54:35.576 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:54:35.579 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:54:35.579 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:54:35.580 +07:00 [INF] Response: 204
2025-05-08 14:54:35.581 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.1423ms
2025-05-08 14:54:35.582 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:54:35.586 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:54:35.587 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:54:35.588 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:54:35.588 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:54:35.592 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:54:35.596 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:54:35.601 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:54:35.603 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:54:35.6039172Z"
2025-05-08 14:54:35.605 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:54:35.606 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.2203ms
2025-05-08 14:54:35.607 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:54:35.608 +07:00 [INF] Response: 200
2025-05-08 14:54:35.609 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 27.1133ms
2025-05-08 14:54:35.721 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:54:35.724 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:54:35.725 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:54:35.726 +07:00 [INF] Response: 204
2025-05-08 14:54:35.727 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.0902ms
2025-05-08 14:54:35.729 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:54:35.734 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:54:35.735 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:54:35.736 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:54:35.737 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:54:35.740 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:54:35.745 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:54:35.750 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:54:35.753 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:54:35.755 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:54:35.757 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.8217ms
2025-05-08 14:54:35.759 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:54:35.759 +07:00 [INF] Response: 400
2025-05-08 14:54:35.760 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 31.5115ms
2025-05-08 14:55:05.421 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:55:05.424 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:55:05.424 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:55:05.425 +07:00 [INF] Response: 204
2025-05-08 14:55:05.426 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 4.7612ms
2025-05-08 14:55:05.427 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 140
2025-05-08 14:55:05.432 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:55:05.433 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:55:05.434 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:55:05.435 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:55:05.438 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 14:55:05.440 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.1067ms
2025-05-08 14:55:05.441 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:55:05.442 +07:00 [INF] Response: 400
2025-05-08 14:55:05.443 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 16.0329ms
2025-05-08 14:55:10.734 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:55:10.738 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:56:10.817 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:56:10.825 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:56:25.522 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:56:25.526 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:25.527 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:25.527 +07:00 [INF] Response: 204
2025-05-08 14:56:25.528 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.9969ms
2025-05-08 14:56:25.531 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:56:25.535 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:25.537 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:25.537 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:25.538 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:25.542 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:56:25.549 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:56:25.556 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:56:25.560 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:56:25.5605981Z"
2025-05-08 14:56:25.563 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:56:25.564 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 23.4516ms
2025-05-08 14:56:25.567 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:25.568 +07:00 [INF] Response: 200
2025-05-08 14:56:25.569 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 38.2944ms
2025-05-08 14:56:25.665 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:56:25.669 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:25.670 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:25.671 +07:00 [INF] Response: 204
2025-05-08 14:56:25.672 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 7.2485ms
2025-05-08 14:56:25.675 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:56:25.685 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:25.687 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:25.687 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:25.689 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:25.693 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:56:25.698 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:56:25.704 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:56:25.707 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:56:25.7079030Z"
2025-05-08 14:56:25.710 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:56:25.711 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 19.807ms
2025-05-08 14:56:25.713 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:25.714 +07:00 [INF] Response: 200
2025-05-08 14:56:25.715 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 40.8604ms
2025-05-08 14:56:25.895 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:56:25.899 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:25.900 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:25.901 +07:00 [INF] Response: 204
2025-05-08 14:56:25.902 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.8065ms
2025-05-08 14:56:25.903 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:56:25.910 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:25.911 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:25.911 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:25.913 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:25.916 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:56:25.921 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:56:25.927 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:56:25.930 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:56:25.931 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:56:25.933 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.6667ms
2025-05-08 14:56:25.934 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:25.935 +07:00 [INF] Response: 400
2025-05-08 14:56:25.935 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 32.059ms
2025-05-08 14:56:29.530 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:56:29.534 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:29.534 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:29.535 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:29.536 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:29.540 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:56:29.542 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.3694ms
2025-05-08 14:56:29.544 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:29.545 +07:00 [INF] Response: 200
2025-05-08 14:56:29.546 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1665 application/json 15.7626ms
2025-05-08 14:56:29.665 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:56:29.668 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:29.669 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:29.669 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:29.670 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:29.675 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:56:29.677 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.8021ms
2025-05-08 14:56:29.678 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:29.679 +07:00 [INF] Response: 200
2025-05-08 14:56:29.679 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 658 application/json 14.9578ms
2025-05-08 14:56:29.872 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:56:29.876 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:29.877 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:29.877 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:29.879 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:29.882 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:56:29.886 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:56:29.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:56:29.895 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:56:29.896 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:56:29.898 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.8709ms
2025-05-08 14:56:29.899 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:29.900 +07:00 [INF] Response: 400
2025-05-08 14:56:29.901 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 28.4113ms
2025-05-08 14:56:33.511 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:56:33.515 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:33.516 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:33.516 +07:00 [INF] Response: 204
2025-05-08 14:56:33.517 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.431ms
2025-05-08 14:56:33.519 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:56:33.525 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:33.526 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:33.527 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:33.528 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:33.533 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:56:33.535 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.7185ms
2025-05-08 14:56:33.537 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:33.538 +07:00 [INF] Response: 200
2025-05-08 14:56:33.539 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1665 application/json 19.359ms
2025-05-08 14:56:33.656 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:56:33.659 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:33.660 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:33.661 +07:00 [INF] Response: 204
2025-05-08 14:56:33.662 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 6.213ms
2025-05-08 14:56:33.663 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:56:33.669 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:33.670 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:33.671 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:33.672 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:33.677 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:56:33.678 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.676ms
2025-05-08 14:56:33.680 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:33.681 +07:00 [INF] Response: 200
2025-05-08 14:56:33.682 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 658 application/json 18.6416ms
2025-05-08 14:56:33.863 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:56:33.866 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:33.867 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:33.868 +07:00 [INF] Response: 204
2025-05-08 14:56:33.869 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.2233ms
2025-05-08 14:56:33.871 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:56:33.877 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:33.878 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:33.879 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:33.880 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:33.884 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:56:33.888 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:56:33.892 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:56:33.896 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:56:33.897 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:56:33.898 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.8628ms
2025-05-08 14:56:33.900 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:33.901 +07:00 [INF] Response: 400
2025-05-08 14:56:33.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 30.8187ms
2025-05-08 14:56:52.530 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:56:52.534 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:52.535 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:52.536 +07:00 [INF] Response: 204
2025-05-08 14:56:52.536 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.112ms
2025-05-08 14:56:52.538 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:56:52.542 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:52.543 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:52.543 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:52.544 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:52.548 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:56:52.550 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.3419ms
2025-05-08 14:56:52.552 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:52.552 +07:00 [INF] Response: 200
2025-05-08 14:56:52.553 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1665 application/json 14.7397ms
2025-05-08 14:56:52.659 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:56:52.661 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:52.662 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:52.663 +07:00 [INF] Response: 204
2025-05-08 14:56:52.663 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 4.6346ms
2025-05-08 14:56:52.664 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:56:52.669 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:52.670 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:52.670 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:52.671 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:52.674 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:56:52.676 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.1153ms
2025-05-08 14:56:52.677 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:52.678 +07:00 [INF] Response: 200
2025-05-08 14:56:52.678 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 658 application/json 14.024ms
2025-05-08 14:56:52.825 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:56:52.829 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:56:52.829 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:52.830 +07:00 [INF] Response: 204
2025-05-08 14:56:52.831 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.7356ms
2025-05-08 14:56:52.832 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:56:52.836 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:56:52.837 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:52.838 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:52.839 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:56:52.842 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:56:52.846 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:56:52.850 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:56:52.853 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:56:52.854 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:56:52.855 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.3349ms
2025-05-08 14:56:52.856 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:56:52.857 +07:00 [INF] Response: 400
2025-05-08 14:56:52.858 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 25.7427ms
2025-05-08 14:56:54.621 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:56:54.624 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:56:54.624 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:54.625 +07:00 [INF] Response: 204
2025-05-08 14:56:54.626 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 4.5995ms
2025-05-08 14:56:54.627 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 140
2025-05-08 14:56:54.632 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:56:54.633 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:54.633 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:56:54.635 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:56:54.637 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 14:56:54.639 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.9168ms
2025-05-08 14:56:54.641 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:56:54.643 +07:00 [INF] Response: 400
2025-05-08 14:56:54.643 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 16.6762ms
2025-05-08 14:56:57.988 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 140
2025-05-08 14:56:57.991 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:56:57.992 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:56:57.994 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:56:57.995 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:56:57.998 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 14:56:58.000 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.5352ms
2025-05-08 14:56:58.001 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:56:58.002 +07:00 [INF] Response: 400
2025-05-08 14:56:58.003 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 15.1671ms
2025-05-08 14:57:10.882 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:57:10.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:57:13.258 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:57:13.262 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:57:13.263 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:13.264 +07:00 [INF] Response: 204
2025-05-08 14:57:13.264 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 6.32ms
2025-05-08 14:57:13.266 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 140
2025-05-08 14:57:13.271 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:57:13.272 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:13.273 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:57:13.274 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:57:13.277 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 14:57:13.279 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.9766ms
2025-05-08 14:57:13.280 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:57:13.281 +07:00 [INF] Response: 400
2025-05-08 14:57:13.282 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 15.8882ms
2025-05-08 14:57:14.745 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 140
2025-05-08 14:57:14.748 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:57:14.749 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:14.750 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:57:14.751 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:57:14.754 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 14:57:14.755 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.7616ms
2025-05-08 14:57:14.757 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:57:14.758 +07:00 [INF] Response: 400
2025-05-08 14:57:14.759 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 13.7738ms
2025-05-08 14:57:39.503 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:57:39.506 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:57:39.507 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:39.508 +07:00 [INF] Response: 204
2025-05-08 14:57:39.509 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.4548ms
2025-05-08 14:57:39.511 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:57:39.516 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:57:39.517 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:39.518 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:39.519 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:57:39.521 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:57:39.528 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:57:39.534 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:57:39.537 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:57:39.5377516Z"
2025-05-08 14:57:39.539 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:57:39.541 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 20.4113ms
2025-05-08 14:57:39.542 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:39.543 +07:00 [INF] Response: 200
2025-05-08 14:57:39.544 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 32.9296ms
2025-05-08 14:57:39.661 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:57:39.664 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:57:39.665 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:39.665 +07:00 [INF] Response: 204
2025-05-08 14:57:39.666 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.6134ms
2025-05-08 14:57:39.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:57:39.673 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:57:39.674 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:39.674 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:39.675 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:57:39.678 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:57:39.682 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:57:39.687 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:57:39.689 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:57:39.6893896Z"
2025-05-08 14:57:39.691 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:57:39.692 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.1117ms
2025-05-08 14:57:39.694 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:39.694 +07:00 [INF] Response: 200
2025-05-08 14:57:39.695 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 27.2009ms
2025-05-08 14:57:39.854 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:57:39.858 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:57:39.858 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:39.859 +07:00 [INF] Response: 204
2025-05-08 14:57:39.860 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.1199ms
2025-05-08 14:57:39.862 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:57:39.867 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:57:39.868 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:39.869 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:39.870 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:57:39.872 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:57:39.877 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:57:39.881 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:57:39.884 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:57:39.885 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:57:39.887 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.5716ms
2025-05-08 14:57:39.888 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:39.890 +07:00 [INF] Response: 400
2025-05-08 14:57:39.891 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 28.6584ms
2025-05-08 14:57:44.511 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:57:44.514 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:57:44.515 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:44.516 +07:00 [INF] Response: 204
2025-05-08 14:57:44.517 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.6272ms
2025-05-08 14:57:44.520 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:57:44.529 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:57:44.530 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:44.531 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:44.532 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:57:44.536 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:57:44.538 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.0511ms
2025-05-08 14:57:44.541 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:44.542 +07:00 [INF] Response: 200
2025-05-08 14:57:44.543 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1665 application/json 23.5822ms
2025-05-08 14:57:44.655 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 14:57:44.657 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:57:44.658 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:44.659 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:44.659 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:57:44.664 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:57:44.666 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.4475ms
2025-05-08 14:57:44.668 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:44.669 +07:00 [INF] Response: 200
2025-05-08 14:57:44.670 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 658 application/json 15.4685ms
2025-05-08 14:57:44.849 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:57:44.853 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:57:44.854 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:57:44.855 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:44.856 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:57:44.859 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:57:44.865 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:57:44.870 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:57:44.873 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:57:44.875 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:57:44.877 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.2253ms
2025-05-08 14:57:44.878 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:57:44.879 +07:00 [INF] Response: 400
2025-05-08 14:57:44.880 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 31.4419ms
2025-05-08 14:58:10.968 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:58:10.973 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:58:17.555 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 14:58:17.558 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 14:58:17.559 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:17.560 +07:00 [INF] Response: 204
2025-05-08 14:58:17.561 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.2558ms
2025-05-08 14:58:17.562 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 14:58:17.568 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 14:58:17.569 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:17.570 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:58:17.570 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 14:58:17.572 +07:00 [INF] SignUpStaff API called.
2025-05-08 14:58:17.578 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 14:58:17.678 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 14:58:17.684 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:58:17.691 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 256), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AccountLockUntil], [Balance], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [OtpCode], [OtpExpiration], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfilePicture], [SecurityStamp], [Status], [TwoFactorEnabled], [UserName], [ViolationCount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-05-08 14:58:17.697 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-08 14:58:17.699 +07:00 [WRN] Role fb889971-1777-42d8-8521-216441a31ee8 validation failed: DuplicateRoleName.
2025-05-08 14:58:17.702 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:58:17.707 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-05-08 14:58:17.711 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:58:17.716 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 14:58:17.721 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 14:58:17.732 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p25='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 4000), @p26='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (Size = 256), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [AccountLockUntil] = @p3, [Balance] = @p4, [ConcurrencyStamp] = @p5, [CreatedAt] = @p6, [Email] = @p7, [EmailConfirmed] = @p8, [FullName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [OtpCode] = @p14, [OtpExpiration] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [ProfilePicture] = @p19, [SecurityStamp] = @p20, [Status] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23, [ViolationCount] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2025-05-08 14:58:17.736 +07:00 [INF] SignUpStaff completed successfully for Email hongthu6263@gmail.com at "2025-05-08T07:58:17.7361185Z"
2025-05-08 14:58:17.737 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[Microsoft.AspNetCore.Identity.IdentityResult, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-05-08 14:58:17.739 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 166.6431ms
2025-05-08 14:58:17.740 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 14:58:17.741 +07:00 [INF] Response: 200
2025-05-08 14:58:17.742 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 200 null application/json; charset=utf-8 180.2009ms
2025-05-08 14:58:56.508 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:58:56.512 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:58:56.512 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:56.513 +07:00 [INF] Response: 204
2025-05-08 14:58:56.514 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.8624ms
2025-05-08 14:58:56.517 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:58:56.522 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:56.523 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:56.523 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:56.524 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:56.528 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:58:56.535 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:58:56.543 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:58:56.546 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:58:56.5463315Z"
2025-05-08 14:58:56.548 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:58:56.549 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 22.4162ms
2025-05-08 14:58:56.552 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:56.553 +07:00 [INF] Response: 200
2025-05-08 14:58:56.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 37.4836ms
2025-05-08 14:58:56.672 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 14:58:56.676 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:58:56.677 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:56.678 +07:00 [INF] Response: 204
2025-05-08 14:58:56.678 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 204 null null 5.9509ms
2025-05-08 14:58:56.680 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 14:58:56.692 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:56.692 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:56.693 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:56.694 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:56.698 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:58:56.703 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:58:56.708 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:58:56.712 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T07:58:56.7120828Z"
2025-05-08 14:58:56.714 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:58:56.715 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.0902ms
2025-05-08 14:58:56.717 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:56.718 +07:00 [INF] Response: 200
2025-05-08 14:58:56.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 200 null application/json; charset=utf-8 38.7062ms
2025-05-08 14:58:56.898 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:58:56.901 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 14:58:56.902 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:56.903 +07:00 [INF] Response: 204
2025-05-08 14:58:56.904 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.4943ms
2025-05-08 14:58:56.906 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:58:56.913 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:56.914 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:56.915 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:56.916 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:56.919 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:58:56.924 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:58:56.929 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:58:56.932 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:58:56.933 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:58:56.934 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.735ms
2025-05-08 14:58:56.936 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:56.936 +07:00 [INF] Response: 400
2025-05-08 14:58:56.937 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 31.2715ms
2025-05-08 14:58:58.537 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:58:58.541 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:58.542 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:58.543 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:58.544 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:58.548 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:58:58.551 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.7001ms
2025-05-08 14:58:58.553 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:58.554 +07:00 [INF] Response: 200
2025-05-08 14:58:58.554 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1511 application/json 17.6767ms
2025-05-08 14:58:58.693 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 14:58:58.697 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:58.698 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:58.698 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:58.699 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:58.702 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:58:58.704 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.1034ms
2025-05-08 14:58:58.705 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:58.706 +07:00 [INF] Response: 200
2025-05-08 14:58:58.706 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 200 1238 application/json 13.4506ms
2025-05-08 14:58:58.875 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:58:58.879 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:58.880 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:58.880 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:58.881 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:58.884 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:58:58.889 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:58:58.893 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:58:58.896 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:58:58.897 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:58:58.898 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.7391ms
2025-05-08 14:58:58.899 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:58.901 +07:00 [INF] Response: 400
2025-05-08 14:58:58.902 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 27.0584ms
2025-05-08 14:58:59.509 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 14:58:59.512 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:59.513 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:59.513 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:59.514 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:59.518 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:58:59.521 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.067ms
2025-05-08 14:58:59.522 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:59.523 +07:00 [INF] Response: 200
2025-05-08 14:58:59.524 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1511 application/json 15.7778ms
2025-05-08 14:58:59.661 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 14:58:59.664 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:59.665 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:59.666 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:59.667 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:59.672 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 14:58:59.674 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.8374ms
2025-05-08 14:58:59.675 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:59.677 +07:00 [INF] Response: 200
2025-05-08 14:58:59.678 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 200 1238 application/json 16.4212ms
2025-05-08 14:58:59.850 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 14:58:59.854 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 14:58:59.854 +07:00 [INF] CORS policy execution successful.
2025-05-08 14:58:59.855 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:59.856 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 14:58:59.859 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 14:58:59.864 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:58:59.869 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 14:58:59.872 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 14:58:59.873 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 14:58:59.874 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.0678ms
2025-05-08 14:58:59.876 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 14:58:59.877 +07:00 [INF] Response: 400
2025-05-08 14:58:59.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 27.4321ms
2025-05-08 14:59:11.034 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 14:59:11.040 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:00:11.083 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:00:11.090 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:11.145 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:11.152 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:13.507 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:13.511 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:13.512 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:13.513 +07:00 [INF] Response: 204
2025-05-08 15:01:13.514 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.5583ms
2025-05-08 15:01:13.516 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:13.522 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:13.526 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:13 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:01:13.563 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:13 AM'.
2025-05-08 15:01:13.565 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:01:13.567 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:01:13.569 +07:00 [INF] Response: 401
2025-05-08 15:01:13.570 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 54.7394ms
2025-05-08 15:01:19.502 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:19.505 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:19.506 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:19.507 +07:00 [INF] Response: 204
2025-05-08 15:01:19.508 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.2241ms
2025-05-08 15:01:19.510 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:19.515 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:19.516 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:19 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:01:19.519 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:19 AM'.
2025-05-08 15:01:19.521 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:01:19.522 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:01:19.524 +07:00 [INF] Response: 401
2025-05-08 15:01:19.525 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 15.478ms
2025-05-08 15:01:26.470 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:26.473 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:26.474 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:26.475 +07:00 [INF] Response: 204
2025-05-08 15:01:26.476 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.4992ms
2025-05-08 15:01:26.477 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:26.482 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:26.483 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:26 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:01:26.485 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:26 AM'.
2025-05-08 15:01:26.486 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:01:26.487 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:01:26.488 +07:00 [INF] Response: 401
2025-05-08 15:01:26.489 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 12.1447ms
2025-05-08 15:01:43.587 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 15:01:43.588 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:43.594 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:01:43.587 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:01:43.598 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:43.598 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:43.609 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 15:01:43.611 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:43.612 +07:00 [INF] Response: 204
2025-05-08 15:01:43.612 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:43.613 +07:00 [INF] Response: 204
2025-05-08 15:01:43.614 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 27.1148ms
2025-05-08 15:01:43.617 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 28.4398ms
2025-05-08 15:01:43.617 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 15:01:43.615 +07:00 [INF] Response: 204
2025-05-08 15:01:43.628 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:43.636 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:01:43.637 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 49.5466ms
2025-05-08 15:01:43.640 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:43.639 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:01:43.641 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:43 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:01:43.644 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:43 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:01:43.646 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 15:01:43.647 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:43 AM'.
2025-05-08 15:01:43.653 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:43.650 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:43 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:01:43.649 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:43 AM'.
2025-05-08 15:01:43.653 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:01:43.655 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 7:54:56 AM', Current time (UTC): '5/8/2025 8:01:43 AM'.
2025-05-08 15:01:43.656 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:01:43.656 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:01:43.659 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:01:43.658 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:43.661 +07:00 [INF] RenewAccessToken API called.
2025-05-08 15:01:43.661 +07:00 [INF] Response: 401
2025-05-08 15:01:43.662 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:01:43.663 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 35.4493ms
2025-05-08 15:01:43.664 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:43.667 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:01:43.671 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 15:01:43.677 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 15:01:43.687 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:01:43.700 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T08:01:43.6992826Z"
2025-05-08 15:01:43.701 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 15:01:43.703 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 15:01:43.704 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 33.0906ms
2025-05-08 15:01:43.706 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T08:01:43.7067295Z"
2025-05-08 15:01:43.708 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:01:43.709 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:43.710 +07:00 [INF] Response: 200
2025-05-08 15:01:43.711 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 50.4498ms
2025-05-08 15:01:43.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 73.0503ms
2025-05-08 15:01:43.712 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:01:43.716 +07:00 [INF] Response: 200
2025-05-08 15:01:43.717 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 100.685ms
2025-05-08 15:01:51.935 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:01:51.935 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:51.938 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 15:01:51.941 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:51.942 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:51.942 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:51.943 +07:00 [INF] Response: 204
2025-05-08 15:01:51.944 +07:00 [INF] Response: 204
2025-05-08 15:01:51.944 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 9.0559ms
2025-05-08 15:01:51.947 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:51.949 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:01:51.955 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:51.945 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 9.6511ms
2025-05-08 15:01:51.958 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 15:01:51.958 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:51.962 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:51.963 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:51.963 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:01:51.964 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:51.965 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:51.969 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:51.972 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 15:01:51.980 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:51.994 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:01:51.994 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:51.997 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T08:01:51.9977391Z"
2025-05-08 15:01:52.000 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:01:52.0009459Z"
2025-05-08 15:01:52.001 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 15:01:52.002 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:52.003 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.6921ms
2025-05-08 15:01:52.004 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 36.7599ms
2025-05-08 15:01:52.006 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:01:52.006 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:52.007 +07:00 [INF] Response: 200
2025-05-08 15:01:52.008 +07:00 [INF] Response: 200
2025-05-08 15:01:52.009 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 60.8009ms
2025-05-08 15:01:52.010 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 62.3829ms
2025-05-08 15:01:52.109 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:01:52.112 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:52.113 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:52.113 +07:00 [INF] Response: 204
2025-05-08 15:01:52.114 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 5.0207ms
2025-05-08 15:01:52.115 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:01:52.120 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:52.121 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:52.122 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:52.123 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:52.127 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:52.131 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:52.137 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:52.141 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:01:52.1410364Z"
2025-05-08 15:01:52.142 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:52.144 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.8623ms
2025-05-08 15:01:52.145 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:52.146 +07:00 [INF] Response: 200
2025-05-08 15:01:52.147 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 32.0604ms
2025-05-08 15:01:52.235 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:01:52.240 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:52.241 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:52.242 +07:00 [INF] Response: 204
2025-05-08 15:01:52.242 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 8.5966ms
2025-05-08 15:01:52.244 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:01:52.248 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:52.249 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:52.249 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:52.250 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:52.253 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:52.258 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:52.261 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:52.264 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:01:52.2648384Z"
2025-05-08 15:01:52.266 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:52.267 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.5384ms
2025-05-08 15:01:52.268 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:52.270 +07:00 [INF] Response: 200
2025-05-08 15:01:52.270 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 25.8919ms
2025-05-08 15:01:52.324 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:01:52.327 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:52.328 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:52.328 +07:00 [INF] Response: 204
2025-05-08 15:01:52.329 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 4.8647ms
2025-05-08 15:01:52.331 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:01:52.335 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:52.335 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:52.336 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:52.338 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:52.340 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:52.344 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:52.348 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:52.351 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 15:01:52.352 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:52.354 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.8354ms
2025-05-08 15:01:52.355 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:52.356 +07:00 [INF] Response: 400
2025-05-08 15:01:52.357 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 25.9326ms
2025-05-08 15:01:53.678 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:53.681 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:53.682 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:53.682 +07:00 [INF] Response: 204
2025-05-08 15:01:53.683 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 4.5528ms
2025-05-08 15:01:53.685 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:53.689 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:53.690 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:53.691 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:53.692 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:53.695 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:53.699 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:53.703 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:53.706 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:01:53.7063597Z"
2025-05-08 15:01:53.707 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:53.709 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.1842ms
2025-05-08 15:01:53.710 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:53.711 +07:00 [INF] Response: 200
2025-05-08 15:01:53.712 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 27.2073ms
2025-05-08 15:01:53.754 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 15:01:53.757 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:53.758 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:53.758 +07:00 [INF] Response: 204
2025-05-08 15:01:53.759 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 204 null null 4.8516ms
2025-05-08 15:01:53.760 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 15:01:53.765 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:53.766 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:53.767 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:53.768 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:53.771 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:53.776 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:53.780 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:53.783 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:01:53.7836438Z"
2025-05-08 15:01:53.785 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:53.786 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.4438ms
2025-05-08 15:01:53.788 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:53.789 +07:00 [INF] Response: 200
2025-05-08 15:01:53.789 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 200 null application/json; charset=utf-8 28.9595ms
2025-05-08 15:01:53.839 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:01:53.842 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:53.843 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:53.843 +07:00 [INF] Response: 204
2025-05-08 15:01:53.844 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.4544ms
2025-05-08 15:01:53.845 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:01:53.849 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:53.850 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:53.851 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:53.852 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:53.855 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:53.860 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:53.864 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:53.867 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:01:53.868 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:53.870 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.4692ms
2025-05-08 15:01:53.871 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:53.872 +07:00 [INF] Response: 400
2025-05-08 15:01:53.873 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 27.9011ms
2025-05-08 15:01:58.661 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:58.663 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:58.664 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:58.665 +07:00 [INF] Response: 204
2025-05-08 15:01:58.666 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.5493ms
2025-05-08 15:01:58.668 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:58.674 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:58.675 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:58.675 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:58.676 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:58.680 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:01:58.683 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.1766ms
2025-05-08 15:01:58.684 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:58.685 +07:00 [INF] Response: 200
2025-05-08 15:01:58.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1501 application/json 18.7465ms
2025-05-08 15:01:58.742 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:01:58.745 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:58.746 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:58.747 +07:00 [INF] Response: 204
2025-05-08 15:01:58.748 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 5.7003ms
2025-05-08 15:01:58.749 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:01:58.754 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:58.756 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:58.757 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:58.758 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:58.762 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:01:58.764 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.0231ms
2025-05-08 15:01:58.765 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:58.767 +07:00 [INF] Response: 200
2025-05-08 15:01:58.768 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 1674 application/json 18.4317ms
2025-05-08 15:01:58.836 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:01:58.840 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:58.841 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:58.841 +07:00 [INF] Response: 204
2025-05-08 15:01:58.842 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 5.8134ms
2025-05-08 15:01:58.843 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:01:58.849 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:58.850 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:58.851 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:58.852 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:58.856 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:01:58.858 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.2265ms
2025-05-08 15:01:58.860 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:58.861 +07:00 [INF] Response: 200
2025-05-08 15:01:58.862 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 1697 application/json 18.5484ms
2025-05-08 15:01:58.909 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:01:58.912 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:58.913 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:58.914 +07:00 [INF] Response: 204
2025-05-08 15:01:58.915 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 5.7188ms
2025-05-08 15:01:58.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:01:58.922 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:58.922 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:58.923 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:58.925 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:58.928 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:58.933 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:58.937 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:58.940 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 15:01:58.941 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:58.943 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.8406ms
2025-05-08 15:01:58.944 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:58.945 +07:00 [INF] Response: 400
2025-05-08 15:01:58.946 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 29.4979ms
2025-05-08 15:01:59.346 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:59.349 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:59.350 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:59.351 +07:00 [INF] Response: 204
2025-05-08 15:01:59.352 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.9674ms
2025-05-08 15:01:59.354 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:01:59.359 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:59.360 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:59.361 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:59.362 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:59.366 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:01:59.368 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.7769ms
2025-05-08 15:01:59.370 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:59.370 +07:00 [INF] Response: 200
2025-05-08 15:01:59.371 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1511 application/json 17.4554ms
2025-05-08 15:01:59.408 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 15:01:59.412 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:59.413 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:59.413 +07:00 [INF] Response: 204
2025-05-08 15:01:59.414 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 204 null null 5.9366ms
2025-05-08 15:01:59.416 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 15:01:59.421 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:59.422 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:59.423 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:59.424 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:59.428 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:01:59.430 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.6575ms
2025-05-08 15:01:59.432 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:59.433 +07:00 [INF] Response: 200
2025-05-08 15:01:59.434 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 200 1238 application/json 17.9301ms
2025-05-08 15:01:59.473 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:01:59.477 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:01:59.477 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:59.478 +07:00 [INF] Response: 204
2025-05-08 15:01:59.479 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.0034ms
2025-05-08 15:01:59.481 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:01:59.485 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:01:59.486 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:01:59.487 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:59.489 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:01:59.491 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:01:59.496 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:01:59.502 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:01:59.505 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:01:59.506 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:01:59.507 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.8971ms
2025-05-08 15:01:59.509 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:01:59.510 +07:00 [INF] Response: 400
2025-05-08 15:01:59.510 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 29.6399ms
2025-05-08 15:02:11.207 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:02:11.211 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:02:20.630 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:02:20.633 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:02:20.633 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:02:20.634 +07:00 [INF] Response: 204
2025-05-08 15:02:20.635 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.161ms
2025-05-08 15:02:20.636 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:02:20.642 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:02:20.643 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:02:20.643 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:02:20.644 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:02:20.647 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:02:20.650 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:02:20.755 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 15:02:20.761 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 15:02:20.768 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 256), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AccountLockUntil], [Balance], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [OtpCode], [OtpExpiration], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfilePicture], [SecurityStamp], [Status], [TwoFactorEnabled], [UserName], [ViolationCount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-05-08 15:02:20.773 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-08 15:02:20.776 +07:00 [WRN] Role 1c799461-cd28-4023-961e-8db89456c30b validation failed: DuplicateRoleName.
2025-05-08 15:02:20.779 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:02:20.784 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-05-08 15:02:20.788 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:02:20.792 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 15:02:20.796 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 15:02:20.808 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p25='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 4000), @p26='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (Size = 256), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [AccountLockUntil] = @p3, [Balance] = @p4, [ConcurrencyStamp] = @p5, [CreatedAt] = @p6, [Email] = @p7, [EmailConfirmed] = @p8, [FullName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [OtpCode] = @p14, [OtpExpiration] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [ProfilePicture] = @p19, [SecurityStamp] = @p20, [Status] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23, [ViolationCount] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2025-05-08 15:02:20.812 +07:00 [INF] SignUpStaff completed successfully for Email hongthu6264@gmail.com at "2025-05-08T08:02:20.8125510Z"
2025-05-08 15:02:20.814 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[Microsoft.AspNetCore.Identity.IdentityResult, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-05-08 15:02:20.815 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 169.1574ms
2025-05-08 15:02:20.817 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:02:20.818 +07:00 [INF] Response: 200
2025-05-08 15:02:20.818 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 200 null application/json; charset=utf-8 182.0523ms
2025-05-08 15:02:54.525 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:02:54.528 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:02:54.529 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:02:54.530 +07:00 [INF] Response: 204
2025-05-08 15:02:54.530 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.1843ms
2025-05-08 15:02:54.532 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:02:54.536 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:02:54.536 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:02:54.537 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:02:54.537 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:02:54.540 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:02:54.544 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:02:54.548 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:02:54.551 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:02:54.5511377Z"
2025-05-08 15:02:54.553 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:02:54.554 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.0368ms
2025-05-08 15:02:54.556 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:02:54.557 +07:00 [INF] Response: 200
2025-05-08 15:02:54.558 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 25.9234ms
2025-05-08 15:02:54.646 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:02:54.650 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:02:54.650 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:02:54.651 +07:00 [INF] Response: 204
2025-05-08 15:02:54.652 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 5.6679ms
2025-05-08 15:02:54.653 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:02:54.659 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:02:54.660 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:02:54.661 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:02:54.662 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:02:54.666 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:02:54.671 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:02:54.676 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:02:54.679 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:02:54.6791380Z"
2025-05-08 15:02:54.681 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:02:54.682 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.4762ms
2025-05-08 15:02:54.684 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:02:54.684 +07:00 [INF] Response: 200
2025-05-08 15:02:54.685 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 32.3702ms
2025-05-08 15:02:54.914 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:02:54.917 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:02:54.918 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:02:54.919 +07:00 [INF] Response: 204
2025-05-08 15:02:54.919 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.5557ms
2025-05-08 15:02:54.921 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:02:54.926 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:02:54.927 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:02:54.928 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:02:54.929 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:02:54.932 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:02:54.937 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:02:54.942 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:02:54.946 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:02:54.947 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:02:54.949 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.7545ms
2025-05-08 15:02:54.951 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:02:54.952 +07:00 [INF] Response: 400
2025-05-08 15:02:54.953 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 31.7425ms
2025-05-08 15:03:03.972 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 15:03:03.972 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:03:03.978 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:03:03.973 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:03:03.981 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 15:03:03.982 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:03.985 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:03.986 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:03.986 +07:00 [INF] Response: 204
2025-05-08 15:03:03.987 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:03.987 +07:00 [INF] Response: 204
2025-05-08 15:03:03.988 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 16.241ms
2025-05-08 15:03:03.991 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 18.6953ms
2025-05-08 15:03:04.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:03:03.990 +07:00 [INF] Response: 204
2025-05-08 15:03:03.990 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 15:03:04.015 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 15:03:04.015 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 42.6758ms
2025-05-08 15:03:04.018 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:03:04.019 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:03:04.019 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.025 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:04.026 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.026 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:03:04.027 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.027 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:03:04.028 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:04.028 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:04.029 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:03:04.030 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 15:03:04.031 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:04.033 +07:00 [INF] RenewAccessToken API called.
2025-05-08 15:03:04.038 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:04.039 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:03:04.042 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:03:04.045 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T08:03:04.0450351Z"
2025-05-08 15:03:04.053 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:04.056 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 15:03:04.058 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 15:03:04.059 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 28.4349ms
2025-05-08 15:03:04.062 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:04.063 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:03:04.066 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 15:03:04.066 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:03:04.0669075Z"
2025-05-08 15:03:04.067 +07:00 [INF] Response: 200
2025-05-08 15:03:04.070 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:04.069 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T08:03:04.0696469Z"
2025-05-08 15:03:04.070 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 60.319ms
2025-05-08 15:03:04.071 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 35.8274ms
2025-05-08 15:03:04.072 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:04.077 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:04.078 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 45.0406ms
2025-05-08 15:03:04.079 +07:00 [INF] Response: 200
2025-05-08 15:03:04.080 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:03:04.080 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 62.7326ms
2025-05-08 15:03:04.081 +07:00 [INF] Response: 200
2025-05-08 15:03:04.084 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 93.6029ms
2025-05-08 15:03:04.181 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:03:04.183 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:04.184 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.185 +07:00 [INF] Response: 204
2025-05-08 15:03:04.186 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 5.2665ms
2025-05-08 15:03:04.188 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:03:04.191 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:04.192 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.193 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:04.194 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:04.198 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:04.202 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:04.206 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:04.210 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:03:04.2100542Z"
2025-05-08 15:03:04.211 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:04.213 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.1854ms
2025-05-08 15:03:04.215 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:04.216 +07:00 [INF] Response: 200
2025-05-08 15:03:04.217 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 29.215ms
2025-05-08 15:03:04.359 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:03:04.362 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:04.363 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.363 +07:00 [INF] Response: 204
2025-05-08 15:03:04.364 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 5.7694ms
2025-05-08 15:03:04.366 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:03:04.371 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:04.372 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.372 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:04.373 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:04.376 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:04.381 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:04.386 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:04.389 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:03:04.3889957Z"
2025-05-08 15:03:04.390 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:04.391 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.7024ms
2025-05-08 15:03:04.393 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:04.394 +07:00 [INF] Response: 200
2025-05-08 15:03:04.395 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 29.2271ms
2025-05-08 15:03:04.482 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:03:04.485 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:04.485 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.486 +07:00 [INF] Response: 204
2025-05-08 15:03:04.487 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 5.2347ms
2025-05-08 15:03:04.489 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:03:04.492 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:04.493 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:04.494 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:04.495 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:04.499 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:04.503 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:04.507 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:04.510 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 15:03:04.511 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:04.512 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.8329ms
2025-05-08 15:03:04.514 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:04.515 +07:00 [INF] Response: 400
2025-05-08 15:03:04.516 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 27.0706ms
2025-05-08 15:03:05.185 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:03:05.188 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:05.189 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:05.189 +07:00 [INF] Response: 204
2025-05-08 15:03:05.190 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.2951ms
2025-05-08 15:03:05.192 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:03:05.197 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:05.198 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:05.198 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:05.199 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:05.203 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:03:05.204 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 2.9663ms
2025-05-08 15:03:05.205 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:05.206 +07:00 [INF] Response: 200
2025-05-08 15:03:05.207 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1359 application/json 15.4157ms
2025-05-08 15:03:05.254 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:03:05.256 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:05.257 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:05.258 +07:00 [INF] Response: 204
2025-05-08 15:03:05.258 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 4.8162ms
2025-05-08 15:03:05.260 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:03:05.266 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:05.267 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:05.268 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:05.269 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:05.273 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:03:05.275 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.9881ms
2025-05-08 15:03:05.276 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:05.277 +07:00 [INF] Response: 200
2025-05-08 15:03:05.278 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 1816 application/json 18.3187ms
2025-05-08 15:03:05.328 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:03:05.330 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:05.331 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:05.332 +07:00 [INF] Response: 204
2025-05-08 15:03:05.332 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.0648ms
2025-05-08 15:03:05.335 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:03:05.339 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:05.340 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:05.340 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:05.342 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:05.344 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:05.348 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:05.352 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:05.355 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:03:05.356 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:05.357 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 13.401ms
2025-05-08 15:03:05.358 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:05.359 +07:00 [INF] Response: 400
2025-05-08 15:03:05.359 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 23.9847ms
2025-05-08 15:03:11.292 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:11.297 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:23.213 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:03:23.216 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:03:23.217 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:23.218 +07:00 [INF] Response: 204
2025-05-08 15:03:23.218 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.441ms
2025-05-08 15:03:23.220 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:03:23.225 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:03:23.226 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:23.226 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:23.227 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:03:23.230 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:03:23.232 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.0816ms
2025-05-08 15:03:23.233 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:23.234 +07:00 [INF] Response: 400
2025-05-08 15:03:23.235 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 15.4291ms
2025-05-08 15:03:26.293 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:03:26.296 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:03:26.297 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:26.298 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:26.299 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:03:26.302 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:03:26.304 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.7106ms
2025-05-08 15:03:26.305 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:26.306 +07:00 [INF] Response: 400
2025-05-08 15:03:26.307 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 14.2892ms
2025-05-08 15:03:29.819 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:03:29.822 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:03:29.823 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:29.823 +07:00 [INF] Response: 204
2025-05-08 15:03:29.824 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.4995ms
2025-05-08 15:03:29.826 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:03:29.831 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:03:29.832 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:29.833 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:29.834 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:03:29.837 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:03:29.838 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.6732ms
2025-05-08 15:03:29.839 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:29.841 +07:00 [INF] Response: 400
2025-05-08 15:03:29.841 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 15.4192ms
2025-05-08 15:03:55.507 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:03:55.510 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:55.511 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:55.511 +07:00 [INF] Response: 204
2025-05-08 15:03:55.512 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 4.8727ms
2025-05-08 15:03:55.514 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:03:55.519 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:55.519 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:55.520 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:55.521 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:55.525 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:55.530 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:55.535 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:55.538 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:03:55.5385202Z"
2025-05-08 15:03:55.540 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:55.541 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.0769ms
2025-05-08 15:03:55.543 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:55.544 +07:00 [INF] Response: 200
2025-05-08 15:03:55.545 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 30.7415ms
2025-05-08 15:03:55.667 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:03:55.670 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:55.671 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:55.672 +07:00 [INF] Response: 204
2025-05-08 15:03:55.672 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 5.2788ms
2025-05-08 15:03:55.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:03:55.680 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:55.681 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:55.681 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:55.683 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:55.686 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:55.691 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:55.696 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:55.698 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:03:55.6989595Z"
2025-05-08 15:03:55.700 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:55.702 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.7916ms
2025-05-08 15:03:55.703 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:55.704 +07:00 [INF] Response: 200
2025-05-08 15:03:55.705 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 31.4158ms
2025-05-08 15:03:55.888 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:03:55.891 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:03:55.891 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:55.892 +07:00 [INF] Response: 204
2025-05-08 15:03:55.892 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 4.9764ms
2025-05-08 15:03:55.894 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:03:55.898 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:55.899 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:55.899 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:55.900 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:55.903 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:55.907 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:55.911 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:55.915 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:03:55.916 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:55.917 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.6336ms
2025-05-08 15:03:55.918 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:55.918 +07:00 [INF] Response: 400
2025-05-08 15:03:55.919 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 25.3867ms
2025-05-08 15:03:56.493 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:03:56.496 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:56.497 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:56.497 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:56.498 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:56.502 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:03:56.504 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.5771ms
2025-05-08 15:03:56.505 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:56.505 +07:00 [INF] Response: 200
2025-05-08 15:03:56.506 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1359 application/json 12.8676ms
2025-05-08 15:03:56.628 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:03:56.631 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:56.632 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:56.633 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:56.634 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:56.637 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:03:56.639 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.1628ms
2025-05-08 15:03:56.640 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:56.641 +07:00 [INF] Response: 200
2025-05-08 15:03:56.642 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 1816 application/json 13.4252ms
2025-05-08 15:03:56.833 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:03:56.837 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:03:56.838 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:56.839 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:56.840 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:03:56.844 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:03:56.849 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:03:56.855 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:03:56.858 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:03:56.860 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:03:56.862 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.6646ms
2025-05-08 15:03:56.863 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:03:56.865 +07:00 [INF] Response: 400
2025-05-08 15:03:56.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 32.8069ms
2025-05-08 15:03:58.629 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:03:58.632 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:03:58.633 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:58.634 +07:00 [INF] Response: 204
2025-05-08 15:03:58.635 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 6.1986ms
2025-05-08 15:03:58.637 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:03:58.643 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:03:58.644 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:58.644 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:58.646 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:03:58.648 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:03:58.650 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.6313ms
2025-05-08 15:03:58.651 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:58.652 +07:00 [INF] Response: 400
2025-05-08 15:03:58.653 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 16.4251ms
2025-05-08 15:03:59.502 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:03:59.505 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:03:59.506 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:03:59.508 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:59.509 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:03:59.511 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:03:59.512 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.4163ms
2025-05-08 15:03:59.514 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:03:59.515 +07:00 [INF] Response: 400
2025-05-08 15:03:59.516 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 13.6701ms
2025-05-08 15:04:11.352 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:11.359 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:16.435 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:16.438 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:16.439 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:16.439 +07:00 [INF] Response: 204
2025-05-08 15:04:16.440 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.1934ms
2025-05-08 15:04:16.443 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:16.447 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:16.448 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:16.449 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:16.449 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:16.452 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:16.457 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:16.461 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:16.464 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:04:16.4644202Z"
2025-05-08 15:04:16.466 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:16.467 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.1873ms
2025-05-08 15:04:16.469 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:16.469 +07:00 [INF] Response: 200
2025-05-08 15:04:16.470 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 27.5307ms
2025-05-08 15:04:16.612 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:04:16.615 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:16.616 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:16.617 +07:00 [INF] Response: 204
2025-05-08 15:04:16.617 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 5.2896ms
2025-05-08 15:04:16.619 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:04:16.624 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:16.624 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:16.625 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:16.626 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:16.630 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:16.634 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:16.639 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:16.642 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:04:16.6421705Z"
2025-05-08 15:04:16.644 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:16.645 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.6882ms
2025-05-08 15:04:16.647 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:16.648 +07:00 [INF] Response: 200
2025-05-08 15:04:16.648 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 29.2325ms
2025-05-08 15:04:16.724 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:04:16.727 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:16.728 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:16.729 +07:00 [INF] Response: 204
2025-05-08 15:04:16.730 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.461ms
2025-05-08 15:04:16.732 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:04:16.737 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:16.738 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:16.739 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:16.740 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:16.743 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:16.748 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:16.753 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:16.756 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:04:16.757 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:16.759 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.7812ms
2025-05-08 15:04:16.761 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:16.762 +07:00 [INF] Response: 400
2025-05-08 15:04:16.763 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 31.3807ms
2025-05-08 15:04:43.418 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:43.422 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:43.423 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:43.423 +07:00 [INF] Response: 204
2025-05-08 15:04:43.424 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.1973ms
2025-05-08 15:04:43.426 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:43.432 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:43.432 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:43.433 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:43.434 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:43.439 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:04:43.441 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.8967ms
2025-05-08 15:04:43.443 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:43.444 +07:00 [INF] Response: 200
2025-05-08 15:04:43.445 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1359 application/json 19.0264ms
2025-05-08 15:04:43.597 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:04:43.600 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:43.601 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:43.602 +07:00 [INF] Response: 204
2025-05-08 15:04:43.603 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 6.136ms
2025-05-08 15:04:43.605 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:04:43.611 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:43.612 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:43.613 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:43.614 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:43.618 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:04:43.621 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.261ms
2025-05-08 15:04:43.622 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:43.624 +07:00 [INF] Response: 200
2025-05-08 15:04:43.625 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 1816 application/json 20.2918ms
2025-05-08 15:04:43.711 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:04:43.714 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:43.715 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:43.716 +07:00 [INF] Response: 204
2025-05-08 15:04:43.717 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 6.5002ms
2025-05-08 15:04:43.719 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:04:43.725 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:43.726 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:43.726 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:43.728 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:43.732 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:43.735 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:43.739 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:43.743 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:04:43.744 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:43.746 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.6737ms
2025-05-08 15:04:43.747 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:43.748 +07:00 [INF] Response: 400
2025-05-08 15:04:43.749 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 29.7263ms
2025-05-08 15:04:47.460 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:47.462 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:47.463 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:47.464 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:47.465 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:47.469 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:04:47.471 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.7183ms
2025-05-08 15:04:47.473 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:47.473 +07:00 [INF] Response: 200
2025-05-08 15:04:47.474 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1359 application/json 14.5423ms
2025-05-08 15:04:47.600 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:04:47.603 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:47.604 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:47.605 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:47.605 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:47.610 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:04:47.612 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 4.3669ms
2025-05-08 15:04:47.613 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:47.614 +07:00 [INF] Response: 200
2025-05-08 15:04:47.615 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 1816 application/json 15.098ms
2025-05-08 15:04:47.701 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:04:47.704 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:47.705 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:47.706 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:47.706 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:47.709 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:47.713 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:47.718 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:47.722 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:04:47.723 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:47.725 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.6265ms
2025-05-08 15:04:47.726 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:47.728 +07:00 [INF] Response: 400
2025-05-08 15:04:47.728 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 28.2848ms
2025-05-08 15:04:52.829 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 15:04:52.830 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:04:52.831 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:52.837 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:04:52.848 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 15:04:52.853 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:52.853 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:52.853 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:52.854 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:52.855 +07:00 [INF] Response: 204
2025-05-08 15:04:52.856 +07:00 [INF] Response: 204
2025-05-08 15:04:52.857 +07:00 [INF] Response: 204
2025-05-08 15:04:52.857 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 28.8521ms
2025-05-08 15:04:52.860 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 29.5655ms
2025-05-08 15:04:52.884 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 15:04:52.858 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 28.6737ms
2025-05-08 15:04:52.884 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:52.884 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:04:52.897 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:04:52.902 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:52.904 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 15:04:52.905 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:52.905 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:52.906 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:52.906 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:04:52.907 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:52.907 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:04:52.910 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:52.909 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:52.908 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:04:52.913 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 15:04:52.917 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:52.918 +07:00 [INF] RenewAccessToken API called.
2025-05-08 15:04:52.926 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:04:52.927 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:04:52.932 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T08:04:52.9321622Z"
2025-05-08 15:04:52.937 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:52.942 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 15:04:52.944 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 15:04:52.945 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 32.2383ms
2025-05-08 15:04:52.945 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:52.948 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:04:52.951 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 15:04:52.953 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:04:52.9533460Z"
2025-05-08 15:04:52.953 +07:00 [INF] Response: 200
2025-05-08 15:04:52.957 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T08:04:52.9571453Z"
2025-05-08 15:04:52.959 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:52.960 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 76.3512ms
2025-05-08 15:04:52.962 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:52.963 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 48.8675ms
2025-05-08 15:04:52.967 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 49.2414ms
2025-05-08 15:04:52.968 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:52.969 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:04:52.970 +07:00 [INF] Response: 200
2025-05-08 15:04:52.971 +07:00 [INF] Response: 200
2025-05-08 15:04:52.972 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 88.1602ms
2025-05-08 15:04:52.972 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 88.6786ms
2025-05-08 15:04:53.050 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:04:53.053 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:53.053 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:53.054 +07:00 [INF] Response: 204
2025-05-08 15:04:53.055 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 4.7329ms
2025-05-08 15:04:53.056 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:04:53.061 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:53.062 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:53.062 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:53.063 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:53.065 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:53.070 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:53.076 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:53.080 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:04:53.0800350Z"
2025-05-08 15:04:53.081 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:53.083 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.3711ms
2025-05-08 15:04:53.084 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:53.085 +07:00 [INF] Response: 200
2025-05-08 15:04:53.085 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 29.079ms
2025-05-08 15:04:53.147 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:04:53.150 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:53.151 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:53.152 +07:00 [INF] Response: 204
2025-05-08 15:04:53.153 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 5.605ms
2025-05-08 15:04:53.154 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:04:53.159 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:53.160 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:53.161 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:53.162 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:53.165 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:53.169 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:53.173 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:53.176 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:04:53.1763854Z"
2025-05-08 15:04:53.178 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:53.179 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.0434ms
2025-05-08 15:04:53.180 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:53.182 +07:00 [INF] Response: 200
2025-05-08 15:04:53.183 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 29.0453ms
2025-05-08 15:04:53.264 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:04:53.266 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:53.267 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:53.268 +07:00 [INF] Response: 204
2025-05-08 15:04:53.268 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 4.732ms
2025-05-08 15:04:53.270 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:04:53.274 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:53.275 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:53.275 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:53.276 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:53.280 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:53.283 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:53.287 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:53.290 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 15:04:53.291 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:53.293 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 13.9907ms
2025-05-08 15:04:53.294 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:53.295 +07:00 [INF] Response: 400
2025-05-08 15:04:53.296 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 26.7539ms
2025-05-08 15:04:54.474 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:54.477 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:54.478 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:54.478 +07:00 [INF] Response: 204
2025-05-08 15:04:54.479 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.048ms
2025-05-08 15:04:54.481 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:04:54.484 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:54.485 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:54.486 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:54.486 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:54.490 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:04:54.492 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.4411ms
2025-05-08 15:04:54.493 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:54.494 +07:00 [INF] Response: 200
2025-05-08 15:04:54.494 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1359 application/json 13.8227ms
2025-05-08 15:04:54.555 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:04:54.558 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:54.559 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:54.559 +07:00 [INF] Response: 204
2025-05-08 15:04:54.560 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 5.041ms
2025-05-08 15:04:54.561 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:04:54.566 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:54.566 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:54.567 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:54.569 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:54.572 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:04:54.573 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 2.19ms
2025-05-08 15:04:54.574 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:54.575 +07:00 [INF] Response: 200
2025-05-08 15:04:54.576 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 1816 application/json 15.0429ms
2025-05-08 15:04:54.650 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:04:54.653 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:04:54.654 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:54.655 +07:00 [INF] Response: 204
2025-05-08 15:04:54.656 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.9652ms
2025-05-08 15:04:54.658 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:04:54.663 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:04:54.664 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:04:54.665 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:54.665 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:04:54.669 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:04:54.674 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:04:54.679 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:04:54.681 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:04:54.682 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:04:54.684 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.1876ms
2025-05-08 15:04:54.685 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:04:54.685 +07:00 [INF] Response: 400
2025-05-08 15:04:54.686 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 28.1225ms
2025-05-08 15:05:07.569 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:05:07.572 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:05:07.572 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:07.573 +07:00 [INF] Response: 204
2025-05-08 15:05:07.575 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.7028ms
2025-05-08 15:05:07.576 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:05:07.582 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:05:07.583 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:07.584 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:05:07.585 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:05:07.588 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:05:07.589 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.3952ms
2025-05-08 15:05:07.591 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:05:07.592 +07:00 [INF] Response: 400
2025-05-08 15:05:07.592 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 16.5191ms
2025-05-08 15:05:11.448 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:05:11.455 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:05:32.521 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:05:32.525 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:05:32.525 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:32.526 +07:00 [INF] Response: 204
2025-05-08 15:05:32.526 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.0661ms
2025-05-08 15:05:32.528 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:05:32.532 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:05:32.533 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:32.534 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:05:32.535 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:05:32.538 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:05:32.543 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:05:32.547 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:05:32.553 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:05:32.5539235Z"
2025-05-08 15:05:32.556 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:05:32.558 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 20.6244ms
2025-05-08 15:05:32.560 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:05:32.561 +07:00 [INF] Response: 200
2025-05-08 15:05:32.562 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 33.768ms
2025-05-08 15:05:32.668 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:05:32.670 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:05:32.671 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:32.672 +07:00 [INF] Response: 204
2025-05-08 15:05:32.672 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 4.5311ms
2025-05-08 15:05:32.674 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:05:32.677 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:05:32.678 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:32.679 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:05:32.680 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:05:32.682 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:05:32.686 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:05:32.691 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:05:32.693 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:05:32.6933030Z"
2025-05-08 15:05:32.695 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:05:32.696 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.4169ms
2025-05-08 15:05:32.697 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:05:32.698 +07:00 [INF] Response: 200
2025-05-08 15:05:32.699 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 25.1059ms
2025-05-08 15:05:32.851 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:05:32.854 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:05:32.855 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:32.855 +07:00 [INF] Response: 204
2025-05-08 15:05:32.856 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.0624ms
2025-05-08 15:05:32.858 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:05:32.863 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:05:32.864 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:32.865 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:05:32.865 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:05:32.869 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:05:32.874 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:05:32.878 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:05:32.881 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:05:32.883 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:05:32.884 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.9533ms
2025-05-08 15:05:32.885 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:05:32.886 +07:00 [INF] Response: 400
2025-05-08 15:05:32.887 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 28.8688ms
2025-05-08 15:05:38.967 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:05:38.971 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:05:38.972 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:38.972 +07:00 [INF] Response: 204
2025-05-08 15:05:38.973 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 6.0595ms
2025-05-08 15:05:38.975 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:05:38.981 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:05:38.982 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:38.982 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:05:38.983 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:05:38.986 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:05:38.988 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.0883ms
2025-05-08 15:05:38.989 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:05:38.990 +07:00 [INF] Response: 400
2025-05-08 15:05:38.991 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 16.5305ms
2025-05-08 15:05:42.269 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:05:42.272 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:05:42.273 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:05:42.274 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:05:42.276 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:05:42.279 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:05:42.281 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.0624ms
2025-05-08 15:05:42.283 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:05:42.284 +07:00 [INF] Response: 400
2025-05-08 15:05:42.285 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 16.824ms
2025-05-08 15:06:11.475 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:06:11.480 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:06:22.443 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:06:22.446 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:06:22.447 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:06:22.447 +07:00 [INF] Response: 204
2025-05-08 15:06:22.448 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 4.1625ms
2025-05-08 15:06:22.449 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 135
2025-05-08 15:06:22.455 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:06:22.456 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:06:22.457 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:06:22.458 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:06:22.460 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:06:22.462 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.9519ms
2025-05-08 15:06:22.463 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:06:22.464 +07:00 [INF] Response: 400
2025-05-08 15:06:22.465 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 15.794ms
2025-05-08 15:07:11.520 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:07:11.525 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:07:31.510 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:07:31.512 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:07:31.513 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:31.514 +07:00 [INF] Response: 204
2025-05-08 15:07:31.514 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 4.6528ms
2025-05-08 15:07:31.516 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:07:31.520 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:07:31.521 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:31.522 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:07:31.522 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:07:31.526 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:07:31.531 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:07:31.537 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:07:31.540 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:07:31.5400623Z"
2025-05-08 15:07:31.541 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:07:31.543 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.1935ms
2025-05-08 15:07:31.544 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:07:31.545 +07:00 [INF] Response: 200
2025-05-08 15:07:31.546 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 29.9181ms
2025-05-08 15:07:31.643 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:07:31.646 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:07:31.647 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:31.648 +07:00 [INF] Response: 204
2025-05-08 15:07:31.649 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 5.631ms
2025-05-08 15:07:31.650 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:07:31.655 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:07:31.655 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:31.656 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:07:31.657 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:07:31.659 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:07:31.663 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:07:31.668 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:07:31.671 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:07:31.6712338Z"
2025-05-08 15:07:31.672 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:07:31.674 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.2442ms
2025-05-08 15:07:31.675 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:07:31.676 +07:00 [INF] Response: 200
2025-05-08 15:07:31.676 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 26.0888ms
2025-05-08 15:07:31.845 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:07:31.848 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:07:31.848 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:31.849 +07:00 [INF] Response: 204
2025-05-08 15:07:31.849 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 4.3275ms
2025-05-08 15:07:31.851 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:07:31.855 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:07:31.856 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:31.857 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:07:31.858 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:07:31.861 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:07:31.865 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:07:31.870 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:07:31.873 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:07:31.874 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:07:31.875 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.2923ms
2025-05-08 15:07:31.877 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:07:31.877 +07:00 [INF] Response: 400
2025-05-08 15:07:31.878 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 26.847ms
2025-05-08 15:07:36.600 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:07:36.602 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:07:36.603 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:36.604 +07:00 [INF] Response: 204
2025-05-08 15:07:36.604 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 4.8219ms
2025-05-08 15:07:36.606 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:07:36.612 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:07:36.613 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:36.614 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:07:36.615 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:07:36.617 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:07:36.618 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.2686ms
2025-05-08 15:07:36.619 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:07:36.620 +07:00 [INF] Response: 400
2025-05-08 15:07:36.621 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 15.0121ms
2025-05-08 15:07:38.106 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:07:38.109 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:07:38.110 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:07:38.111 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:07:38.112 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:07:38.115 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:07:38.117 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.1821ms
2025-05-08 15:07:38.118 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:07:38.119 +07:00 [INF] Response: 400
2025-05-08 15:07:38.120 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 14.485ms
2025-05-08 15:08:11.603 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:08:11.607 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:08:13.524 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:08:13.530 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:08:13.530 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:13.531 +07:00 [INF] Response: 204
2025-05-08 15:08:13.532 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 7.5094ms
2025-05-08 15:08:13.534 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:08:13.538 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:08:13.539 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:13.540 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:13.541 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:08:13.545 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:08:13.549 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:08:13.554 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:08:13.557 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:08:13.5578056Z"
2025-05-08 15:08:13.559 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:08:13.561 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.0716ms
2025-05-08 15:08:13.562 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:13.563 +07:00 [INF] Response: 200
2025-05-08 15:08:13.564 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 30.5177ms
2025-05-08 15:08:13.658 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:08:13.661 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:08:13.661 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:13.662 +07:00 [INF] Response: 204
2025-05-08 15:08:13.663 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 5.1349ms
2025-05-08 15:08:13.664 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:08:13.669 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:08:13.670 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:13.671 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:13.673 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:08:13.675 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:08:13.680 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:08:13.686 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:08:13.690 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:08:13.6902025Z"
2025-05-08 15:08:13.692 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:08:13.693 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.5984ms
2025-05-08 15:08:13.694 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:13.696 +07:00 [INF] Response: 200
2025-05-08 15:08:13.697 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 32.8116ms
2025-05-08 15:08:13.877 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:08:13.881 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:08:13.881 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:13.882 +07:00 [INF] Response: 204
2025-05-08 15:08:13.882 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.217ms
2025-05-08 15:08:13.884 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:08:13.889 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:08:13.890 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:13.891 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:13.892 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:08:13.895 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:08:13.899 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:08:13.905 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:08:13.909 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:08:13.910 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:08:13.912 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.9161ms
2025-05-08 15:08:13.913 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:13.914 +07:00 [INF] Response: 400
2025-05-08 15:08:13.915 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 31.0501ms
2025-05-08 15:08:16.806 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:08:16.810 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:08:16.811 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:16.811 +07:00 [INF] Response: 204
2025-05-08 15:08:16.812 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.8579ms
2025-05-08 15:08:16.814 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 132
2025-05-08 15:08:16.819 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:08:16.821 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:16.821 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:08:16.822 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:08:16.825 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:08:16.827 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.195ms
2025-05-08 15:08:16.828 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:08:16.829 +07:00 [INF] Response: 400
2025-05-08 15:08:16.830 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 16.6997ms
2025-05-08 15:08:24.388 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:08:24.391 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:08:24.391 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:24.392 +07:00 [INF] Response: 204
2025-05-08 15:08:24.393 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.1516ms
2025-05-08 15:08:24.394 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 137
2025-05-08 15:08:24.399 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:08:24.400 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:24.401 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:08:24.402 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:08:24.405 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:08:24.407 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.096ms
2025-05-08 15:08:24.408 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:08:24.409 +07:00 [INF] Response: 400
2025-05-08 15:08:24.410 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 16.2664ms
2025-05-08 15:08:25.706 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 137
2025-05-08 15:08:25.709 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:08:25.710 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:25.710 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:08:25.711 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:08:25.713 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:08:25.715 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 1.6742ms
2025-05-08 15:08:25.716 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:08:25.718 +07:00 [INF] Response: 400
2025-05-08 15:08:25.719 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 12.9914ms
2025-05-08 15:08:43.517 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:08:43.520 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:08:43.521 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:43.521 +07:00 [INF] Response: 204
2025-05-08 15:08:43.522 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 4.8175ms
2025-05-08 15:08:43.523 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:08:43.527 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:08:43.528 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:43.529 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:43.530 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:08:43.533 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:08:43.535 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 3.2042ms
2025-05-08 15:08:43.536 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:43.537 +07:00 [INF] Response: 200
2025-05-08 15:08:43.538 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 1359 application/json 14.3659ms
2025-05-08 15:08:43.639 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:08:43.641 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:08:43.642 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:43.642 +07:00 [INF] Response: 204
2025-05-08 15:08:43.643 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 4.3362ms
2025-05-08 15:08:43.644 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:08:43.649 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:08:43.649 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:43.650 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:43.652 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:08:43.658 +07:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-05-08 15:08:43.659 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 2.5463ms
2025-05-08 15:08:43.660 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:43.660 +07:00 [INF] Response: 200
2025-05-08 15:08:43.661 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 1816 application/json 16.4309ms
2025-05-08 15:08:43.832 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:08:43.836 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:08:43.836 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:43.837 +07:00 [INF] Response: 204
2025-05-08 15:08:43.837 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.2122ms
2025-05-08 15:08:43.839 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:08:43.842 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:08:43.843 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:43.843 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:43.844 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:08:43.847 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:08:43.853 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:08:43.858 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:08:43.861 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:08:43.862 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:08:43.863 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.1907ms
2025-05-08 15:08:43.865 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:08:43.865 +07:00 [INF] Response: 400
2025-05-08 15:08:43.866 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 27.2192ms
2025-05-08 15:08:49.989 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:08:49.992 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:08:49.993 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:49.993 +07:00 [INF] Response: 204
2025-05-08 15:08:49.994 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 4.991ms
2025-05-08 15:08:49.995 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 137
2025-05-08 15:08:50.001 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:08:50.002 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:08:50.002 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:08:50.004 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:08:50.007 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-05-08 15:08:50.009 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 2.199ms
2025-05-08 15:08:50.010 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:08:50.011 +07:00 [INF] Response: 400
2025-05-08 15:08:50.011 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/problem+json; charset=utf-8 15.8963ms
2025-05-08 15:09:11.670 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:09:11.674 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:09:51.737 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:09:51.740 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:09:51.740 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:09:51.741 +07:00 [INF] Response: 204
2025-05-08 15:09:51.742 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.0047ms
2025-05-08 15:09:51.743 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:09:51.749 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:09:51.750 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:09:51.751 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:09:51.752 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:09:51.754 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:09:51.761 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:09:51.855 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 15:09:51.861 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 15:09:51.869 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 256), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AccountLockUntil], [Balance], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [OtpCode], [OtpExpiration], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfilePicture], [SecurityStamp], [Status], [TwoFactorEnabled], [UserName], [ViolationCount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-05-08 15:09:51.875 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-08 15:09:51.878 +07:00 [WRN] Role e76f4540-c88d-48fd-b17a-8e004f260a6c validation failed: DuplicateRoleName.
2025-05-08 15:09:51.882 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:09:51.887 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-05-08 15:09:51.891 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:09:51.896 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 15:09:51.900 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 15:09:51.910 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p25='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 4000), @p26='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (Size = 256), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [AccountLockUntil] = @p3, [Balance] = @p4, [ConcurrencyStamp] = @p5, [CreatedAt] = @p6, [Email] = @p7, [EmailConfirmed] = @p8, [FullName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [OtpCode] = @p14, [OtpExpiration] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [ProfilePicture] = @p19, [SecurityStamp] = @p20, [Status] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23, [ViolationCount] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2025-05-08 15:09:51.913 +07:00 [INF] SignUpStaff completed successfully for Email hongthu6266@gmail.com at "2025-05-08T08:09:51.9136620Z"
2025-05-08 15:09:51.914 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[Microsoft.AspNetCore.Identity.IdentityResult, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-05-08 15:09:51.916 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 161.4672ms
2025-05-08 15:09:51.917 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:09:51.918 +07:00 [INF] Response: 200
2025-05-08 15:09:51.919 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 200 null application/json; charset=utf-8 175.5985ms
2025-05-08 15:10:11.725 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:10:11.732 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:10:53.536 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:10:53.539 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:10:53.540 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:10:53.541 +07:00 [INF] Response: 204
2025-05-08 15:10:53.542 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.8253ms
2025-05-08 15:10:53.544 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:10:53.548 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:10:53.550 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:10:53 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:10:53.552 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:10:53 AM'.
2025-05-08 15:10:53.554 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:10:53.555 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:10:53.556 +07:00 [INF] Response: 401
2025-05-08 15:10:53.557 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 13.3592ms
2025-05-08 15:10:56.475 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:10:56.478 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:10:56.479 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:10:56 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:10:56.481 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:10:56 AM'.
2025-05-08 15:10:56.482 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:10:56.483 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:10:56.484 +07:00 [INF] Response: 401
2025-05-08 15:10:56.485 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 10.0614ms
2025-05-08 15:10:59.968 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:10:59.971 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:10:59.972 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:10:59.973 +07:00 [INF] Response: 204
2025-05-08 15:10:59.974 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 6.1311ms
2025-05-08 15:10:59.975 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:10:59.981 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:10:59.983 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:10:59 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:10:59.985 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:10:59 AM'.
2025-05-08 15:10:59.987 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager)
2025-05-08 15:10:59.988 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:10:59.988 +07:00 [INF] Response: 401
2025-05-08 15:10:59.989 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 401 null application/json 14.3512ms
2025-05-08 15:11:04.112 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 15:11:04.113 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:11:04.112 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:11:04.120 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:11:04.123 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:11:04.126 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 15:11:04.126 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:04.127 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:04.128 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:04.128 +07:00 [INF] Response: 204
2025-05-08 15:11:04.129 +07:00 [INF] Response: 204
2025-05-08 15:11:04.129 +07:00 [INF] Response: 204
2025-05-08 15:11:04.131 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 18.2449ms
2025-05-08 15:11:04.133 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 15:11:04.145 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:11:04.133 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 20.5929ms
2025-05-08 15:11:04.130 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 18.3871ms
2025-05-08 15:11:04.143 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:11:04.152 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:11:04.154 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 15:11:04.162 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:04.163 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:11:04 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:11:04.164 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:11:04 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:11:04.165 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:11:04 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:11:04.169 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:11:04 AM'.
2025-05-08 15:11:04.168 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:11:04 AM'.
2025-05-08 15:11:04.166 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:05:52 AM', Current time (UTC): '5/8/2025 8:11:04 AM'.
2025-05-08 15:11:04.175 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:11:04.178 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:11:04.177 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:04.179 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:11:04.176 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:04.179 +07:00 [INF] Response: 401
2025-05-08 15:11:04.181 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:11:04.182 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:11:04.182 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 39.5148ms
2025-05-08 15:11:04.183 +07:00 [INF] RenewAccessToken API called.
2025-05-08 15:11:04.184 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:04.189 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 15:11:04.195 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:11:04.209 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 15:11:04.211 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:11:04.217 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T08:11:04.2174418Z"
2025-05-08 15:11:04.218 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 15:11:04.219 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 15:11:04.219 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 30.6766ms
2025-05-08 15:11:04.221 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T08:11:04.2216498Z"
2025-05-08 15:11:04.222 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:11:04.223 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:04.224 +07:00 [INF] Response: 200
2025-05-08 15:11:04.224 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 41.0437ms
2025-05-08 15:11:04.225 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 80.3415ms
2025-05-08 15:11:04.226 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:11:04.230 +07:00 [INF] Response: 200
2025-05-08 15:11:04.231 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 98.071ms
2025-05-08 15:11:05.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:11:05.973 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:11:05.976 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 15:11:05.978 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:05.979 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:05.980 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:05.981 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:11:05.982 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:05.983 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:05.984 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:05.987 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 15:11:05.990 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:11:05.995 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:11:05.999 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:06.002 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T08:11:06.0022997Z"
2025-05-08 15:11:06.006 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 15:11:06.007 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 20.9505ms
2025-05-08 15:11:06.009 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:11:06.010 +07:00 [INF] Response: 200
2025-05-08 15:11:06.011 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:06.011 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 38.0497ms
2025-05-08 15:11:06.015 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:11:06.0153922Z"
2025-05-08 15:11:06.020 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:06.021 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 33.0307ms
2025-05-08 15:11:06.023 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:06.024 +07:00 [INF] Response: 200
2025-05-08 15:11:06.024 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 51.301ms
2025-05-08 15:11:06.178 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:11:06.181 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:11:06.182 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:06.182 +07:00 [INF] Response: 204
2025-05-08 15:11:06.183 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 4.8585ms
2025-05-08 15:11:06.185 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:11:06.188 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:06.189 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:06.190 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:06.191 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:06.194 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:11:06.198 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:06.203 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:06.205 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:11:06.2057809Z"
2025-05-08 15:11:06.207 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:06.208 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.5782ms
2025-05-08 15:11:06.210 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:06.210 +07:00 [INF] Response: 200
2025-05-08 15:11:06.211 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 25.9951ms
2025-05-08 15:11:06.270 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:11:06.273 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:11:06.273 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:06.274 +07:00 [INF] Response: 204
2025-05-08 15:11:06.275 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 4.4212ms
2025-05-08 15:11:06.277 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:11:06.281 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:06.281 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:06.282 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:06.283 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:06.286 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:11:06.290 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:06.294 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:06.297 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:11:06.2977675Z"
2025-05-08 15:11:06.299 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:06.300 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.1747ms
2025-05-08 15:11:06.301 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:06.303 +07:00 [INF] Response: 200
2025-05-08 15:11:06.304 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 26.9017ms
2025-05-08 15:11:06.384 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:11:06.386 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:11:06.387 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:06.388 +07:00 [INF] Response: 204
2025-05-08 15:11:06.388 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 4.8307ms
2025-05-08 15:11:06.390 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:11:06.393 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:06.394 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:06.394 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:06.395 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:06.398 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:11:06.403 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:06.407 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:06.410 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 15:11:06.411 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:06.412 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.2534ms
2025-05-08 15:11:06.413 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:06.414 +07:00 [INF] Response: 400
2025-05-08 15:11:06.415 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 24.973ms
2025-05-08 15:11:07.745 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:11:07.749 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:11:07.750 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:07.750 +07:00 [INF] Response: 204
2025-05-08 15:11:07.751 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.8736ms
2025-05-08 15:11:07.752 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:11:07.758 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:07.758 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:07.759 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:07.759 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:07.762 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:11:07.765 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:07.769 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:07.772 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:11:07.7722159Z"
2025-05-08 15:11:07.774 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:07.775 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.1591ms
2025-05-08 15:11:07.776 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:07.777 +07:00 [INF] Response: 200
2025-05-08 15:11:07.778 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 25.5168ms
2025-05-08 15:11:07.821 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:11:07.824 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:11:07.825 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:07.826 +07:00 [INF] Response: 204
2025-05-08 15:11:07.826 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 5.6352ms
2025-05-08 15:11:07.828 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:11:07.833 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:07.834 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:07.835 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:07.836 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:07.839 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:11:07.842 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:07.846 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:07.850 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:11:07.8508121Z"
2025-05-08 15:11:07.852 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:07.854 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.512ms
2025-05-08 15:11:07.855 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:07.856 +07:00 [INF] Response: 200
2025-05-08 15:11:07.857 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 28.8108ms
2025-05-08 15:11:07.910 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 15:11:07.912 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:11:07.914 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:07.914 +07:00 [INF] Response: 204
2025-05-08 15:11:07.915 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.377ms
2025-05-08 15:11:07.916 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 15:11:07.922 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:07.922 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:07.923 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:07.923 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:07.926 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:11:07.930 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:07.935 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:07.938 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:11:07.9386080Z"
2025-05-08 15:11:07.940 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:07.942 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.5759ms
2025-05-08 15:11:07.943 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:07.944 +07:00 [INF] Response: 200
2025-05-08 15:11:07.945 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 28.9201ms
2025-05-08 15:11:08.014 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:11:08.018 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:11:08.018 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:08.019 +07:00 [INF] Response: 204
2025-05-08 15:11:08.019 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.4458ms
2025-05-08 15:11:08.021 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:11:08.026 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:11:08.027 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:08.027 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:08.028 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:11:08.031 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:11:08.036 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:08.040 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:08.042 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:11:08.044 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:08.046 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.2548ms
2025-05-08 15:11:08.047 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:11:08.048 +07:00 [INF] Response: 400
2025-05-08 15:11:08.049 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 27.6225ms
2025-05-08 15:11:11.796 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:11:11.800 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:11:25.338 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:11:25.341 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:11:25.342 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:25.342 +07:00 [INF] Response: 204
2025-05-08 15:11:25.343 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 4.7873ms
2025-05-08 15:11:25.344 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:11:25.349 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:11:25.350 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:11:25.351 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:11:25.352 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:11:25.355 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:11:25.358 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:11:25.363 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 15:11:25.365 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:11:25.366 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 11.271ms
2025-05-08 15:11:25.367 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:11:25.369 +07:00 [INF] Response: 400
2025-05-08 15:11:25.369 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 25.2557ms
2025-05-08 15:12:11.866 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:12:11.872 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:12:28.524 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:12:28.528 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:12:28.529 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:28.529 +07:00 [INF] Response: 204
2025-05-08 15:12:28.530 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.3798ms
2025-05-08 15:12:28.532 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:12:28.537 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:12:28.538 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:28.538 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:12:28.539 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:12:28.543 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:12:28.546 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:12:28.551 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:12:28.553 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:12:28.5536584Z"
2025-05-08 15:12:28.555 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:12:28.556 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 13.7242ms
2025-05-08 15:12:28.557 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:12:28.558 +07:00 [INF] Response: 200
2025-05-08 15:12:28.559 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 26.8481ms
2025-05-08 15:12:28.692 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:12:28.695 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:12:28.696 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:28.696 +07:00 [INF] Response: 204
2025-05-08 15:12:28.697 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 5.0882ms
2025-05-08 15:12:28.698 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:12:28.703 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:12:28.704 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:28.705 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:12:28.706 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:12:28.709 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:12:28.714 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:12:28.718 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:12:28.722 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:12:28.7220864Z"
2025-05-08 15:12:28.724 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:12:28.725 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.9028ms
2025-05-08 15:12:28.727 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:12:28.728 +07:00 [INF] Response: 200
2025-05-08 15:12:28.729 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 30.4785ms
2025-05-08 15:12:28.791 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 15:12:28.794 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:12:28.795 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:28.796 +07:00 [INF] Response: 204
2025-05-08 15:12:28.796 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.1541ms
2025-05-08 15:12:28.798 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 15:12:28.803 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:12:28.804 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:28.804 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:12:28.806 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:12:28.810 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:12:28.814 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:12:28.817 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:12:28.820 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:12:28.8203890Z"
2025-05-08 15:12:28.822 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:12:28.823 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.8852ms
2025-05-08 15:12:28.824 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:12:28.825 +07:00 [INF] Response: 200
2025-05-08 15:12:28.826 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 27.7416ms
2025-05-08 15:12:28.915 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:12:28.918 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:12:28.919 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:28.919 +07:00 [INF] Response: 204
2025-05-08 15:12:28.921 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.7229ms
2025-05-08 15:12:28.924 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:12:28.929 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:12:28.930 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:28.932 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:12:28.933 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:12:28.935 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:12:28.940 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:12:28.944 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:12:28.946 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:12:28.948 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:12:28.949 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.4596ms
2025-05-08 15:12:28.950 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:12:28.951 +07:00 [INF] Response: 400
2025-05-08 15:12:28.952 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 27.7707ms
2025-05-08 15:12:30.477 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:12:30.480 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:12:30.481 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:30.482 +07:00 [INF] Response: 204
2025-05-08 15:12:30.482 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 4.8771ms
2025-05-08 15:12:30.484 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:12:30.489 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:12:30.490 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:30.491 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:12:30.492 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:12:30.494 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:12:30.500 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:12:30.504 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 15:12:30.505 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:12:30.507 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 12.3208ms
2025-05-08 15:12:30.508 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:12:30.509 +07:00 [INF] Response: 400
2025-05-08 15:12:30.510 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 26.7795ms
2025-05-08 15:12:31.756 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:12:31.759 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:12:31.760 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:12:31.761 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:12:31.762 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:12:31.765 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:12:31.768 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:12:31.774 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 15:12:31.775 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:12:31.776 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 11.4401ms
2025-05-08 15:12:31.778 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:12:31.779 +07:00 [INF] Response: 400
2025-05-08 15:12:31.780 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 24.2024ms
2025-05-08 15:13:11.920 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:13:11.927 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:13:56.527 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:13:56.531 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:13:56.532 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:56.532 +07:00 [INF] Response: 204
2025-05-08 15:13:56.533 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.8196ms
2025-05-08 15:13:56.534 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:13:56.539 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:13:56.540 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:56.540 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:13:56.541 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:13:56.544 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:13:56.550 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:13:56.558 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:13:56.561 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:13:56.5610782Z"
2025-05-08 15:13:56.562 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:13:56.564 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 20.794ms
2025-05-08 15:13:56.565 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:13:56.566 +07:00 [INF] Response: 200
2025-05-08 15:13:56.567 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 32.5344ms
2025-05-08 15:13:56.637 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:13:56.639 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:13:56.640 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:56.641 +07:00 [INF] Response: 204
2025-05-08 15:13:56.641 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 4.3048ms
2025-05-08 15:13:56.643 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:13:56.646 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:13:56.647 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:56.648 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:13:56.649 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:13:56.652 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:13:56.655 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:13:56.660 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:13:56.662 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:13:56.6623972Z"
2025-05-08 15:13:56.664 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:13:56.665 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 13.9391ms
2025-05-08 15:13:56.666 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:13:56.667 +07:00 [INF] Response: 200
2025-05-08 15:13:56.667 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 24.7611ms
2025-05-08 15:13:56.725 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 15:13:56.727 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:13:56.728 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:56.729 +07:00 [INF] Response: 204
2025-05-08 15:13:56.729 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 4.2136ms
2025-05-08 15:13:56.731 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 15:13:56.735 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:13:56.736 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:56.736 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:13:56.737 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:13:56.740 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:13:56.744 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:13:56.748 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:13:56.751 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:13:56.7515006Z"
2025-05-08 15:13:56.753 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:13:56.754 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.9879ms
2025-05-08 15:13:56.755 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:13:56.756 +07:00 [INF] Response: 200
2025-05-08 15:13:56.757 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 26.1307ms
2025-05-08 15:13:56.828 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:13:56.831 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:13:56.831 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:56.832 +07:00 [INF] Response: 204
2025-05-08 15:13:56.833 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.0062ms
2025-05-08 15:13:56.835 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:13:56.838 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:13:56.838 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:56.839 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:13:56.840 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:13:56.842 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:13:56.847 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:13:56.851 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:13:56.853 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:13:56.854 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:13:56.855 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 13.8889ms
2025-05-08 15:13:56.856 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:13:56.857 +07:00 [INF] Response: 400
2025-05-08 15:13:56.858 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 22.9292ms
2025-05-08 15:13:57.641 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:13:57.644 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:13:57.645 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:57.645 +07:00 [INF] Response: 204
2025-05-08 15:13:57.646 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.5146ms
2025-05-08 15:13:57.647 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:13:57.653 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:13:57.653 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:57.654 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:13:57.655 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:13:57.657 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:13:57.662 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:13:57.664 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 15:13:57.665 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:13:57.666 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 8.9114ms
2025-05-08 15:13:57.667 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:13:57.668 +07:00 [INF] Response: 400
2025-05-08 15:13:57.668 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 21.063ms
2025-05-08 15:13:58.446 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:13:58.449 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:13:58.450 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:13:58.451 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:13:58.452 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:13:58.455 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:13:58.459 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:13:58.466 +07:00 [WRN] SignUpStaff attempt failed for Email {Email} - Email already exists
2025-05-08 15:13:58.467 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:13:58.469 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 14.4808ms
2025-05-08 15:13:58.470 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:13:58.471 +07:00 [INF] Response: 400
2025-05-08 15:13:58.472 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 26.0961ms
2025-05-08 15:14:11.984 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:14:11.988 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:14:56.322 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/swagger/index.html - null null
2025-05-08 15:14:56.338 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/swagger/index.html - 200 null text/html;charset=utf-8 16.546ms
2025-05-08 15:14:56.347 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/_vs/browserLink - null null
2025-05-08 15:14:56.347 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/_framework/aspnetcore-browser-refresh.js - null null
2025-05-08 15:14:56.358 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/_framework/aspnetcore-browser-refresh.js - 200 13762 application/javascript; charset=utf-8 10.5662ms
2025-05-08 15:14:56.375 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/_vs/browserLink - 200 null text/javascript; charset=UTF-8 27.7407ms
2025-05-08 15:14:56.439 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/swagger/v1/swagger.json - null null
2025-05-08 15:14:56.475 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 36.8035ms
2025-05-08 15:14:58.188 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:14:58.192 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:14:58.193 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:14:58.193 +07:00 [INF] Response: 204
2025-05-08 15:14:58.194 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.9724ms
2025-05-08 15:14:58.196 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:14:58.204 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:14:58.205 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:14:58.206 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:14:58.211 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:14:58.217 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:14:58.222 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:14:58.227 +07:00 [WRN] Email already exists
2025-05-08 15:14:58.228 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:14:58.230 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 17.1592ms
2025-05-08 15:14:58.232 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:14:58.233 +07:00 [INF] Response: 400
2025-05-08 15:14:58.234 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 38.1257ms
2025-05-08 15:14:59.177 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:14:59.180 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:14:59.181 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:14:59.182 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:14:59.183 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:14:59.185 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:14:59.189 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:14:59.194 +07:00 [WRN] Email already exists
2025-05-08 15:14:59.195 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:14:59.196 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 11.3454ms
2025-05-08 15:14:59.198 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:14:59.199 +07:00 [INF] Response: 400
2025-05-08 15:14:59.200 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 22.8874ms
2025-05-08 15:15:02.965 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:15:02.968 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:15:02.970 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:02.970 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:15:02.971 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:15:02.973 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:15:02.978 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:15:02.981 +07:00 [WRN] Email already exists
2025-05-08 15:15:02.981 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:15:02.983 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 9.9887ms
2025-05-08 15:15:02.984 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:15:02.985 +07:00 [INF] Response: 400
2025-05-08 15:15:02.985 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 400 null application/json; charset=utf-8 20.5424ms
2025-05-08 15:15:07.157 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - null null
2025-05-08 15:15:07.160 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-up/staff
2025-05-08 15:15:07.161 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.161 +07:00 [INF] Response: 204
2025-05-08 15:15:07.162 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-up/staff - 204 null null 5.2193ms
2025-05-08 15:15:07.164 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - application/json 134
2025-05-08 15:15:07.169 +07:00 [INF] Incoming Request: POST /api/Auth/sign-up/staff
2025-05-08 15:15:07.170 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.170 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:15:07.171 +07:00 [INF] Route matched with {action = "SignUpStaff", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignUpStaff(CinemaHub.API.Models.SignUpUserModel) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:15:07.173 +07:00 [INF] SignUpStaff API called.
2025-05-08 15:15:07.177 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:15:07.271 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 15:15:07.276 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 15:15:07.284 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p4='?' (Size = 4000), @p5='?' (DbType = DateTime2), @p6='?' (Size = 256), @p7='?' (DbType = Boolean), @p8='?' (Size = 4000), @p9='?' (DbType = Boolean), @p10='?' (DbType = DateTimeOffset), @p11='?' (Size = 256), @p12='?' (Size = 256), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (DbType = Boolean), @p18='?' (Size = 4000), @p19='?' (Size = 4000), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (Size = 256), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AccountLockUntil], [Balance], [ConcurrencyStamp], [CreatedAt], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [OtpCode], [OtpExpiration], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [ProfilePicture], [SecurityStamp], [Status], [TwoFactorEnabled], [UserName], [ViolationCount])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-05-08 15:15:07.290 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-05-08 15:15:07.293 +07:00 [WRN] Role a682548e-983e-404e-b4b1-f632b880f0b9 validation failed: DuplicateRoleName.
2025-05-08 15:15:07.297 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:15:07.302 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1
2025-05-08 15:15:07.306 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:15:07.310 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-05-08 15:15:07.314 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2025-05-08 15:15:07.325 +07:00 [INF] Executed DbCommand (7ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450), @p25='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (Size = 4000), @p26='?' (Size = 4000), @p6='?' (DbType = DateTime2), @p7='?' (Size = 256), @p8='?' (DbType = Boolean), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTimeOffset), @p12='?' (Size = 256), @p13='?' (Size = 256), @p14='?' (Size = 4000), @p15='?' (DbType = DateTime2), @p16='?' (Size = 4000), @p17='?' (Size = 4000), @p18='?' (DbType = Boolean), @p19='?' (Size = 4000), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (Size = 256), @p24='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [AccountLockUntil] = @p3, [Balance] = @p4, [ConcurrencyStamp] = @p5, [CreatedAt] = @p6, [Email] = @p7, [EmailConfirmed] = @p8, [FullName] = @p9, [LockoutEnabled] = @p10, [LockoutEnd] = @p11, [NormalizedEmail] = @p12, [NormalizedUserName] = @p13, [OtpCode] = @p14, [OtpExpiration] = @p15, [PasswordHash] = @p16, [PhoneNumber] = @p17, [PhoneNumberConfirmed] = @p18, [ProfilePicture] = @p19, [SecurityStamp] = @p20, [Status] = @p21, [TwoFactorEnabled] = @p22, [UserName] = @p23, [ViolationCount] = @p24
OUTPUT 1
WHERE [Id] = @p25 AND [ConcurrencyStamp] = @p26;
2025-05-08 15:15:07.329 +07:00 [INF] SignUpStaff completed successfully for Email hongthu6267@gmail.com at "2025-05-08T08:15:07.3295198Z"
2025-05-08 15:15:07.330 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[Microsoft.AspNetCore.Identity.IdentityResult, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-05-08 15:15:07.333 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API) in 159.9959ms
2025-05-08 15:15:07.335 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignUpStaff (CinemaHub.API)'
2025-05-08 15:15:07.336 +07:00 [INF] Response: 200
2025-05-08 15:15:07.337 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-up/staff - 200 null application/json; charset=utf-8 172.792ms
2025-05-08 15:15:07.402 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:15:07.406 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:15:07.407 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.407 +07:00 [INF] Response: 204
2025-05-08 15:15:07.408 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.5695ms
2025-05-08 15:15:07.410 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:15:07.415 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:15:07.416 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.417 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:15:07.422 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:15:07.426 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:15:07.430 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:15:07.437 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:15:07.440 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:15:07.4407768Z"
2025-05-08 15:15:07.446 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:15:07.449 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 24.6914ms
2025-05-08 15:15:07.451 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:15:07.452 +07:00 [INF] Response: 200
2025-05-08 15:15:07.453 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 42.9872ms
2025-05-08 15:15:07.491 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:15:07.494 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:15:07.495 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.495 +07:00 [INF] Response: 204
2025-05-08 15:15:07.496 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 204 null null 4.3592ms
2025-05-08 15:15:07.498 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - null null
2025-05-08 15:15:07.502 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:15:07.502 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.503 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:15:07.504 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:15:07.508 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:15:07.511 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:15:07.516 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:15:07.518 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:15:07.5182543Z"
2025-05-08 15:15:07.520 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:15:07.523 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.0373ms
2025-05-08 15:15:07.524 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:15:07.525 +07:00 [INF] Response: 200
2025-05-08 15:15:07.529 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=89443d5e-62bd-40bc-82b3-8b316072b047 - 200 null application/json; charset=utf-8 31.6683ms
2025-05-08 15:15:07.580 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 15:15:07.583 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:15:07.583 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.584 +07:00 [INF] Response: 204
2025-05-08 15:15:07.584 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 204 null null 4.2385ms
2025-05-08 15:15:07.585 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - null null
2025-05-08 15:15:07.590 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:15:07.590 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.591 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:15:07.591 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:15:07.594 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:15:07.598 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:15:07.602 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:15:07.605 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:15:07.6052514Z"
2025-05-08 15:15:07.606 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:15:07.608 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.1803ms
2025-05-08 15:15:07.609 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:15:07.610 +07:00 [INF] Response: 200
2025-05-08 15:15:07.611 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=28e1aef4-7a8a-40f3-a0f5-fd3e325d0726 - 200 null application/json; charset=utf-8 25.5581ms
2025-05-08 15:15:07.657 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:15:07.659 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:15:07.660 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.661 +07:00 [INF] Response: 204
2025-05-08 15:15:07.661 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 4.883ms
2025-05-08 15:15:07.663 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:15:07.667 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:15:07.667 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:15:07.668 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:15:07.669 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:15:07.673 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:15:07.677 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:15:07.680 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:15:07.682 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:15:07.683 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:15:07.686 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 13.9073ms
2025-05-08 15:15:07.687 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:15:07.687 +07:00 [INF] Response: 400
2025-05-08 15:15:07.688 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 25.3982ms
2025-05-08 15:15:12.051 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:15:12.054 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:12.121 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:16:12.128 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:16.229 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:16:16.232 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:16:16.233 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.233 +07:00 [INF] Response: 204
2025-05-08 15:16:16.234 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 4.6805ms
2025-05-08 15:16:16.236 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:16:16.241 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:16:16.241 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.242 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.243 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:16:16.246 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:16:16.249 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:16:16.254 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:16.258 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:16:16.2579979Z"
2025-05-08 15:16:16.259 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:16:16.260 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.1593ms
2025-05-08 15:16:16.262 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.262 +07:00 [INF] Response: 200
2025-05-08 15:16:16.263 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 27.5465ms
2025-05-08 15:16:16.306 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:16:16.309 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:16:16.310 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.310 +07:00 [INF] Response: 204
2025-05-08 15:16:16.311 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 204 null null 4.9893ms
2025-05-08 15:16:16.312 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - null null
2025-05-08 15:16:16.316 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:16:16.316 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.317 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.318 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:16:16.322 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:16:16.326 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:16:16.331 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:16.335 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:16:16.3350838Z"
2025-05-08 15:16:16.336 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:16:16.337 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 17.6206ms
2025-05-08 15:16:16.338 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.339 +07:00 [INF] Response: 200
2025-05-08 15:16:16.340 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=7ad79b0d-365b-428e-8ddd-b048a4b84eb1 - 200 null application/json; charset=utf-8 27.5533ms
2025-05-08 15:16:16.390 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:16:16.393 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:16:16.394 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.394 +07:00 [INF] Response: 204
2025-05-08 15:16:16.395 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 204 null null 5.4826ms
2025-05-08 15:16:16.397 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - null null
2025-05-08 15:16:16.401 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:16:16.402 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.403 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.404 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:16:16.407 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:16:16.410 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:16:16.414 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:16.416 +07:00 [INF] ViewAccountsByRole completed successfully for Role User at "2025-05-08T08:16:16.4169348Z"
2025-05-08 15:16:16.418 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:16:16.420 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.1536ms
2025-05-08 15:16:16.421 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.422 +07:00 [INF] Response: 200
2025-05-08 15:16:16.423 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=6169bf4d-7542-4ee9-acbb-136bebedf019 - 200 null application/json; charset=utf-8 26.1431ms
2025-05-08 15:16:16.468 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:16:16.471 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:16:16.472 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.472 +07:00 [INF] Response: 204
2025-05-08 15:16:16.473 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 204 null null 5.2242ms
2025-05-08 15:16:16.475 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - null null
2025-05-08 15:16:16.478 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:16:16.479 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.480 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.480 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:16:16.484 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:16:16.488 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:16:16.492 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:16.495 +07:00 [WRN] ViewAccountsByRole attempt failed for Role User - Account not found
2025-05-08 15:16:16.496 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:16:16.497 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 14.5577ms
2025-05-08 15:16:16.499 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.500 +07:00 [INF] Response: 400
2025-05-08 15:16:16.500 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=0ec69f02-8fa8-4eec-815e-8e9ee34409e1 - 400 null application/json; charset=utf-8 25.6835ms
2025-05-08 15:16:16.798 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:16:16.801 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:16:16.803 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.804 +07:00 [INF] Response: 204
2025-05-08 15:16:16.805 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.9906ms
2025-05-08 15:16:16.806 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:16:16.811 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:16:16.813 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.815 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.816 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:16:16.820 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:16:16.824 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:16:16.828 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:16.831 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:16:16.8318342Z"
2025-05-08 15:16:16.833 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:16:16.835 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 16.4317ms
2025-05-08 15:16:16.837 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.838 +07:00 [INF] Response: 200
2025-05-08 15:16:16.838 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 200 null application/json; charset=utf-8 32.2812ms
2025-05-08 15:16:16.884 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 15:16:16.887 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:16:16.888 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.888 +07:00 [INF] Response: 204
2025-05-08 15:16:16.889 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 204 null null 5.618ms
2025-05-08 15:16:16.891 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - null null
2025-05-08 15:16:16.896 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:16:16.897 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.898 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.899 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:16:16.904 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:16:16.908 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:16:16.913 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:16.915 +07:00 [INF] ViewAccountsByRole completed successfully for Role Staff at "2025-05-08T08:16:16.9159581Z"
2025-05-08 15:16:16.918 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:16:16.919 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 15.9636ms
2025-05-08 15:16:16.920 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:16.921 +07:00 [INF] Response: 200
2025-05-08 15:16:16.922 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=16dfb1a7-51cb-4c28-8e72-e96ed6f1617d - 200 null application/json; charset=utf-8 31.2292ms
2025-05-08 15:16:16.991 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:16:16.994 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:16:16.995 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:16.996 +07:00 [INF] Response: 204
2025-05-08 15:16:16.996 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 204 null null 5.8265ms
2025-05-08 15:16:16.998 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - null null
2025-05-08 15:16:17.003 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:16:17.004 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:16:17.005 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:17.006 +07:00 [INF] Route matched with {action = "ViewAccountsByRole", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewAccountsByRole(System.String, Int32, System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:16:17.010 +07:00 [INF] ViewAccountsByRole API called.
2025-05-08 15:16:17.015 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:16:17.021 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:16:17.024 +07:00 [WRN] ViewAccountsByRole attempt failed for Role Staff - Account not found
2025-05-08 15:16:17.025 +07:00 [INF] Executing BadRequestObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:16:17.027 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API) in 18.0083ms
2025-05-08 15:16:17.028 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewAccountsByRole (CinemaHub.API)'
2025-05-08 15:16:17.029 +07:00 [INF] Response: 400
2025-05-08 15:16:17.030 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=040c3da1-8d1d-418c-8381-28d289fd4611 - 400 null application/json; charset=utf-8 31.8683ms
2025-05-08 15:17:12.159 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:17:12.163 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
2025-05-08 15:17:37.316 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/hongthu6262@gmail.com - null null
2025-05-08 15:17:37.319 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/hongthu6262@gmail.com
2025-05-08 15:17:37.320 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:37.320 +07:00 [INF] Response: 204
2025-05-08 15:17:37.321 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/hongthu6262@gmail.com - 204 null null 5.4767ms
2025-05-08 15:17:37.323 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/hongthu6262@gmail.com - null null
2025-05-08 15:17:37.332 +07:00 [INF] Incoming Request: GET /api/Account/email/hongthu6262@gmail.com
2025-05-08 15:17:37.333 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:37 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:37.336 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:37 AM'.
2025-05-08 15:17:37.337 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:37.338 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:17:37.342 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:17:37.345 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 15:17:37.351 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:17:37.355 +07:00 [INF] ViewProfileByEmail completed successfully for Email hongthu6262@gmail.com at "2025-05-08T08:17:37.3555630Z"
2025-05-08 15:17:37.356 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 15:17:37.359 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 14.7682ms
2025-05-08 15:17:37.361 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:17:37.362 +07:00 [INF] Response: 200
2025-05-08 15:17:37.363 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/hongthu6262@gmail.com - 200 null application/json; charset=utf-8 40.0685ms
2025-05-08 15:17:39.928 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account - null null
2025-05-08 15:17:39.931 +07:00 [INF] Incoming Request: OPTIONS /api/Account
2025-05-08 15:17:39.932 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:39.933 +07:00 [INF] Response: 204
2025-05-08 15:17:39.933 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account - 204 null null 6.1381ms
2025-05-08 15:17:39.935 +07:00 [INF] Request starting HTTP/2 PUT https://localhost:7182/api/Account - application/json 318
2025-05-08 15:17:39.941 +07:00 [INF] Incoming Request: PUT /api/Account
2025-05-08 15:17:39.942 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:39 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:39.944 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:39 AM'.
2025-05-08 15:17:39.945 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:39.946 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.UpdateAccount (CinemaHub.API)'
2025-05-08 15:17:39.950 +07:00 [INF] Route matched with {action = "UpdateAccount", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateAccount(CinemaHub.API.Models.UpdateAccountModel) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:17:39.958 +07:00 [INF] UpdateAccount API called.
2025-05-08 15:17:39.965 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:17:39.976 +07:00 [INF] Executed DbCommand (5ms) [Parameters=[@p23='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (Size = 4000), @p24='?' (Size = 4000), @p4='?' (DbType = DateTime2), @p5='?' (Size = 256), @p6='?' (DbType = Boolean), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (DbType = Boolean), @p21='?' (Size = 256), @p22='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [AccountLockUntil] = @p1, [Balance] = @p2, [ConcurrencyStamp] = @p3, [CreatedAt] = @p4, [Email] = @p5, [EmailConfirmed] = @p6, [FullName] = @p7, [LockoutEnabled] = @p8, [LockoutEnd] = @p9, [NormalizedEmail] = @p10, [NormalizedUserName] = @p11, [OtpCode] = @p12, [OtpExpiration] = @p13, [PasswordHash] = @p14, [PhoneNumber] = @p15, [PhoneNumberConfirmed] = @p16, [ProfilePicture] = @p17, [SecurityStamp] = @p18, [Status] = @p19, [TwoFactorEnabled] = @p20, [UserName] = @p21, [ViolationCount] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2025-05-08 15:17:39.980 +07:00 [INF] UpdateAccount completed successfully for Email hongthu6262@gmail.com at "2025-05-08T08:17:39.9804459Z"
2025-05-08 15:17:39.981 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[Microsoft.AspNetCore.Identity.IdentityResult, Microsoft.Extensions.Identity.Core, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60]]'.
2025-05-08 15:17:39.982 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.UpdateAccount (CinemaHub.API) in 29.3302ms
2025-05-08 15:17:39.983 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.UpdateAccount (CinemaHub.API)'
2025-05-08 15:17:39.984 +07:00 [INF] Response: 200
2025-05-08 15:17:39.985 +07:00 [INF] Request finished HTTP/2 PUT https://localhost:7182/api/Account - 200 null application/json; charset=utf-8 50.3846ms
2025-05-08 15:17:40.042 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:40.045 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:17:40.046 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:40.047 +07:00 [INF] Response: 204
2025-05-08 15:17:40.047 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.2856ms
2025-05-08 15:17:40.049 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:40.055 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:17:40.056 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:40 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:40.058 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:40 AM'.
2025-05-08 15:17:40.060 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:17:40.061 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:17:40.062 +07:00 [INF] Response: 401
2025-05-08 15:17:40.063 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 14.5ms
2025-05-08 15:17:45.412 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:45.414 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:17:45.415 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:45.416 +07:00 [INF] Response: 204
2025-05-08 15:17:45.417 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 5.0314ms
2025-05-08 15:17:45.418 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:45.424 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:17:45.425 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:45 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:45.428 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:45 AM'.
2025-05-08 15:17:45.429 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:17:45.430 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:17:45.432 +07:00 [INF] Response: 401
2025-05-08 15:17:45.433 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 14.4904ms
2025-05-08 15:17:46.082 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:46.085 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:17:46.086 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:46.087 +07:00 [INF] Response: 204
2025-05-08 15:17:46.088 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 6.4651ms
2025-05-08 15:17:46.089 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:46.097 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:17:46.098 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:46 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:46.100 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:46 AM'.
2025-05-08 15:17:46.101 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:17:46.103 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:17:46.104 +07:00 [INF] Response: 401
2025-05-08 15:17:46.105 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 15.517ms
2025-05-08 15:17:47.084 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:47.086 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:17:47.087 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:47 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:47.089 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:47 AM'.
2025-05-08 15:17:47.090 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:17:47.092 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:17:47.094 +07:00 [INF] Response: 401
2025-05-08 15:17:47.094 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 10.9872ms
2025-05-08 15:17:47.707 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:47.711 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:17:47.712 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:47 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:47.713 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:47 AM'.
2025-05-08 15:17:47.715 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:17:47.716 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:17:47.717 +07:00 [INF] Response: 401
2025-05-08 15:17:47.718 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=Staff&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 10.9535ms
2025-05-08 15:17:49.010 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:49.013 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:17:49.015 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:49 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:49.017 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:49 AM'.
2025-05-08 15:17:49.018 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:17:49.019 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:17:49.021 +07:00 [INF] Response: 401
2025-05-08 15:17:49.022 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 11.6073ms
2025-05-08 15:17:50.451 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:17:50.451 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - null null
2025-05-08 15:17:50.451 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:50.458 +07:00 [INF] Incoming Request: OPTIONS /api/Account/email/minh0412@gmail.com
2025-05-08 15:17:50.461 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:17:50.463 +07:00 [INF] Incoming Request: OPTIONS /api/Account/roles
2025-05-08 15:17:50.464 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:50.464 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:50.465 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:50.465 +07:00 [INF] Response: 204
2025-05-08 15:17:50.466 +07:00 [INF] Response: 204
2025-05-08 15:17:50.466 +07:00 [INF] Response: 204
2025-05-08 15:17:50.467 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/email/minh0412@gmail.com - 204 null null 16.3616ms
2025-05-08 15:17:50.467 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 204 null null 16.8244ms
2025-05-08 15:17:50.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - null null
2025-05-08 15:17:50.470 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - application/json 2
2025-05-08 15:17:50.468 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 204 null null 16.7591ms
2025-05-08 15:17:50.471 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - null null
2025-05-08 15:17:50.484 +07:00 [INF] Incoming Request: GET /api/Account/email/minh0412@gmail.com
2025-05-08 15:17:50.487 +07:00 [INF] Incoming Request: POST /api/Auth/renew-access-token/minh0412@gmail.com
2025-05-08 15:17:50.492 +07:00 [INF] Incoming Request: GET /api/Account/roles
2025-05-08 15:17:50.493 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:50 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:50.494 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:50 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:50.495 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:50 AM'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-05-08 15:17:50.496 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:50 AM'.
2025-05-08 15:17:50.498 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:50 AM'.
2025-05-08 15:17:50.499 +07:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '5/8/2025 8:12:04 AM', Current time (UTC): '5/8/2025 8:17:50 AM'.
2025-05-08 15:17:50.500 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:50.501 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:17:50.502 +07:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Manager|Staff)
2025-05-08 15:17:50.502 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:17:50.502 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:17:50.504 +07:00 [INF] Route matched with {action = "ViewProfileByEmail", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewProfileByEmail(System.String) on controller CinemaHub.API.Controllers.AccountController (CinemaHub.API).
2025-05-08 15:17:50.504 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-08 15:17:50.507 +07:00 [INF] ViewProfileByEmail API called.
2025-05-08 15:17:50.508 +07:00 [INF] Response: 401
2025-05-08 15:17:50.509 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/roles?role=User&pageSize=3&userId=FFFFFFFF-FFFF-FFFF-FFFF-FFFFFFFFFFFF - 401 null application/json 38.7144ms
2025-05-08 15:17:50.512 +07:00 [INF] Route matched with {action = "RenewAccessToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RenewAccessToken(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:17:50.511 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:17:50.516 +07:00 [INF] RenewAccessToken API called.
2025-05-08 15:17:50.519 +07:00 [INF] ViewProfileByEmail completed successfully for Email minh0412@gmail.com at "2025-05-08T08:17:50.5192219Z"
2025-05-08 15:17:50.521 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[CinemaHub.Application.DTOs.Response.AccountResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-05-08 15:17:50.522 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:17:50.524 +07:00 [INF] Executed action CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API) in 16.7251ms
2025-05-08 15:17:50.528 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AccountController.ViewProfileByEmail (CinemaHub.API)'
2025-05-08 15:17:50.529 +07:00 [INF] Response: 200
2025-05-08 15:17:50.529 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Account/email/minh0412@gmail.com - 200 null application/json; charset=utf-8 58.8633ms
2025-05-08 15:17:50.531 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 15:17:50.539 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-05-08 15:17:50.542 +07:00 [INF] RenewAccessToken completed successful for Email minh0412@gmail.com at "2025-05-08T08:17:50.5427079Z"
2025-05-08 15:17:50.543 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:17:50.544 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API) in 28.163ms
2025-05-08 15:17:50.545 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.RenewAccessToken (CinemaHub.API)'
2025-05-08 15:17:50.546 +07:00 [INF] Response: 200
2025-05-08 15:17:50.547 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/renew-access-token/minh0412@gmail.com - 200 null application/json; charset=utf-8 77.6113ms
2025-05-08 15:18:02.415 +07:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/minh0412@gmail.com - null null
2025-05-08 15:18:02.418 +07:00 [INF] Incoming Request: OPTIONS /api/Auth/sign-out/minh0412@gmail.com
2025-05-08 15:18:02.419 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:18:02.419 +07:00 [INF] Response: 204
2025-05-08 15:18:02.420 +07:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7182/api/Auth/sign-out/minh0412@gmail.com - 204 null null 5.8085ms
2025-05-08 15:18:02.422 +07:00 [INF] Request starting HTTP/2 POST https://localhost:7182/api/Auth/sign-out/minh0412@gmail.com - application/json 2
2025-05-08 15:18:02.426 +07:00 [INF] Incoming Request: POST /api/Auth/sign-out/minh0412@gmail.com
2025-05-08 15:18:02.427 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:18:02.428 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 15:18:02.431 +07:00 [INF] Route matched with {action = "SignOut", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SignOut(System.String) on controller CinemaHub.API.Controllers.AuthController (CinemaHub.API).
2025-05-08 15:18:02.434 +07:00 [INF] SignOut API called.
2025-05-08 15:18:02.437 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__email_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AccountLockUntil], [a].[Balance], [a].[ConcurrencyStamp], [a].[CreatedAt], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[OtpCode], [a].[OtpExpiration], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[ProfilePicture], [a].[SecurityStamp], [a].[Status], [a].[TwoFactorEnabled], [a].[UserName], [a].[ViolationCount]
FROM [AspNetUsers] AS [a]
WHERE [a].[Email] = @__email_0
2025-05-08 15:18:02.442 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 200), @__userId_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[Id], [u].[CreatedAt], [u].[ExpiresAt], [u].[Revoked], [u].[Token], [u].[UserId]
FROM [UserRefreshToken] AS [u]
WHERE [u].[Token] = @__refreshToken_0 AND [u].[UserId] = @__userId_1 AND [u].[Revoked] = CAST(0 AS bit)
2025-05-08 15:18:02.446 +07:00 [INF] Request starting HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - null null
2025-05-08 15:18:02.449 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@p5='?' (DbType = Guid), @p0='?' (DbType = DateTime), @p1='?' (DbType = DateTime), @p2='?' (DbType = Boolean), @p3='?' (Size = 200), @p4='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [UserRefreshToken] SET [CreatedAt] = @p0, [ExpiresAt] = @p1, [Revoked] = @p2, [Token] = @p3, [UserId] = @p4
OUTPUT 1
WHERE [Id] = @p5;
2025-05-08 15:18:02.450 +07:00 [INF] Incoming Request: GET /api/Rating/ratings/statistic
2025-05-08 15:18:02.452 +07:00 [INF] SignOut completed successful for Email minh0412@gmail.com at "2025-05-08T08:18:02.4526766Z"
2025-05-08 15:18:02.453 +07:00 [INF] CORS policy execution successful.
2025-05-08 15:18:02.453 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:18:02.454 +07:00 [INF] Executing endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 15:18:02.457 +07:00 [INF] Executed action CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API) in 22.7941ms
2025-05-08 15:18:02.458 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.AuthController.SignOut (CinemaHub.API)'
2025-05-08 15:18:02.459 +07:00 [INF] Response: 200
2025-05-08 15:18:02.460 +07:00 [INF] Request finished HTTP/2 POST https://localhost:7182/api/Auth/sign-out/minh0412@gmail.com - 200 null application/json; charset=utf-8 38.5334ms
2025-05-08 15:18:02.460 +07:00 [INF] Route matched with {action = "ViewRatingStatistic", controller = "Rating"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ViewRatingStatisticAsync(Boolean, Int32, System.String) on controller CinemaHub.API.Controllers.RatingController (CinemaHub.API).
2025-05-08 15:18:02.467 +07:00 [INF] ViewRatingStatistic API called.
2025-05-08 15:18:02.482 +07:00 [INF] Executed DbCommand (11ms) [Parameters=[@__p_2='?' (DbType = Int32), @__status_0='?' (DbType = Boolean), @__Parse_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[MovieID], [t].[Description], [t].[Director], [t].[Duration], [t].[Language], [t].[ReleaseDate], [t].[Status], [t].[Thumbnail], [t].[Title], [t].[TrailerURL], [t].[UploadedBy], [t].[VideoURL], [t0].[GenreID], [t0].[GenreName], [t0].[MovieID], [t0].[GenreID0], [w].[HistoryID], [w].[MovieID], [w].[Progress], [w].[UserID], [w].[WatchedAt]
FROM (
    SELECT TOP(@__p_2) [m].[MovieID], [m].[Description], [m].[Director], [m].[Duration], [m].[Language], [m].[ReleaseDate], [m].[Status], [m].[Thumbnail], [m].[Title], [m].[TrailerURL], [m].[UploadedBy], [m].[VideoURL]
    FROM [Movies] AS [m]
    WHERE [m].[Status] = @__status_0 AND [m].[MovieID] < @__Parse_1
    ORDER BY [m].[MovieID] DESC
) AS [t]
LEFT JOIN (
    SELECT [m1].[GenreID], [m1].[GenreName], [m0].[MovieID], [m0].[GenreID] AS [GenreID0]
    FROM [MovieGenreMapping] AS [m0]
    INNER JOIN [MovieGenres] AS [m1] ON [m0].[GenreID] = [m1].[GenreID]
) AS [t0] ON [t].[MovieID] = [t0].[MovieID]
LEFT JOIN [WatchHistory] AS [w] ON [t].[MovieID] = [w].[MovieID]
ORDER BY [t].[MovieID] DESC, [t0].[MovieID], [t0].[GenreID0], [t0].[GenreID]
2025-05-08 15:18:02.493 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 15:18:02.498 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 15:18:02.502 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 15:18:02.506 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 15:18:02.509 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[@__rating_MovieId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RatingID], [r].[CreatedAt], [r].[MovieID], [r].[Rating], [r].[Status], [r].[UserID]
FROM [Ratings] AS [r]
WHERE [r].[MovieID] = @__rating_MovieId_0 AND [r].[Status] = CAST(1 AS bit)
2025-05-08 15:18:02.512 +07:00 [INF] ViewRatingStatistic completed successfully at "2025-05-08T08:18:02.5126079Z"
2025-05-08 15:18:02.515 +07:00 [INF] Executing OkObjectResult, writing value of type 'CinemaHub.API.Models.ApiResponse`1[[System.Collections.Generic.List`1[[CinemaHub.Application.DTOs.Response.ViewRatingStatisticResponse, CinemaHub.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-08 15:18:02.518 +07:00 [INF] Executed action CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API) in 51.9191ms
2025-05-08 15:18:02.520 +07:00 [INF] Executed endpoint 'CinemaHub.API.Controllers.RatingController.ViewRatingStatisticAsync (CinemaHub.API)'
2025-05-08 15:18:02.521 +07:00 [INF] Response: 200
2025-05-08 15:18:02.522 +07:00 [INF] Request finished HTTP/2 GET https://localhost:7182/api/Rating/ratings/statistic?status=true&pageSize=5&movieId=1000000 - 200 null application/json; charset=utf-8 75.4815ms
2025-05-08 15:18:12.226 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2025-05-08 15:18:12.231 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Id], [a0].[AccessFailedCount], [a0].[AccountLockUntil], [a0].[Balance], [a0].[ConcurrencyStamp], [a0].[CreatedAt], [a0].[Email], [a0].[EmailConfirmed], [a0].[FullName], [a0].[LockoutEnabled], [a0].[LockoutEnd], [a0].[NormalizedEmail], [a0].[NormalizedUserName], [a0].[OtpCode], [a0].[OtpExpiration], [a0].[PasswordHash], [a0].[PhoneNumber], [a0].[PhoneNumberConfirmed], [a0].[ProfilePicture], [a0].[SecurityStamp], [a0].[Status], [a0].[TwoFactorEnabled], [a0].[UserName], [a0].[ViolationCount]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetUsers] AS [a0] ON [a].[UserId] = [a0].[Id]
WHERE [a].[RoleId] = @__role_Id_0
